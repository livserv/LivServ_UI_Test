"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[3494],{6834:(e,t,n)=>{n.d(t,{A:()=>b});var o=n(9950),i=n(60899),a=n(3788),r=n(81616),c=n(2660),s=n(10226),l=n(29714),d=n(61467),u=n(24516),h=n(21788),p=n(32829),v=n(93383),m=n(77382),A=n(44414);const g=()=>l.Yj(),f=l.Ik().shape({question:g(),content:g()});const b=function(e){let{document:t={},onCancel:n,onUpdate:l}=e;const g=o.useCallback(()=>n(!1),[n]);return(0,A.jsx)(d.l1,{initialValues:t,validationSchema:f,onSubmit:async(e,t)=>{let{setStatus:n,setSubmitting:o}=t;try{const t=await(0,m.Mk)(e);n({success:!1}),o(!1),g(),(0,h.i)(!0,"Content added successfully!","success"),null===l||void 0===l||l(t)}catch(i){console.error(i),(0,h.i)(!0,"Error occurred while trying to save content.","error")}},children:e=>{let{values:t,errors:n,handleChange:o,touched:l,isSubmitting:d,handleSubmit:h}=e;return(0,A.jsxs)("form",{noValidate:!0,onSubmit:h,children:[(0,A.jsxs)(i.Ay,{item:!0,xs:12,mt:5,children:[(0,A.jsx)(a.A,{htmlFor:"question",children:"Question"}),(0,A.jsxs)(r.A,{spacing:2,mb:3,children:[(0,A.jsx)(c.A,{multiline:!0,fullWidth:!0,id:"question",name:"question",value:t.question,onChange:o,placeholder:"Please enter the question"}),l.question&&n.question&&(0,A.jsx)(u.A,{error:!0,id:"helper-text-message-placeholder",children:n.question})]}),(0,A.jsx)(a.A,{htmlFor:"content",children:"Answer"}),(0,A.jsxs)(r.A,{spacing:2,mb:3,children:[(0,A.jsx)(c.A,{multiline:!0,rows:6,fullWidth:!0,id:"content",name:"content",value:t.content,onChange:o,placeholder:"Please enter the answer"}),l.content&&n.content&&(0,A.jsx)(u.A,{error:!0,id:"helper-text-message-placeholder",children:n.content})]})]}),(0,A.jsx)(i.Ay,{item:!0,xs:12,display:"flex",justifyContent:"flex-end",children:(0,A.jsxs)(r.A,{spacing:2,direction:"row",children:[(0,A.jsx)(s.A,{variant:"outlined",onClick:g,children:"Cancel"}),(0,A.jsx)(p.A,{children:(0,A.jsx)(v.A,{isLoading:d,color:"primary",size:"large",type:"submit",variant:"contained",onClick:h,children:"Save"})})]})})]})}})}},7999:(e,t,n)=>{var o=n(24994);t.A=void 0;var i=o(n(79526)),a=n(44414);t.A=(0,i.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},8478:(e,t,n)=>{n.d(t,{Jt:()=>l,TF:()=>h,bE:()=>d,yJ:()=>u});var o=n(89379),i=n(80045),a=n(32026),r=n(44364);const c=["headers","noAuth"],s=["data"];async function l(e,t){return p("GET",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,t){return p("POST",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(e,t){return p("PUT",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function h(e,t){return p("DELETE",e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function p(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:r,noAuth:l}=a,d=(0,i.A)(a,c);const u="POST"===e||"PUT"===e||"DELETE"===e;t=function(e,t){if(!e)return e;const n=t&&Object.keys(t);if(null!==n&&void 0!==n&&n.length){const o=n.reduce((e,n)=>{let o=t[n];return null===o||void 0===o?e:(o="".concat(n,"=").concat(encodeURIComponent(o)),e?"".concat(e,"&").concat(o):o)},"");o&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(o))}if(e.startsWith("https://"))return e;return"".concat(v).concat(e)}(t,u?void 0:n);const h=n instanceof FormData;if(h||(n=n&&"object"===typeof n&&u?JSON.stringify(n):void 0),r||(r={}),h||(r["Content-Type"]="application/json"),r.Accept="application/json",!1!==l){const e=sessionStorage.getItem("token");e&&(r.Authorization="Bearer ".concat(e))}try{const a=await fetch(t,(0,o.A)((0,o.A)({},d),{},{headers:r,body:n,method:e})),c=await a.json();if(a.ok){const{data:e}=c,t=(0,i.A)(c,s);return delete t.status,e&&!Object.keys(t).length?e:c}throw c.message?new Error(c.message):c}catch(m){var p;throw console.error("Error calling API: ",m),null!==(p=m.message)&&void 0!==p&&p.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(m.message)}}const v=(0,a.s8)(r.jn,"/")},23266:(e,t,n)=>{n.d(t,{A:()=>E});var o=n(98587),i=n(58168),a=n(9950),r=n(72004),c=n(88465),s=n(9240),l=n(59254),d=n(19608),u=n(18463),h=n(13372),p=n(24184),v=n(79044),m=n(31506),A=n(40777),g=n(92455),f=n(88543),b=n(1763),x=n(423);function _(e){return(0,x.Ay)("MuiMenuItem",e)}const y=(0,b.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var S=n(44414);const C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],P=(0,l.Ay)(p.A,{shouldForwardProp:e=>(0,d.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(y.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(y.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(y.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(y.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(y.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(A.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(A.A.inset)]:{marginLeft:52},["& .".concat(f.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(f.A.inset)]:{paddingLeft:36},["& .".concat(g.A.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,i.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(g.A.root," svg")]:{fontSize:"1.25rem"}}))}),E=a.forwardRef(function(e,t){const n=(0,u.b)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:l="li",dense:d=!1,divider:p=!1,disableGutters:A=!1,focusVisibleClassName:g,role:f="menuitem",tabIndex:b,className:x}=n,y=(0,o.A)(n,C),E=a.useContext(h.A),T=a.useMemo(()=>({dense:d||E.dense||!1,disableGutters:A}),[E.dense,d,A]),w=a.useRef(null);(0,v.A)(()=>{s&&w.current&&w.current.focus()},[s]);const j=(0,i.A)({},n,{dense:T.dense,divider:p,disableGutters:A}),R=(e=>{const{disabled:t,dense:n,divider:o,disableGutters:a,selected:r,classes:s}=e,l={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",o&&"divider",r&&"selected"]},d=(0,c.A)(l,_,s);return(0,i.A)({},s,d)})(n),I=(0,m.A)(w,t);let M;return n.disabled||(M=void 0!==b?b:-1),(0,S.jsx)(h.A.Provider,{value:T,children:(0,S.jsx)(P,(0,i.A)({ref:I,role:f,tabIndex:M,component:l,focusVisibleClassName:(0,r.A)(R.focusVisible,g),className:(0,r.A)(R.root,x)},y,{ownerState:j,classes:R}))})})},32026:(e,t,n)=>{n.d(t,{G6:()=>s,Ke:()=>p,OX:()=>d,PE:()=>h,TZ:()=>v,Yq:()=>c,do:()=>u,qW:()=>l,s8:()=>a,wE:()=>m});var o=n(89379),i=n(44364);function a(e,t){return e.replace(new RegExp("".concat(r(t),"+$")),"")}function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(e){const t=new Date(e),n=t.getDate(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],i=t.getFullYear();return"".concat(o," ").concat(n,", ").concat(i)}function s(e,t,n){if(!t&&!e)return n;e=e||{};const i=Array.isArray(e)?[...e]:(0,o.A)({},e);if(t.includes(".")){const o=t.indexOf("."),a=t.substring(0,o),r=t.substring(o+1);i[a]=s(e[a],r,n)}else i[t]=n;return i}function l(e,t){return btoa("".concat(e,"_").concat(t,"_whatsapp_int"))}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let o=0;o<e;o++)n+=t.charAt(Math.floor(36*Math.random()));return n}function u(e,t,n){if(!t&&!e)return n;e=e||{};const i=Array.isArray(e)?[...e]:(0,o.A)({},e);if(t.includes(".")){const o=t.indexOf("."),a=t.substring(0,o),r=t.substring(o+1);i[a]=u(e[a],r,n)}else i[t]=n;return i}function h(e,t){const n=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),o=document.createElement("a");o.href=URL.createObjectURL(n),o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function p(e,t){return!t||t.startsWith("http")?t:(t.startsWith("/")&&(t=t.substring(1)),"".concat(i.J,"/").concat(e,"/").concat(t))}function v(e){let t=document.querySelector("link[rel~='icon']");t||(t=document.createElement("link"),t.rel="icon",document.getElementsByTagName("head")[0].appendChild(t)),null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.favicon&&(t.href=p(null===e||void 0===e?void 0:e.domain,null===e||void 0===e?void 0:e.favicon)):t.href="/favicon.png"}function m(e){null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.displayName&&(document.title=null===e||void 0===e?void 0:e.displayName):document.title="LivServ"}},32829:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(79875),i=n(44414);function a(e){let{children:t,type:n}=e;return(0,i.jsx)(o.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}a.defaultProps={type:"scale"}},34735:(e,t,n)=>{var o=n(24994);t.A=void 0;var i=o(n(79526)),a=n(44414);t.A=(0,i.default)((0,a.jsx)("path",{d:"M3 6c-.55 0-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1m17-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 9h-8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1m-4 4h-4c-.55 0-1-.45-1-1s.45-1 1-1h4c.55 0 1 .45 1 1s-.45 1-1 1m4-8h-8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"}),"LibraryBooksRounded")},40777:(e,t,n)=>{n.d(t,{A:()=>r,K:()=>a});var o=n(1763),i=n(423);function a(e){return(0,i.Ay)("MuiDivider",e)}const r=(0,o.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])},44364:(e,t,n)=>{n.d(t,{DX:()=>l,E1:()=>u,J:()=>s,Og:()=>a,Rc:()=>d,jn:()=>o,mB:()=>c,pA:()=>r,pR:()=>i});const o="https://devbackend.livhousing.com",i="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.TRAINING_MEDIA_MAXSIZE,r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.CONVERSATION_MEDIA_MAXSIZE,c="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s="https://livserv-organizations.s3.ap-south-1.amazonaws.com",l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com",d="https://devbackend.livhousing.com/",u="wss://devbackend.livhousing.com/voice/ws"},65387:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(89379),i=n(80045),a=n(70006),r=n(23266),c=n(24516),s=n(44414);const l=["value","hideDescription"],d=[{value:"gpt-4o-mini",label:"GPT 4o Mini Latest (default)",description:"Current Latest Mini model of GPT 4o. Cheaper and faster than GPT 4o."},{value:"gpt-4.1-mini-2025-04-14",label:"gpt-4.1-mini",description:"3 times costly than GPT 4o."},{value:"gpt-4.1-nano-2025-04-14",label:"gpt-4.1-nano",description:"Cheaper and faster than GPT 4o"},{value:"gpt-4o-mini-2024-07-18",label:"GPT 4o Mini (July 2024)",description:"Mini model of GPT 4o. Cheaper and faster than GPT 4o."},{value:"gpt-4o",label:"GPT 4o Latest",description:"Latest model of GPT 4o. More capable, cheaper and faster than GPT 4 Turbo."},{value:"gpt-4o-2024-08-06",label:"GPT 4o (Aug 2024)",description:"May 2024 Release of GPT 4o. More capable, cheaper and faster than GPT 4 Turbo."},{value:"gpt-4",label:"GPT 4 Turbo",description:"Latest stable model of GPT 4. More capable, but is 5 times costly then 3.5 models."},{value:"gpt-4-1106-preview",label:"GPT 4 Latest Preview",description:"Latest preview model of GPT 4. Most capable model, but is 3 times costly then 3.5 models."},{value:"gpt-3.5-turbo-0125",label:"GPT 3.5 Latest Stable",description:"Latest stable model of GPT 3.5. More performant. Random minor inconsistency observed sometimes."},{value:"gpt-3.5-turbo-1106",label:"GPT 3.5 Latest Preview",description:"Latest preview model of GPT 3.5. This is more accurate than latest stable, but some times non responsive while on peek loads."}],u=d.reduce((e,t)=>(e[t.value]=t,e),{});const h=function(e){var t;let{value:n,hideDescription:h}=e,p=(0,i.A)(e,l);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.A,(0,o.A)((0,o.A)({},p),{},{value:n,defaultValue:d[0].value,children:[d.map(e=>(0,s.jsx)(r.A,{value:e.value,children:e.label},e.value)),!u[n]&&(0,s.jsx)(r.A,{value:n,children:n},n)]})),!h&&(0,s.jsx)(c.A,{id:"bot-model-description",children:n?null===(t=u[n])||void 0===t?void 0:t.description:d[0].description})]})}},68033:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(89379),i=n(9950),a=n(60899),r=n(82053),c=n(10226),s=n(63464),l=n(40033),d=n(79739),u=n(57988),h=n(7999),p=n(25333),v=n(85967),m=n(63359),A=n(74745),g=n(21788),f=n(32829),b=n(93383),x=n(70855),_=n(6834),y=n(77382),S=n(44414);const C=function(e){let{docsList:t,onUpdate:n}=e;const[,o]=(0,x.G)();return null===t||void 0===t?void 0:t.map((e,t)=>(0,S.jsx)(P,{index:t,document:e,trainingMedia:o.trainingMedia,onUpdate:n},e._id))};function P(e){let{document:t,index:n,trainingMedia:o,onUpdate:a}=e;const[r,c]=i.useState(!1);return r?(0,S.jsx)(_.A,{document:t,onCancel:c,onUpdate:a}):(0,S.jsx)(E,{index:n,document:t,trainingMedia:o,onEdit:c})}function E(e){let{document:t,index:n,trainingMedia:o,onEdit:c}=e;const s=i.useCallback(()=>c(!0),[c]);return(0,S.jsxs)(a.Ay,{container:!0,mt:1,children:[(0,S.jsxs)(a.Ay,{item:!0,children:[(0,S.jsxs)(r.A,{variant:"h5",children:["Q",n+1," . ",t.question]}),(0,S.jsxs)(r.A,{variant:"body2",children:[(0,S.jsx)("b",{children:"Ans . "})," ",t.content]}),t.sourceDocument&&(null===o||void 0===o?void 0:o.length)>0&&(0,S.jsx)(T,{document:t,trainingMedia:o})]}),(0,S.jsxs)(a.Ay,{xs:12,item:!0,display:"flex",justifyContent:"flex-end",children:[(0,S.jsx)(p.A,{size:"small",sx:{color:m.A[500]},onClick:s,children:(0,S.jsx)(h.A,{})}),(0,S.jsx)(w,{documentId:t._id})]}),(0,S.jsx)(A.A,{xs:12,sx:{width:"100%",borderColor:"#b6abab"}})]})}function T(e){let{document:t,trainingMedia:n}=e;const a=t.sourceDocument,c=i.useMemo(()=>{const e=n.filter(e=>e.docId===a)[0];if(!e)return e;const t=decodeURIComponent(e.url.substring(e.url.lastIndexOf("/")+1));return(0,o.A)((0,o.A)({},e),{},{fileName:t})},[a,n]);return c?(0,S.jsxs)(r.A,{variant:"body2",children:[(0,S.jsx)("b",{children:"Source Document:"})," ",(0,S.jsxs)("a",{href:c.url,rel:"noreferrer",target:"_blank",style:{cursor:"pointer"},children:[c.fileName,c.name?" ( ".concat(c.name," )"):""]})]}):null}function w(e){let{documentId:t}=e;const[n,o]=i.useState(!1),a=()=>o(e=>!e),h=i.useCallback(async()=>{await(0,y.CA)(t),o(!1),(0,g.i)(!0,"Deleted response successfully","success")},[t]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(p.A,{sx:{color:v.A[500]},onClick:a,children:(0,S.jsx)(u.A,{})}),n&&(0,S.jsxs)(s.A,{open:n,onClose:a,children:[(0,S.jsx)(l.A,{id:"delete-confirm-dialog-title",children:(0,S.jsx)(r.A,{gutterBottom:!0,children:"Are sure you want to delete the response ?"})}),(0,S.jsxs)(d.A,{children:[(0,S.jsx)(c.A,{onClick:a,children:"Cancel"}),(0,S.jsx)(f.A,{children:(0,S.jsx)(b.A,{color:"primary",type:"submit",variant:"contained",onClick:h,children:"Delete"})})]})]})]})}},73225:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(9950),i=n(68033),a=n(77382),r=n(65387),c=n(93383),s=n(44414);const l=function(e){let{message:t,isSuperUser:n,onReplay:l}=e;const{content:d,searchQuery:u,passedDocIds:h,index:p,model:v}=t,[m,A]=(0,o.useState)([]),[g,f]=(0,o.useState)(v);(0,o.useEffect)(()=>{(0,a.L3)(h).then(A)},[h]),(0,o.useEffect)(()=>{f(t.model)},[t]);const b=o.useCallback(e=>{var t;return f(null===(t=e.target)||void 0===t?void 0:t.value)},[]);return(0,s.jsxs)("div",{className:"kb-docs-editor",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Selected Bot: "}),(0,s.jsx)(r.A,{value:g,hideDescription:!0,onChange:b}),(0,s.jsx)(c.A,{style:{marginLeft:8},variant:"contained",color:"primary",size:"medium",onClick:()=>l(p,g),children:"Replay"})]}),(0,s.jsxs)("div",{className:"ellipsis",children:[(0,s.jsx)("strong",{children:"Message: "}),(0,s.jsx)("span",{title:d,children:d})]}),n&&u&&(0,s.jsxs)("div",{className:"ellipsis",children:[(0,s.jsx)("strong",{children:"Search Query: "}),(0,s.jsx)("span",{children:u})]}),(0,s.jsx)("div",{children:(0,s.jsx)(i.A,{docsList:m,onUpdate:e=>A(t=>t.map(t=>t._id===e._id?e:t))})})]})}},74745:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(98587),i=n(58168),a=n(9950),r=n(72004),c=n(88465),s=n(9240),l=n(59254),d=n(18463),u=n(40777),h=n(44414);const p=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],v=(0,l.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,s.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})},e=>{let{ownerState:t}=e;return(0,i.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})},e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}})},e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}})},e=>{let{ownerState:t}=e;return(0,i.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})}),m=(0,l.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(e=>{let{theme:t,ownerState:n}=e;return(0,i.A)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})}),A=a.forwardRef(function(e,t){const n=(0,d.b)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:s,className:l,component:A=(s?"div":"hr"),flexItem:g=!1,light:f=!1,orientation:b="horizontal",role:x=("hr"!==A?"separator":void 0),textAlign:_="center",variant:y="fullWidth"}=n,S=(0,o.A)(n,p),C=(0,i.A)({},n,{absolute:a,component:A,flexItem:g,light:f,orientation:b,role:x,textAlign:_,variant:y}),P=(e=>{const{absolute:t,children:n,classes:o,flexItem:i,light:a,orientation:r,textAlign:s,variant:l}=e,d={root:["root",t&&"absolute",l,a&&"light","vertical"===r&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===r&&"withChildrenVertical","right"===s&&"vertical"!==r&&"textAlignRight","left"===s&&"vertical"!==r&&"textAlignLeft"],wrapper:["wrapper","vertical"===r&&"wrapperVertical"]};return(0,c.A)(d,u.K,o)})(C);return(0,h.jsx)(v,(0,i.A)({as:A,className:(0,r.A)(P.root,l),role:x,ref:t,ownerState:C},S,{children:s?(0,h.jsx)(m,{className:P.wrapper,ownerState:C,children:s}):null}))});A.muiSkipListHighlight=!0;const g=A},77382:(e,t,n)=>{n.d(t,{CA:()=>p,L3:()=>h,Mk:()=>l,bZ:()=>d,gJ:()=>u});var o=n(89379),i=n(8478),a=n(33340),r=n(32026),c=n(59051),s=n.n(c);async function l(e){const{organizationId:t,selectedBotId:n}=a.nc.getState(),r=await i.bE("/bot/".concat(t,"/").concat(n,"/knowledge-base"),e);return a.nc.setState(t=>{const i=(0,o.A)({},t.kbDocs||{}),a=i[n];if(!a)return{};if(i[n]=[...a],e._id){const e=i[n].findIndex(e=>e._id===r._id);e>=0?i[n][e]=r:i[n].push(r)}else i[n].push(r);return{kbDocs:i}}),r}async function d(e){const{organizationId:t,selectedBotId:n,kbDocs:r}=a.nc.getState();if(e&&Array.isArray(null===r||void 0===r?void 0:r[n]))return;const c=await i.Jt("/bot/".concat(t,"/").concat(n,"/knowledge-base/list"));a.nc.setState(e=>({kbDocs:(0,o.A)((0,o.A)({},e.kbDocs||{}),{},{[n]:c})}))}async function u(){var e;const{organizationId:t,selectedBotId:n,botsMap:o}=a.nc.getState(),c="/bot/".concat(t,"/").concat(n,"/knowledge-base/download"),l=await i.Jt(c),d=(null===(e=o[n])||void 0===e?void 0:e.botName)||"KBDocs";(0,r.PE)(l,d+"_"+s()().format("YYYYMMDD")+".csv")}async function h(e){if(null===e||void 0===e||!e.length)return[];const{organizationId:t,selectedBotId:n}=a.nc.getState();return await i.Jt("/bot/".concat(t,"/").concat(n,"/knowledge-base/list?").concat(e.map(e=>"docIds=".concat(e)).join("&")))}async function p(e){const{organizationId:t,selectedBotId:n}=a.nc.getState();await i.TF("/bot/".concat(t,"/").concat(n,"/knowledge-base/").concat(e)),a.nc.setState(t=>{var i;const a=(0,o.A)({},t.kbDocs||{});return a[n]=null===(i=a[n])||void 0===i?void 0:i.filter(t=>t._id!==e),{kbDocs:a}})}},82921:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var o=n(9950),i=n(28429),a=n(32026),r=n(8478),c=n(15820),s=n(78023),l=n(33340),d=n(34735),u=n(73225),h=n(44414);const p=function(){const{organizationId:e,botId:t,recipientId:n,chatId:p}=(0,i.g)(),{isAuthenticated:v,isSuperUser:m}=(0,l.nc)(),[A,g]=o.useState(),[f,b]=o.useState(),[x,_]=o.useState(),y="/bot/".concat(e,"/").concat(t,"/chat/history/").concat(n,"/").concat(p,"?includeBot=1").concat(v?"&includeKB=1":"").concat(null!==f&&void 0!==f&&f.code?"&language=".concat(encodeURIComponent(f.code)):"");o.useEffect(()=>{r.Jt(y).then(e=>{var t;const n=(0,a.Yq)(null===(t=e.messages[0])||void 0===t?void 0:t.createdAt);e.botDesign=(0,s.Y)(e.botDesign,{window:{width:"600px",height:"calc(100vh - 120px)"},header:{titleText:n+" (".concat(e.titleText,")")}}),g(function(e){const t=e.messages.length&&e.messages[e.messages.length-1];"options"===(null===t||void 0===t?void 0:t.type)&&(t.content="",e.messages);return e}(e))},e=>{console.error("Unable to load chat conversations:",e)})},[y]);const S=o.useCallback(async(o,i)=>{const a=await r.Jt("/bot/".concat(e,"/").concat(t,"/chat/history/").concat(n,"/").concat(p,"/replay/").concat(o,"?modelName=").concat(i||""));_(a)},[e,t,n,p]);return A?(0,h.jsxs)("div",{className:"conversation-history"+(v?" authenticated":""),children:[(0,h.jsx)("div",{children:(0,h.jsx)(c.A,{botDesign:A.botDesign,messages:A.messages,showTime:!0,disabledMessage:!0,optionsRenderer:e=>{const{role:t,type:n,passedDocIds:o,searchQuery:i}=e||{};if("assistant"===t&&"text"===n&&(null!==o&&void 0!==o&&o.length||i))return(0,h.jsx)("span",{className:"show-icon",onClick:()=>_(e),children:(0,h.jsx)(d.A,{})})},language:f,setLanguage:b})}),x&&(0,h.jsx)(u.A,{message:x,onClose:()=>x(null),isSuperUser:m,onReplay:S})]}):(0,h.jsx)("div",{children:"Loading... Please wait..."})}},85967:(e,t,n)=>{n.d(t,{A:()=>o});const o={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"}},88543:(e,t,n)=>{n.d(t,{A:()=>r,b:()=>a});var o=n(1763),i=n(423);function a(e){return(0,i.Ay)("MuiListItemText",e)}const r=(0,o.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},92455:(e,t,n)=>{n.d(t,{A:()=>r,f:()=>a});var o=n(1763),i=n(423);function a(e){return(0,i.Ay)("MuiListItemIcon",e)}const r=(0,o.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},93383:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(89379),i=n(80045),a=n(9950),r=n(10226),c=n(46639),s=n(44414);const l=["onClick","disabled","isLoading","children"];const d=function(e){let{onClick:t,disabled:n,isLoading:d,children:u}=e,h=(0,i.A)(e,l);const[p,v]=a.useState(d);return(0,s.jsxs)(r.A,(0,o.A)((0,o.A)({onClick:e=>{if(!t)return;const n=t(e);"function"===typeof(null===n||void 0===n?void 0:n.finally)&&(v(!0),n.finally(()=>v(!1)))},disabled:p||d||n},h),{},{children:[(p||d)&&(0,s.jsx)(c.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}}}]);