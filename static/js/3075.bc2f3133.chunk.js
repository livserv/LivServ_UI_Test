"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[3075],{3734:(e,s,r)=>{r.d(s,{t:()=>n,x:()=>o});const n=e=>e<2?{label:"Poor",color:"error.main"}:e<3?{label:"Weak",color:"warning.main"}:e<4?{label:"Normal",color:"warning.dark"}:e<5?{label:"Good",color:"success.main"}:e<6?{label:"Strong",color:"success.dark"}:{label:"Poor",color:"error.main"},o=e=>{let s=0;return e.length>5&&(s+=1),e.length>7&&(s+=1),(e=>new RegExp(/[0-9]/).test(e))(e)&&(s+=1),(e=>new RegExp(/[!#@$%^&*)(+=._-]/).test(e))(e)&&(s+=1),(e=>new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e))(e)&&(s+=1),s}},63075:(e,s,r)=>{r.r(s),r.d(s,{default:()=>k});var n=r(60899),o=r(81616),a=r(82053),i=r(9950),t=r(28429),d=r(3788),l=r(2660),c=r(2046),w=r(25333),u=r(24516),m=r(25979),h=r(78317),x=r(29714),p=r(61467),j=r(12678),A=r(4729),g=r(32829),f=r(3734),b=r(93383),P=r(86604),y=r(21788),v=r(44414);const S=e=>{let{email:s,code:r}=e;const S=(0,t.Zp)(),[C,k]=(0,i.useState)(),[E,z]=(0,i.useState)(!1),[R,B]=(0,i.useState)(!1),W=()=>{z(!E)},_=()=>{B(!R)},q=e=>e.preventDefault(),N=e=>{const s=(0,f.x)(e);k((0,f.t)(s))};(0,i.useEffect)((()=>{N("")}),[]);return(0,v.jsx)(p.l1,{initialValues:{newPassword:"",confirmPassword:""},validationSchema:x.Ik().shape({newPassword:x.Yj().max(30).required("New Password is required"),confirmPassword:x.Yj().oneOf([x.KR("newPassword"),null],"Passwords must match").max(30).required("Confirm Password is required")}),onSubmit:async(e,n)=>{let{setErrors:o,setStatus:a,setSubmitting:i,resetForm:t}=n;try{await(0,P.xw)(e.newPassword,s,r),a({success:!0}),i(!1),(0,y.i)(!0,"Password updated","success"),t(),S("/")}catch(d){a({success:!1}),o({submit:d.message}),i(!1),(0,y.i)(!0,"Not able to update the password. Try after sometime!","error")}},children:e=>{let{errors:s,handleBlur:r,handleChange:i,handleSubmit:t,isSubmitting:x,touched:p,values:f}=e;return(0,v.jsx)("form",{noValidate:!0,onSubmit:t,children:(0,v.jsxs)(n.Ay,{container:!0,spacing:3,children:[(0,v.jsx)(n.Ay,{item:!0,xs:12,children:(0,v.jsxs)(o.A,{spacing:1,children:[(0,v.jsx)(d.A,{htmlFor:"new-password",children:"New Password"}),(0,v.jsx)(l.A,{fullWidth:!0,autoComplete:"off",error:Boolean(p.newPassword&&s.newPassword),id:"new-password",type:E?"text":"password",value:f.newPassword,name:"newPassword",onBlur:r,onChange:e=>{i(e),N(e.target.value)},endAdornment:(0,v.jsx)(c.A,{position:"end",children:(0,v.jsx)(w.A,{"aria-label":"toggle password visibility",onClick:W,onMouseDown:q,edge:"end",size:"large",children:E?(0,v.jsx)(j.A,{}):(0,v.jsx)(A.A,{})})}),placeholder:"******",inputProps:{}}),p.newPassword&&s.newPassword&&(0,v.jsx)(u.A,{error:!0,id:"helper-text-new-password",children:s.newPassword})]})}),(0,v.jsx)(n.Ay,{item:!0,xs:12,children:(0,v.jsxs)(o.A,{spacing:1,children:[(0,v.jsx)(d.A,{htmlFor:"confirm-password",children:"Confirm Password"}),(0,v.jsx)(l.A,{fullWidth:!0,autoComplete:"off",error:Boolean(p.confirmPassword&&s.confirmPassword),id:"confirm-password",type:R?"text":"password",value:f.confirmPassword,name:"confirmPassword",onBlur:r,onChange:e=>{i(e)},endAdornment:(0,v.jsx)(c.A,{position:"end",children:(0,v.jsx)(w.A,{"aria-label":"toggle password visibility",onClick:_,onMouseDown:q,edge:"end",size:"large",children:R?(0,v.jsx)(j.A,{}):(0,v.jsx)(A.A,{})})}),placeholder:"******",inputProps:{}}),p.confirmPassword&&s.confirmPassword&&(0,v.jsx)(u.A,{error:!0,id:"helper-text-confirm-password",children:s.confirmPassword})]})}),s.submit&&(0,v.jsx)(n.Ay,{item:!0,xs:12,children:(0,v.jsx)(u.A,{error:!0,children:s.submit})}),(0,v.jsx)(n.Ay,{item:!0,xs:12,children:(0,v.jsx)(m.A,{fullWidth:!0,sx:{mt:2},children:(0,v.jsxs)(n.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,v.jsx)(n.Ay,{item:!0,children:(0,v.jsx)(h.A,{sx:{bgcolor:null===C||void 0===C?void 0:C.color,width:85,height:8,borderRadius:"7px"}})}),(0,v.jsx)(n.Ay,{item:!0,children:(0,v.jsx)(a.A,{variant:"subtitle1",fontSize:"0.75rem",children:null===C||void 0===C?void 0:C.label})})]})})}),(0,v.jsx)(n.Ay,{item:!0,xs:12,children:(0,v.jsx)(g.A,{children:(0,v.jsx)(b.A,{disableElevation:!0,isLoading:x,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Update Password"})})})]})})}})};var C=r(21537);const k=()=>{const e=(0,t.zy)(),s=new URLSearchParams(e.search),r=s.get("email"),i=s.get("code");return(0,v.jsx)(C.A,{children:(0,v.jsxs)(n.Ay,{container:!0,spacing:3,children:[(0,v.jsx)(n.Ay,{item:!0,xs:12,children:(0,v.jsx)(o.A,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:(0,v.jsx)(a.A,{variant:"h3",children:"Reset Password"})})}),(0,v.jsx)(n.Ay,{item:!0,xs:12,children:(0,v.jsx)(S,{email:r,code:i})})]})})}},86604:(e,s,r)=>{r.d(s,{f3:()=>i,ti:()=>o,xw:()=>a});var n=r(8478);async function o(e){return await n.bE("/organization/forgot-password",{email:e},{noAuth:!0})}async function a(e,s,r){return await n.bE("/organization/reset-password",{password:e,email:s,code:r},{noAuth:!0})}async function i(e,s,r){return await n.bE("/organization/".concat(r,"/update-password"),{currentPassword:e,newPassword:s})}}}]);