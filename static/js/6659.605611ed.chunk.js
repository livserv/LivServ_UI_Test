"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[6659],{13953(){},90771(e,t,a){a.d(t,{LR:()=>_,cf:()=>I});var r=a(80045),n=a(89379),o=a(9950);const i=["iso2","size","src","protocol","disableLazyLoading","className","style"],l=["show","dialCodePrefix","selectedCountry","countries","preferredCountries","flags","onSelect","onClose"],s=["selectedCountry","onSelect","disabled","hideDropdown","countries","preferredCountries","flags","renderButtonWrapper"],u=["value","onChange","countries","preferredCountries","hideDropdown","showDisabledDialCodeAndPrefix","disableFocusAfterCountrySelect","flags","style","className","inputStyle","inputClassName","countrySelectorStyleProps","dialCodePreviewStyleProps","inputProps","placeholder","disabled","name","onFocus","onBlur","required","autoFocus"];var d=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54",{default:"(..) .... ....","/^11/":"(..) .... ....","/^15/":"(..) ... ....","/^(2|3|4|5)/":"(.) .... ....","/^9/":"(.) .... ....."},0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973",".... ...."],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["C\xf4te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Cura\xe7ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Faroe Islands","fo","298",".. .. .."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594","... .. .. .."],["French Polynesia","pf","689",{"/^44/":".. .. ..","/^80[0-5]/":"... .. .. ..",default:".. .. .. .."}],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Gibraltar","gi","350"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","... .. .. ..",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965",".... ...."],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596","... .. .. .."],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","... .. .. ..",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968",".... ...."],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974",".... ...."],["R\xe9union","re","262","... .. .. ..",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Pierre & Miquelon","pm","508",{"/^708/":"... ... ...","/^8/":"... .. .. ..",default:".. .. .."}],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe","st","239"],["Saudi Arabia","sa","966",".. ... ...."],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971",{default:".. ... ....","/^5[024568]/":".. ... ....","/^[234679]/":". ... ...."}],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Wallis & Futuna","wf","681",".. .. .."],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],c=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(e=>!!e).join(" ").trim()},f=e=>{let{addPrefix:t,rawClassNames:a}=e;return c(function(){return c(...arguments).split(" ").map(e=>"".concat("react-international-phone-").concat(e)).join(" ")}(...t),...a)},p=e=>!!e&&/^\d+$/.test(e),m=e=>e.replace(/\D/g,""),y=e=>{let{phone:t,prefix:a}=e;return t?"".concat(a).concat(m(t)):""};function C(e){var t;let{value:a,country:r,insertDialCodeOnEmpty:n,trimNonDigitsEnd:o,countries:i,prefix:l,charAfterDialCode:s,forceDialCode:u,disableDialCodeAndPrefix:d,defaultMask:c,countryGuessingEnabled:f,disableFormatting:p}=e,C=a;d&&(C=C.startsWith("".concat(l))?C:"".concat(l).concat(r.dialCode).concat(C));let h=f?S({phone:C,countries:i,currentCountryIso2:null===r||void 0===r?void 0:r.iso2}):void 0,v=null!==(t=null===h||void 0===h?void 0:h.country)&&void 0!==t?t:r,b=((e,t)=>{let a=!t.disableDialCodeAndPrefix&&t.forceDialCode,r=!t.disableDialCodeAndPrefix&&t.insertDialCodeOnEmpty,n=e,o=e=>t.trimNonDigitsEnd?e.trim():e;if(!n)return r&&!n.length||a?o("".concat(t.prefix).concat(t.dialCode).concat(t.charAfterDialCode)):o(n);if(n=m(n),n===t.dialCode&&!t.disableDialCodeAndPrefix)return o("".concat(t.prefix).concat(t.dialCode).concat(t.charAfterDialCode));if(t.dialCode.startsWith(n)&&!t.disableDialCodeAndPrefix)return o(a?"".concat(t.prefix).concat(t.dialCode).concat(t.charAfterDialCode):"".concat(t.prefix).concat(n));if(!n.startsWith(t.dialCode)&&!t.disableDialCodeAndPrefix){if(a)return o("".concat(t.prefix).concat(t.dialCode).concat(t.charAfterDialCode));if(n.length<t.dialCode.length)return o("".concat(t.prefix).concat(n))}let{phoneLeftSide:i,phoneRightSide:l}=(()=>{let e=t.dialCode.length;return{phoneLeftSide:n.slice(0,e),phoneRightSide:n.slice(e)}})();return i="".concat(t.prefix).concat(i).concat(t.charAfterDialCode),l=(e=>{let{value:t,mask:a,maskSymbol:r,offset:n=0,trimNonMaskCharsLeftover:o=!1}=e;if(t.length<n)return t;let i=t.slice(0,n),l=t.slice(n),s=i,u=0;for(let d of a.split("")){if(u>=l.length){if(!o&&d!==r){s+=d;continue}break}d===r?(s+=l[u],u+=1):s+=d}return s})({value:l,mask:t.mask,maskSymbol:t.maskChar,trimNonMaskCharsLeftover:t.trimNonDigitsEnd||t.disableDialCodeAndPrefix&&0===l.length}),t.disableDialCodeAndPrefix&&(i=""),o("".concat(i).concat(l))})(C,{prefix:l,mask:k({phone:C,country:v,defaultMask:c,disableFormatting:p}),maskChar:g,dialCode:v.dialCode,trimNonDigitsEnd:o,charAfterDialCode:s,forceDialCode:u,insertDialCodeOnEmpty:n,disableDialCodeAndPrefix:d}),w=!f||null!==h&&void 0!==h&&h.fullDialCodeMatch?v:r;return{phone:y({phone:d?"".concat(w.dialCode).concat(b):b,prefix:l}),inputValue:b,country:w}}var h=(e,t)=>{var a,r;let{country:n,insertDialCodeOnEmpty:o,phoneBeforeInput:i,prefix:l,charAfterDialCode:s,forceDialCode:u,disableDialCodeAndPrefix:d,countryGuessingEnabled:c,defaultMask:f,disableFormatting:m,countries:h}=t,v=e.nativeEvent,b=v.inputType,g=(e=>{var t;if(null!==(t=null===e||void 0===e?void 0:e.toLocaleLowerCase().includes("delete"))&&void 0!==t&&t)return null!==e&&void 0!==e&&e.toLocaleLowerCase().includes("forward")?"forward":"backward"})(b),w=!(null===b||void 0===b||!b.startsWith("insertFrom")),D="insertText"===b,k=(null===v||void 0===v?void 0:v.data)||void 0,A=e.target.value,N=null!==(a=e.target.selectionStart)&&void 0!==a?a:0;if(null!==b&&void 0!==b&&b.includes("history"))return{inputValue:i,phone:y({phone:i,prefix:l}),cursorPosition:i.length,country:n};if(D&&!p(k)&&A!==l)return{inputValue:i,phone:y({phone:d?"".concat(n.dialCode).concat(i):i,prefix:l}),cursorPosition:N-(null!==(r=null===k||void 0===k?void 0:k.length)&&void 0!==r?r:0),country:n};if(u&&!A.startsWith("".concat(l).concat(n.dialCode))&&!w){let e=A?i:"".concat(l).concat(n.dialCode).concat(s);return{inputValue:e,phone:y({phone:e,prefix:l}),cursorPosition:l.length+n.dialCode.length+s.length,country:n}}let{phone:S,inputValue:x,country:P}=C({value:A,country:n,trimNonDigitsEnd:"backward"===g,insertDialCodeOnEmpty:o,countryGuessingEnabled:c,countries:h,prefix:l,charAfterDialCode:s,forceDialCode:u,disableDialCodeAndPrefix:d,disableFormatting:m,defaultMask:f}),E=(e=>{let{phoneBeforeInput:t,phoneAfterInput:a,phoneAfterFormatted:r,cursorPositionAfterInput:n,leftOffset:o=0,deletion:i}=e;if(n<o)return o;if(!t)return r.length;let l=null;for(let c=n-1;c>=0;c-=1)if(p(a[c])){l=c;break}if(null===l){for(let e=0;e<a.length;e+=1)if(p(r[e]))return e;return a.length}let s=0;for(let c=0;c<l;c+=1)p(a[c])&&(s+=1);let u=0,d=0;for(let c=0;c<r.length&&(u+=1,p(r[c])&&(d+=1),!(d>=s+1));c+=1);if("backward"!==i)for(;!p(r[u])&&u<r.length;)u+=1;return u})({cursorPositionAfterInput:N,phoneBeforeInput:i,phoneAfterInput:A,phoneAfterFormatted:x,leftOffset:u?l.length+n.dialCode.length+s.length:0,deletion:g});return{phone:S,inputValue:x,cursorPosition:E,country:P}},v={size:20,overrideLastItemDebounceMS:-1};function b(e,t){let{size:a,overrideLastItemDebounceMS:r,onChange:i}=(0,n.A)((0,n.A)({},v),t),[l,s]=(0,o.useState)(e),u=(0,o.useRef)([l]),d=(0,o.useRef)(0),c=(()=>{let e=(0,o.useRef)(),t=(0,o.useRef)(Date.now()),a=(0,o.useCallback)(()=>{let a=Date.now(),r=e.current?a-t.current:void 0;return e.current=t.current,t.current=a,r},[]);return(0,o.useMemo)(()=>({check:a}),[a])})(),f=(0,o.useCallback)((e,t)=>{let n=u.current[d.current];if(e===n||"object"==typeof e&&"object"==typeof n&&((e,t)=>{let a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(let n of a)if(e[n]!==t[n])return!1;return!0})(e,n))return;let o=r>0,l=c.check(),f=!o||void 0===l||l>r;if(void 0!==(null===t||void 0===t?void 0:t.overrideLastItem)?t.overrideLastItem:!f)u.current=[...u.current.slice(0,d.current),e];else{let t=u.current.length>=a;u.current=[...u.current.slice(t?1:0,d.current+1),e],t||(d.current+=1)}s(e),null===i||void 0===i||i(e)},[i,r,a,c]);return[l,f,(0,o.useCallback)(()=>{if(d.current<=0)return{success:!1};let e=u.current[d.current-1];return s(e),d.current-=1,null!==i&&void 0!==i&&i(e),{success:!0,value:e}},[i]),(0,o.useCallback)(()=>{if(d.current+1>=u.current.length)return{success:!1};let e=u.current[d.current+1];return s(e),d.current+=1,null!==i&&void 0!==i&&i(e),{success:!0,value:e}},[i])]}var g=".",w={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:d,preferredCountries:[]},D=e=>{let{defaultCountry:t=w.defaultCountry,value:a=w.value,countries:r=w.countries,prefix:i=w.prefix,defaultMask:l=w.defaultMask,charAfterDialCode:s=w.charAfterDialCode,historySaveDebounceMS:u=w.historySaveDebounceMS,disableCountryGuess:d=w.disableCountryGuess,disableDialCodePrefill:c=w.disableDialCodePrefill,forceDialCode:f=w.forceDialCode,disableDialCodeAndPrefix:p=w.disableDialCodeAndPrefix,disableFormatting:m=w.disableFormatting,onChange:y,inputRef:v}=e,g={countries:r,prefix:i,charAfterDialCode:s,forceDialCode:!p&&f,disableDialCodeAndPrefix:p,defaultMask:l,countryGuessingEnabled:!d,disableFormatting:m},D=(0,o.useRef)(null),k=v||D,A=e=>{Promise.resolve().then(()=>{var t,a;typeof window>"u"||k.current!==(null===(t=document)||void 0===t?void 0:t.activeElement)||null===(a=k.current)||void 0===a||a.setSelectionRange(e,e)})},S=(0,o.useCallback)(e=>N({value:e,field:"iso2",countries:r}),[r]),x=(0,o.useCallback)(e=>{let{inputValue:t,phone:a,country:r}=e;if(!y)return;let n=S(r);y({phone:a,inputValue:t,country:n})},[S,y]),[{phone:P,inputValue:E,country:M},I,L,_]=b(()=>{let e=N({value:t,field:"iso2",countries:r});e||console.error('[react-international-phone]: can not find a country with "'.concat(t,'" iso2 code'));let o=e||N({value:"us",field:"iso2",countries:r}),{phone:i,inputValue:l,country:s}=C((0,n.A)({value:a,country:o,insertDialCodeOnEmpty:!c},g));return A(l.length),{phone:i,inputValue:l,country:s.iso2}},{overrideLastItemDebounceMS:u,onChange:x}),z=(0,o.useMemo)(()=>S(M),[M,S]);(0,o.useEffect)(()=>{let e=k.current;if(!e)return;let t=e=>{if(!e.key)return;let t=e.ctrlKey,a=e.metaKey,r=e.shiftKey;if("z"===e.key.toLowerCase()){if(typeof window>"u"||!window.navigator.userAgent.toLowerCase().includes("macintosh")){if(!t)return}else if(!a)return;r?_():L()}};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[k,L,_]);let F=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focusOnInput:!1},a=N({value:e,field:"iso2",countries:r});if(!a)return void console.error('[react-international-phone]: can not find a country with "'.concat(e,'" iso2 code'));let n=p?"":"".concat(i).concat(a.dialCode).concat(s);I({inputValue:n,phone:"".concat(i).concat(a.dialCode),country:a.iso2}),t.focusOnInput&&Promise.resolve().then(()=>{var e;null===(e=k.current)||void 0===e||e.focus()})},[r,p,i,s,I,k]),[B,R]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{if(!B)return R(!0),void(a!==P&&(null===y||void 0===y||y({inputValue:E,phone:P,country:z})));if(a===P)return;let{phone:e,inputValue:t,country:r}=C((0,n.A)({value:a,country:z,insertDialCodeOnEmpty:!c},g));I({phone:e,inputValue:t,country:r.iso2})},[a]),{phone:P,inputValue:E,country:z,setCountry:F,handlePhoneValueChange:e=>{e.preventDefault();let{phone:t,inputValue:r,country:o,cursorPosition:i}=h(e,(0,n.A)({country:z,phoneBeforeInput:E,insertDialCodeOnEmpty:!1},g));return I({inputValue:r,phone:t,country:o.iso2}),A(i),a},inputRef:k}},k=e=>{let{phone:t,country:a,defaultMask:r="............",disableFormatting:n=!1}=e,o=a.format,i=e=>n?e.replace(new RegExp("[^".concat(g,"]"),"g"),""):e;if(!o)return i(r);if("string"==typeof o)return i(o);if(!o.default)return console.error("[react-international-phone]: default mask for ".concat(a.iso2," is not provided")),i(r);let l=Object.keys(o).find(e=>{if("default"===e)return!1;if("/"!==e.charAt(0)||"/"!==e.charAt(e.length-1))return console.error('[react-international-phone]: format regex "'.concat(e,'" for ').concat(a.iso2," is not valid")),!1;let r=new RegExp(e.substring(1,e.length-1)),n=t.replace(a.dialCode,"");return r.test(m(n))});return i(l?o[l]:o.default)},A=e=>{let[t,a,r,n,o,i]=e;return{name:t,iso2:a,dialCode:r,format:n,priority:o,areaCodes:i}},N=e=>{let{field:t,value:a,countries:r=d}=e;if(["priority"].includes(t))throw new Error((e=>'Field "'.concat(e,'" is not supported'))(t));let n=r.find(e=>{let r=A(e);return a===r[t]});if(n)return A(n)},S=e=>{let{phone:t,countries:a=d,currentCountryIso2:r}=e,n={country:void 0,fullDialCodeMatch:!1};if(!t)return n;let o=m(t);if(!o)return n;let i=n,l=e=>{var t,a,r,n;let{country:o,fullDialCodeMatch:l}=e,s=o.dialCode===(null===(t=i.country)||void 0===t?void 0:t.dialCode),u=(null!==(a=o.priority)&&void 0!==a?a:0)<(null!==(r=null===(n=i.country)||void 0===n?void 0:n.priority)&&void 0!==r?r:0);(!s||u)&&(i={country:o,fullDialCodeMatch:l})};for(let u of a){let e=A(u),{dialCode:t,areaCodes:a}=e;if(o.startsWith(t)){let r=!i.country||Number(t)>=Number(i.country.dialCode);if(a){let r=o.substring(t.length);for(let t of a)if(r.startsWith(t))return{country:e,fullDialCodeMatch:!0}}(r||t===o||!i.fullDialCodeMatch)&&l({country:e,fullDialCodeMatch:!0})}i.fullDialCodeMatch||o.length<t.length&&t.startsWith(o)&&(!i.country||Number(t)<=Number(i.country.dialCode))&&l({country:e,fullDialCodeMatch:!1})}if(r){var s;let e=N({value:r,field:"iso2",countries:a});if(!e)return i;let t=!!e&&(e=>{if(null===e||void 0===e||!e.areaCodes)return!1;let t=o.substring(e.dialCode.length);return e.areaCodes.some(e=>e.startsWith(t))})(e);i&&(null===(s=i.country)||void 0===s?void 0:s.dialCode)===e.dialCode&&i.country!==e&&i.fullDialCodeMatch&&(!e.areaCodes||t)&&(i={country:e,fullDialCodeMatch:!0})}return i},x=(e,t)=>{let a=parseInt(e,16);return Number(a+t).toString(16)},P="abcdefghijklmnopqrstuvwxyz".split("").reduce((e,t,a)=>(0,n.A)((0,n.A)({},e),{},{[t]:x("1f1e6",a)}),{}),E=e=>{let{iso2:t,size:a,src:l,protocol:s="https",disableLazyLoading:u,className:d,style:c}=e,p=(0,r.A)(e,i);if(!t)return o.createElement("img",(0,n.A)({className:f({addPrefix:["flag-emoji"],rawClassNames:[d]}),width:a,height:a},p));return o.createElement("img",(0,n.A)({className:f({addPrefix:["flag-emoji"],rawClassNames:[d]}),src:(()=>{if(l)return l;let e=(e=>[P[e[0]],P[e[1]]].join("-"))(t);return"".concat(s,"://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/").concat(e,".svg")})(),width:a,height:a,draggable:!1,"data-country":t,loading:u?void 0:"lazy",style:(0,n.A)({width:a,height:a},c),alt:""},p))},M=e=>{let{show:t,dialCodePrefix:a="+",selectedCountry:i,countries:s=d,preferredCountries:u=[],flags:c,onSelect:p,onClose:m}=e,y=(0,r.A)(e,l),C=(0,o.useRef)(null),h=(0,o.useRef)(),v=(0,o.useMemo)(()=>{if(!u||!u.length)return s;let e=[],t=[...s];for(let a of u){let r=t.findIndex(e=>A(e).iso2===a);if(-1!==r){let a=t.splice(r,1)[0];e.push(a)}}return e.concat(t)},[s,u]),b=(0,o.useRef)({updatedAt:void 0,value:""}),g=(0,o.useCallback)(e=>v.findIndex(t=>A(t).iso2===e),[v]),[w,D]=(0,o.useState)(g(i)),k=()=>{h.current!==i&&D(g(i))},N=(0,o.useCallback)(e=>{D(g(e.iso2)),null===p||void 0===p||p(e)},[p,g]),S=e=>{let t=v.length-1;D(a=>{let r=(a=>"prev"===e?a-1:"next"===e?a+1:"last"===e?t:0)(a);return r<0?0:r>t?t:r})},x=(0,o.useCallback)(()=>{if(!C.current||void 0===w)return;let e=A(v[w]).iso2;if(e===h.current)return;let t=C.current.querySelector('[data-country="'.concat(e,'"]'));t&&(((e,t)=>{let a=e.style.display;"block"!==a&&(e.style.display="block");let r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),o=n.top-r.top,i=r.bottom-n.bottom;o>=0&&i>=0||(Math.abs(o)<Math.abs(i)?e.scrollTop+=o:e.scrollTop-=i),e.style.display=a})(C.current,t),h.current=e)},[w,v]);return(0,o.useEffect)(()=>{x()},[w,x]),(0,o.useEffect)(()=>{C.current&&(t?C.current.focus():k())},[t]),(0,o.useEffect)(()=>{k()},[i]),o.createElement("ul",{ref:C,role:"listbox",className:f({addPrefix:["country-selector-dropdown"],rawClassNames:[y.className]}),style:(0,n.A)({display:t?"block":"none"},y.style),onKeyDown:e=>{if(e.stopPropagation(),"Enter"===e.key){e.preventDefault();let t=A(v[w]);return void N(t)}if("Escape"!==e.key)return"ArrowUp"===e.key?(e.preventDefault(),void S("prev")):"ArrowDown"===e.key?(e.preventDefault(),void S("next")):"PageUp"===e.key?(e.preventDefault(),void S("first")):"PageDown"===e.key?(e.preventDefault(),void S("last")):(" "===e.key&&e.preventDefault(),void(1===e.key.length&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&(e=>{let t=b.current.updatedAt&&(new Date).getTime()-b.current.updatedAt.getTime()>1e3;b.current={value:t?e:"".concat(b.current.value).concat(e),updatedAt:new Date};let a=v.findIndex(e=>A(e).name.toLowerCase().startsWith(b.current.value));-1!==a&&D(a)})(e.key.toLocaleLowerCase())));null===m||void 0===m||m()},onBlur:m,tabIndex:-1,"aria-activedescendant":"react-international-phone__".concat(A(v[w]).iso2,"-option")},v.map((e,t)=>{let r=A(e),n=r.iso2===i,l=t===w,s=u.includes(r.iso2),d=t===u.length-1,p=null===c||void 0===c?void 0:c.find(e=>e.iso2===r.iso2);return o.createElement(o.Fragment,{key:r.iso2},o.createElement("li",{"data-country":r.iso2,role:"option","aria-selected":n,"aria-label":"".concat(r.name," ").concat(a).concat(r.dialCode),id:"react-international-phone__".concat(r.iso2,"-option"),className:f({addPrefix:["country-selector-dropdown__list-item",s&&"country-selector-dropdown__list-item--preferred",n&&"country-selector-dropdown__list-item--selected",l&&"country-selector-dropdown__list-item--focused"],rawClassNames:[y.listItemClassName,s&&y.listItemPreferredClassName,n&&y.listItemSelectedClassName,l&&y.listItemFocusedClassName]}),onClick:()=>N(r),style:y.listItemStyle,title:r.name},o.createElement(E,{iso2:r.iso2,src:null===p||void 0===p?void 0:p.src,className:f({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[y.listItemFlagClassName]}),style:y.listItemFlagStyle}),o.createElement("span",{className:f({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[y.listItemCountryNameClassName]}),style:y.listItemCountryNameStyle},r.name),o.createElement("span",{className:f({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[y.listItemDialCodeClassName]}),style:y.listItemDialCodeStyle},a,r.dialCode)),d?o.createElement("hr",{className:f({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[y.preferredListDividerClassName]}),style:y.preferredListDividerStyle}):null)}))},I=o.memo(e=>{let{selectedCountry:t,onSelect:a,disabled:i,hideDropdown:l,countries:u=d,preferredCountries:c=[],flags:p,renderButtonWrapper:m}=e,y=(0,r.A)(e,s),[C,h]=(0,o.useState)(!1),v=(0,o.useMemo)(()=>{if(t)return N({value:t,field:"iso2",countries:u})},[u,t]),b=(0,o.useRef)(null),g=e=>{e.key&&["ArrowUp","ArrowDown"].includes(e.key)&&(e.preventDefault(),h(!0))};return o.createElement("div",{className:f({addPrefix:["country-selector"],rawClassNames:[y.className]}),style:y.style,ref:b},(()=>{var e;let a={title:null===v||void 0===v?void 0:v.name,onClick:()=>h(e=>!e),onMouseDown:e=>e.preventDefault(),onKeyDown:g,disabled:l||i,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":C},r=o.createElement("div",{className:f({addPrefix:["country-selector-button__button-content"],rawClassNames:[y.buttonContentWrapperClassName]}),style:y.buttonContentWrapperStyle},o.createElement(E,{iso2:t,src:null===p||void 0===p||null===(e=p.find(e=>e.iso2===t))||void 0===e?void 0:e.src,className:f({addPrefix:["country-selector-button__flag-emoji",i&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[y.flagClassName]}),style:(0,n.A)({visibility:t?"visible":"hidden"},y.flagStyle)}),!l&&o.createElement("div",{className:f({addPrefix:["country-selector-button__dropdown-arrow",i&&"country-selector-button__dropdown-arrow--disabled",C&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[y.dropdownArrowClassName]}),style:y.dropdownArrowStyle}));return m?m({children:r,rootProps:a}):o.createElement("button",(0,n.A)((0,n.A)({},a),{},{type:"button",className:f({addPrefix:["country-selector-button",C&&"country-selector-button--active",i&&"country-selector-button--disabled",l&&"country-selector-button--hide-dropdown"],rawClassNames:[y.buttonClassName]}),"data-country":t,style:y.buttonStyle}),r)})(),o.createElement(M,(0,n.A)({show:C,countries:u,preferredCountries:c,flags:p,onSelect:e=>{h(!1),null===a||void 0===a||a(e)},selectedCountry:t,onClose:()=>{h(!1)}},y.dropdownStyleProps)))}),L=e=>{let{dialCode:t,prefix:a,disabled:r,style:n,className:i}=e;return o.createElement("div",{className:f({addPrefix:["dial-code-preview",r&&"dial-code-preview--disabled"],rawClassNames:[i]}),style:n},"".concat(a).concat(t))},_=(0,o.forwardRef)((e,t)=>{var a;let{value:i,onChange:l,countries:s=d,preferredCountries:c,hideDropdown:p,showDisabledDialCodeAndPrefix:m,disableFocusAfterCountrySelect:y,flags:C,style:h,className:v,inputStyle:b,inputClassName:g,countrySelectorStyleProps:w,dialCodePreviewStyleProps:k,inputProps:A,placeholder:N,disabled:S,name:x,onFocus:P,onBlur:E,required:M,autoFocus:_}=e,z=(0,r.A)(e,u),F=(0,o.useCallback)(e=>{null===l||void 0===l||l(e.phone,{country:e.country,inputValue:e.inputValue})},[l]),{phone:B,inputValue:R,inputRef:V,country:j,setCountry:G,handlePhoneValueChange:T}=D((0,n.A)((0,n.A)({value:i,countries:s},z),{},{onChange:F})),K=z.disableDialCodeAndPrefix&&m&&(null===j||void 0===j?void 0:j.dialCode),O=(0,o.useCallback)(e=>{G(e.iso2,{focusOnInput:!y})},[G,y]);return(0,o.useImperativeHandle)(t,()=>V.current?Object.assign(V.current,{setCountry:G,state:{phone:B,inputValue:R,country:j}}):null,[V,G,B,R,j]),o.createElement("div",{ref:t,className:f({addPrefix:["input-container"],rawClassNames:[v]}),style:h},o.createElement(I,(0,n.A)({onSelect:O,flags:C,selectedCountry:null===j||void 0===j?void 0:j.iso2,countries:s,preferredCountries:c,disabled:S,hideDropdown:p},w)),K&&o.createElement(L,(0,n.A)({dialCode:j.dialCode,prefix:null!==(a=z.prefix)&&void 0!==a?a:"+",disabled:S},k)),o.createElement("input",(0,n.A)({onChange:T,value:R,type:"tel",ref:V,className:f({addPrefix:["input",S&&"input--disabled"],rawClassNames:[g]}),placeholder:N,disabled:S,style:b,name:x,onFocus:P,onBlur:E,autoFocus:_,required:M},A)))})}}]);