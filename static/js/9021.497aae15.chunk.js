"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[9021],{8478:(t,n,o)=>{o.d(n,{Jt:()=>d,TF:()=>A,bE:()=>l,yJ:()=>u});var e=o(89379),c=o(80045),i=o(32026),a=o(44364);const s=["headers","noAuth"],r=["data"];async function d(t,n){return g("GET",t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(t,n){return g("POST",t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(t,n){return g("PUT",t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function A(t,n){return g("DELETE",t,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function g(t,n,o){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:a,noAuth:d}=i,l=(0,c.A)(i,s);const u="POST"===t||"PUT"===t||"DELETE"===t;n=function(t,n){if(!t)return t;const o=n&&Object.keys(n);if(null!==o&&void 0!==o&&o.length){const e=o.reduce(((t,o)=>{let e=n[o];return null===e||void 0===e?t:(e="".concat(o,"=").concat(encodeURIComponent(e)),t?"".concat(t,"&").concat(e):e)}),"");e&&(t="".concat(t).concat(t.includes("?")?"&":"?").concat(e))}if(t.startsWith("https://"))return t;return"".concat(_).concat(t)}(n,u?void 0:o);const A=o instanceof FormData;if(A||(o=o&&"object"===typeof o&&u?JSON.stringify(o):void 0),a||(a={}),A||(a["Content-Type"]="application/json"),a.Accept="application/json",!1!==d){const t=sessionStorage.getItem("token");t&&(a.Authorization="Bearer ".concat(t))}try{const i=await fetch(n,(0,e.A)((0,e.A)({},l),{},{headers:a,body:o,method:t})),s=await i.json();if(i.ok){const{data:t}=s,n=(0,c.A)(s,r);return delete n.status,t&&!Object.keys(n).length?t:s}throw s.message?new Error(s.message):s}catch(f){var g;throw console.error("Error calling API: ",f),null!==(g=f.message)&&void 0!==g&&g.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(f.message)}}const _=(0,i.s8)(a.jn,"/")},26092:(t,n,o)=>{o.d(n,{A:()=>g});o(9950);var e=o(92728),c=o(63464),i=o(40033),a=o(28170),s=o(96319),r=o(59254),d=o(14857),l=o(25333),u=o(44414);const A=(0,r.Ay)(c.A)((t=>{let{theme:n}=t;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)},zIndex:11010}}));function g(t){const n=(0,d.A)(),{breakpoints:o}=n,{openPopUpDialog:c,setPopUpDialog:r,setFieldsValues:g,onClose:_=()=>(r(!1),null===g||void 0===g?void 0:g({})),title:f,width:b="70%"}=t;return(0,u.jsxs)(A,{TransitionComponent:e.A,"aria-labelledby":"customized-dialog-title",open:c,PaperProps:{sx:{width:{width:b},[o.down("sm")]:{width:"90%"}}},children:[(0,u.jsx)(i.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:f}),(0,u.jsx)(l.A,{"aria-label":"close",onClick:_,sx:{position:"absolute",right:8,top:8},children:(0,u.jsx)(s.A,{})}),(0,u.jsx)(a.A,{dividers:!0,children:t.children})]})}},30334:(t,n,o)=>{o.d(n,{Ei:()=>u,KM:()=>r,MD:()=>d,pn:()=>A,qt:()=>l});var e=o(89379),c=o(8478),i=o(33340),a=o(77382),s=o(98415);async function r(t,n,o){const e=await c.bE("/bot/".concat(o,"/").concat(n,"/add-training-media"),t);(0,s.rv)(n,{trainingMedia:e.trainingMedia})}async function d(t){const{organizationId:n,selectedBotId:o}=i.nc.getState(),e=new FormData;e.append("file",t);try{const t=await c.bE("/bot/".concat(n,"/").concat(o,"/add-training-media"),e);(0,s.rv)(o,{trainingMedia:t.trainingMedia})}catch(a){throw new Error("File upload failed. Please try again.",a)}}async function l(t,n,o){const e=await c.bE("/bot/".concat(o,"/").concat(n,"/delete-training-media-document"),t);(0,s.rv)(n,{trainingMedia:e.trainingDocuments})}async function u(t,n){const o=await c.bE("/bot/".concat(n,"/").concat(t,"/knowledge-base/train"));return i.nc.setState((n=>{const o=(0,e.A)({},n.kbDocs||{});return delete o[t],{kbDocs:o}})),(0,a.bZ)().catch((t=>console.error("Error fetching Knowledge base content:",t))),o}async function A(t,n,o){const e=await c.bE("/bot/".concat(n,"/").concat(o,"/add-bot-tax-details"),t),{_id:i,botDetailsForVerification:a}=e;return(0,s.rv)(i,{botDetailsForVerification:a}),a}},32026:(t,n,o)=>{o.d(n,{G6:()=>r,Ke:()=>g,OX:()=>l,PE:()=>A,TZ:()=>_,Yq:()=>s,do:()=>u,qW:()=>d,s8:()=>i,wE:()=>f});var e=o(89379),c=o(44364);function i(t,n){return t.replace(new RegExp("".concat(a(n),"+$")),"")}function a(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(t){const n=new Date(t),o=n.getDate(),e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()],c=n.getFullYear();return"".concat(e," ").concat(o,", ").concat(c)}function r(t,n,o){if(!n&&!t)return o;t=t||{};const c=Array.isArray(t)?[...t]:(0,e.A)({},t);if(n.includes(".")){const e=n.indexOf("."),i=n.substring(0,e),a=n.substring(e+1);c[i]=r(t[i],a,o)}else c[n]=o;return c}function d(t,n){return btoa("".concat(t,"_").concat(n,"_whatsapp_int"))}function l(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const n="abcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let e=0;e<t;e++)o+=n.charAt(Math.floor(36*Math.random()));return o}function u(t,n,o){if(!n&&!t)return o;t=t||{};const c=Array.isArray(t)?[...t]:(0,e.A)({},t);if(n.includes(".")){const e=n.indexOf("."),i=n.substring(0,e),a=n.substring(e+1);c[i]=u(t[i],a,o)}else c[n]=o;return c}function A(t,n){const o=new Blob([t],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),e=document.createElement("a");e.href=URL.createObjectURL(o),e.download=n,document.body.appendChild(e),e.click(),document.body.removeChild(e)}function g(t,n){return!n||n.startsWith("http")?n:(n.startsWith("/")&&(n=n.substring(1)),"".concat(c.J,"/").concat(t,"/").concat(n))}function _(t){let n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.getElementsByTagName("head")[0].appendChild(n)),null!==t&&void 0!==t&&t.domain?null!==t&&void 0!==t&&t.favicon&&(n.href=g(null===t||void 0===t?void 0:t.domain,null===t||void 0===t?void 0:t.favicon)):n.href="/favicon.png"}function f(t){null!==t&&void 0!==t&&t.domain?null!==t&&void 0!==t&&t.displayName&&(document.title=null===t||void 0===t?void 0:t.displayName):document.title="LivServ"}},32829:(t,n,o)=>{o.d(n,{A:()=>i});var e=o(79875),c=o(44414);function i(t){let{children:n,type:o}=t;return(0,c.jsx)(e.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}i.defaultProps={type:"scale"}},44364:(t,n,o)=>{o.d(n,{DX:()=>d,E1:()=>u,J:()=>r,Og:()=>i,Rc:()=>l,jn:()=>e,mB:()=>s,pA:()=>a,pR:()=>c});const e="https://devbackend.livhousing.com:444",c="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.TRAINING_MEDIA_MAXSIZE,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.CONVERSATION_MEDIA_MAXSIZE,s="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",r="https://livserv-organizations.s3.ap-south-1.amazonaws.com",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444",l="https://devbackend.livhousing.com:444",u="wss://devbackend.livhousing.com:444/voice/ws"},77382:(t,n,o)=>{o.d(n,{CA:()=>g,L3:()=>A,Mk:()=>d,bZ:()=>l,gJ:()=>u});var e=o(89379),c=o(8478),i=o(33340),a=o(32026),s=o(59051),r=o.n(s);async function d(t){const{organizationId:n,selectedBotId:o}=i.nc.getState(),a=await c.bE("/bot/".concat(n,"/").concat(o,"/knowledge-base"),t);return i.nc.setState((n=>{const c=(0,e.A)({},n.kbDocs||{}),i=c[o];if(!i)return{};if(c[o]=[...i],t._id){const t=c[o].findIndex((t=>t._id===a._id));t>=0?c[o][t]=a:c[o].push(a)}else c[o].push(a);return{kbDocs:c}})),a}async function l(t){const{organizationId:n,selectedBotId:o,kbDocs:a}=i.nc.getState();if(t&&Array.isArray(null===a||void 0===a?void 0:a[o]))return;const s=await c.Jt("/bot/".concat(n,"/").concat(o,"/knowledge-base/list"));i.nc.setState((t=>({kbDocs:(0,e.A)((0,e.A)({},t.kbDocs||{}),{},{[o]:s})})))}async function u(){var t;const{organizationId:n,selectedBotId:o,botsMap:e}=i.nc.getState(),s="/bot/".concat(n,"/").concat(o,"/knowledge-base/download"),d=await c.Jt(s),l=(null===(t=e[o])||void 0===t?void 0:t.botName)||"KBDocs";(0,a.PE)(d,l+"_"+r()().format("YYYYMMDD")+".csv")}async function A(t){if(null===t||void 0===t||!t.length)return[];const{organizationId:n,selectedBotId:o}=i.nc.getState();return await c.Jt("/bot/".concat(n,"/").concat(o,"/knowledge-base/list?").concat(t.map((t=>"docIds=".concat(t))).join("&")))}async function g(t){const{organizationId:n,selectedBotId:o}=i.nc.getState();await c.TF("/bot/".concat(n,"/").concat(o,"/knowledge-base/").concat(t)),i.nc.setState((n=>{var c;const i=(0,e.A)({},n.kbDocs||{});return i[o]=null===(c=i[o])||void 0===c?void 0:c.filter((n=>n._id!==t)),{kbDocs:i}}))}},92728:(t,n,o)=>{o.d(n,{A:()=>s});var e=o(89379),c=o(9950),i=o(48205),a=o(44414);const s=c.forwardRef((function(t,n){return(0,a.jsx)(i.A,(0,e.A)({direction:"up",ref:n},t))}))},93383:(t,n,o)=>{o.d(n,{A:()=>l});var e=o(89379),c=o(80045),i=o(9950),a=o(10226),s=o(46639),r=o(44414);const d=["onClick","disabled","isLoading","children"];const l=function(t){let{onClick:n,disabled:o,isLoading:l,children:u}=t,A=(0,c.A)(t,d);const[g,_]=i.useState(l);return(0,r.jsxs)(a.A,(0,e.A)((0,e.A)({onClick:t=>{if(!n)return;const o=n(t);"function"===typeof(null===o||void 0===o?void 0:o.finally)&&(_(!0),o.finally((()=>_(!1))))},disabled:g||l||o},A),{},{children:[(g||l)&&(0,r.jsx)(s.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}},98415:(t,n,o)=>{o.d(n,{Ci:()=>A,I4:()=>u,TF:()=>d,gI:()=>s,gR:()=>_,jo:()=>l,rv:()=>f,so:()=>g,yo:()=>r});var e=o(89379),c=o(8478),i=o(33340),a=o(32026);async function s(t){const{organization:{websiteUrl:n,_id:o}}=i.nc.getState(),e={organizationId:o,websiteUrl:n,botName:t,botDesign:{visitorMessageLogo:{name:"",url:""},botMessageLogo:{name:"",url:""},botChatButton:{name:"",url:""},botLogo:{name:"",url:""},backgroundColor:"#e7a654",textColor:"#ffffff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}};b(await c.bE("/bot/".concat(o),e),!0)}async function r(t,n,o){const{organizationId:e}=i.nc.getState();if(!e||!t)throw new Error("Bot details not found");const a=await c.yJ("/bot/".concat(e,"/").concat(t),n);return b(a,o),a}async function d(t){const{organizationId:n,selectedBotId:o}=i.nc.getState();if(!n||!t)throw new Error("Bot details not found");const{deleted:a}=await c.TF("/bot/".concat(n,"/").concat(t));if(a){let{botsMap:t,botsList:n}=i.nc.getState();t=(0,e.A)({},t),n=[...n],delete t[a];const c=n.findIndex((t=>t._id===a));c>=0&&n.splice(c,1);const r={botsMap:t,botsList:n};var s;if(o===a)r.selectedBotId=(null===(s=n[0])||void 0===s?void 0:s._id)||null;i.nc.setState(r)}return!!a}function l(t,n){let{botDesign:o}=i.nc.getState();return o=(0,e.A)((0,e.A)({},o),n),r(t,{botDesign:o})}async function u(t,n){const{organizationId:o,selectedBotId:e}=i.nc.getState(),a=new FormData;a.append("file",n);const s=await c.bE("/bot/".concat(o,"/").concat(e,"/update-logo/").concat(t),a);return f(e,s),s["botDesign.".concat(t)]}async function A(t){const{organizationId:n,selectedBotId:o}=i.nc.getState(),e=await c.TF("/bot/".concat(n,"/").concat(o,"/update-logo/").concat(t));return f(o,e),e["botDesign.".concat(t)]}function g(t,n){return r(t,{botName:n})}function _(t,n){let{botSettings:o={}}=i.nc.getState();return o=(0,e.A)((0,e.A)({},o),n),r(t,{botSettings:o})}function f(t,n){const{botsMap:o}=i.nc.getState(),e=o[t];if(!e)return;b(Object.keys(n).reduce(((t,o)=>(0,a.G6)(t,o,n[o])),e))}function b(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const o=t._id;let{botsMap:c,botsList:a}=i.nc.getState();c=(0,e.A)((0,e.A)({},c),{},{[o]:t}),a=[...a];const s=a.findIndex((t=>t._id===o));s>=0?a[s]=t:a.push(t);const r={botsMap:c,botsList:a};n&&(r.selectedBotId=o),i.nc.setState(r)}}}]);