"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[6832],{6832:(e,i,t)=>{t.r(i),t.d(i,{default:()=>Bi});var n=t(9950),r=t(28429),o=t(14857),a=t(72930),s=t(78317),l=t(83239),d=t(71525),c=t(81616),u=t(59254);const m=(0,u.Ay)(s.A,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:i,open:t}=e;return{...i.mixins.toolbar,display:"flex",alignItems:"center",justifyContent:t?"flex-start":"center",paddingLeft:i.spacing(t?3:0)}});var p=t(15744),h=t(75157),x=t(32026),g=t(44414);const b=e=>{var i,t;let{open:r}=e;const a=(0,o.A)(),[s,l]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{const e=window.location.hostname;try{const i=await(0,h.f)(e);l(i),u(!1)}catch(i){l({}),console.error("Failed to fetch organization props:",i)}})()},[]),d||((0,x.TZ)(s),(0,x.wE)(s)),(0,g.jsx)(m,{theme:a,open:r,sx:{bgcolor:null!==s&&void 0!==s&&null!==(i=s.header)&&void 0!==i&&i.backgroundColor?null===s||void 0===s||null===(t=s.header)||void 0===t?void 0:t.backgroundColor:"#fff"},children:(0,g.jsx)(c.A,{direction:"row",spacing:1,alignItems:"center",children:!d&&(0,g.jsx)(p.A,{consoleSettings:s})})})};var f=t(82053),A=t(249),j=t(33340),y=t(42074),v=t(70855),w=t(84707),z=t(14195),S=t(83563),C=t(25277),N=t(99779),I=t(96319),k=t(49556),P=t(53065);const D=e=>{let{item:i,level:t,urlPrefix:a}=e;const s=(0,o.A)(),{pathname:l}=(0,r.zy)(),d=(0,j.C$)(e=>e.drawerOpen),c=(0,j.C$)(e=>e.openItem);let u="_self";i.target&&(u="_blank");let m={component:(0,n.forwardRef)((e,t)=>(0,g.jsx)(y.N_,{ref:t,...e,to:`${a||""}${i.url}`,target:u}))};null!==i&&void 0!==i&&i.external&&(m={component:"a",href:i.url,target:u});const p=i.icon,h=!!i.icon&&(0,g.jsx)(p,{style:{fontSize:d?"1rem":"1.25rem"}}),x=c.findIndex(e=>e===i.id)>-1;(0,n.useEffect)(()=>{l.includes(i.url)&&(0,k.G8)([i.id])},[l]);const[b,A]=(0,v.G)(),D=null===A||void 0===A?void 0:A.conversationMedia,F=null===A||void 0===A?void 0:A.trainingMedia,E=(0,j.nc)(e=>e.kbDocs);let M=0;void 0!==E&&(M=E[b]?E[b].length:0);const W={conversationMedia:{status:D&&D.length>0,successMessage:"Conversation media added",failureMessage:"Conversation media not added"},training:{status:F&&F.length>0,successMessage:"Training documents added",failureMessage:"Training documents not added"},cannedResponse:{status:M>0,successMessage:"FAQ content added",failureMessage:"FAQ content not available"}},B="text.primary",O="primary.main";return(0,g.jsxs)(w.A,{className:"btn-menu-item",...m,disabled:i.disabled,onClick:()=>{return e=i.id,void(0,k.G8)([e]);var e},selected:x,sx:{zIndex:1201,pl:d?28*t+"px":1.5,py:d||1!==t?1:1.25,...d&&{"&:hover":{bgcolor:"primary.lighter"},"&.Mui-selected":{bgcolor:"primary.lighter",borderRight:`2px solid ${s.palette.primary.main}`,color:O,"&:hover":{color:O,bgcolor:"primary.lighter"}}},...!d&&{"&:hover":{bgcolor:"transparent"},"&.Mui-selected":{"&:hover":{bgcolor:"transparent"},bgcolor:"transparent"}}},children:[h&&(0,g.jsx)(z.A,{sx:{minWidth:28,color:x?O:B,...!d&&{borderRadius:1.5,width:36,height:36,alignItems:"center",justifyContent:"center","&:hover":{bgcolor:"secondary.lighter"}},...!d&&x&&{bgcolor:"primary.lighter","&:hover":{bgcolor:"primary.lighter"}}},children:h}),(d||!d&&1!==t)&&(0,g.jsx)(S.A,{primary:(0,g.jsx)(f.A,{variant:"h6",sx:{color:x?O:B},children:i.title})}),W[i.id]&&(0,g.jsx)(C.A,{style:{backgroundColor:"transparent"},icon:W[i.id].status?(0,g.jsx)(P.A,{title:W[i.id].successMessage,children:(0,g.jsx)(N.A,{style:{color:"#33cc33",marginRight:-10}})}):(0,g.jsx)(P.A,{title:W[i.id].failureMessage,children:(0,g.jsx)(I.A,{style:{color:"#ff0000",marginRight:-10}})})})]})},F=e=>{var i;let{item:t,urlPrefix:n,settings:r}=e;const o=(0,j.C$)(e=>e.drawerOpen),a=null===(i=t.children)||void 0===i?void 0:i.map(e=>"item"===e.type?e.displayProp&&!0===(null===r||void 0===r?void 0:r[e.displayProp])?null:(0,g.jsx)(D,{item:e,level:1,urlPrefix:n},e.id):(0,g.jsx)(f.A,{variant:"h6",color:"error",align:"center",children:"Fix - Group Collapse or Items"},e.id));return(0,g.jsx)(A.A,{subheader:t.title&&o&&(0,g.jsx)(s.A,{sx:{pl:3,mb:1.5},children:(0,g.jsx)(f.A,{variant:"subtitle2",color:"textSecondary",children:t.title})}),sx:{mb:o?1.5:0,py:0,zIndex:0},children:a})};var E=t(39742),M=t(66276),W=t(58939),B=t(24258),O=t(90125);const T={FileWordOutlined:E.A,SettingOutlined:M.A,VideoCameraAddOutlined:W.A,BgColorsOutlined:B.A,WechatOutlined:O.A},U={id:"botDetails",title:"Bot Configuration",type:"group",children:[{id:"training",title:"Training Documents",type:"item",url:"/training-documents",displayProp:"hideTrainingTab",icon:T.FileWordOutlined},{id:"settings",title:"Settings",type:"item",url:"/settings",displayProp:"hideSettingsTab",icon:T.SettingOutlined},{id:"cannedResponse",title:"FAQ / Knowledge base",type:"item",url:"/canned-response",displayProp:"hideKBTab",icon:T.FileWordOutlined},{id:"conversationMedia",title:"Conversation Media",type:"item",url:"/conversation-media",displayProp:"hideMediaTab",icon:T.VideoCameraAddOutlined},{id:"flowDesigner",title:"Design Bot Flow",type:"item",url:"/flow-designer",displayProp:"hideFlowDesignTab",icon:T.BgColorsOutlined},{id:"chatDesign",title:"Design & Deploy Bot",type:"item",url:"/bot-design",displayProp:"hideDesignTab",icon:T.BgColorsOutlined},{id:"callConnect",title:"Call Connect",type:"item",url:"/call-connect",displayProp:"hideFlowDesignTab",icon:T.BgColorsOutlined}]};const _={id:"group-dashboard",title:"Analytics",type:"group",children:[{id:"dashboard",title:"Dashboard",type:"item",url:"/dashboard",icon:{DashboardOutlined:t(58203).A}.DashboardOutlined,breadcrumbs:!1,status:!0}]};const L={id:"integrations",title:"Bot Integrations",type:"group",children:[{id:"view-integrations",title:"All Integrations",type:"item",url:"/integrations",icon:t(26142).A}]};var R=t(18411);const $={id:"billing",title:"Billing",type:"group",children:[{id:"view-billing",title:"Billing",type:"item",url:"/billing",icon:R.A}]};var q=t(52699),Y=t(60899),V=t(26762),G=t(60469),H=t(41507),J=t(17239),Q=t(23266),X=t(57191);function Z(e){let{anchorEl:i,botsList:t,onChange:n}=e;return(0,g.jsx)(J.A,{id:"bot-list-menu",anchorEl:i,open:!0,onClose:n,TransitionComponent:X.A,children:t.map(e=>(0,g.jsx)(Q.A,{onClick:()=>n(e._id),children:e.botName},e._id))})}const K=function(e){let{item:{children:i},navComponent:t}=e;const o=(0,j.nc)(e=>e.botsList),a=(0,j.nc)(e=>{var i;return!e.isSuperUser&&(null===(i=e.organization)||void 0===i?void 0:i.settings)})||{},{pathname:s}=(0,r.zy)(),l=(0,r.Zp)(),{botId:d}=(0,r.g)(),[c,u]=(0,v.G)(d),[m,p]=n.useState(null),h=n.useRef({});h.current.botId=c,h.current.pathname=s;const x=e=>{p(e.currentTarget)},b=n.useCallback(e=>{if(p(null),"string"===typeof e){const{pathname:i,botId:t}=h.current;if(i&&i.includes(t)){const n=i.replace(t,e);l(n)}(0,H.qb)(e)}},[l]);return n.useEffect(()=>{d&&d!==h.current.botId&&(0,H.qb)(d)},[d]),null!==o&&void 0!==o&&o.length?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h6",{style:{padding:"2px 0 5px 20px",margin:"0px",fontSize:"0.80rem",fontWeight:600,lineHeight:1.66,fontFamily:'"Public Sans", sans-serif',color:"#44546f"},children:"Select and Configure Bot"}),(0,g.jsxs)("div",{className:"bot-menus",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)(Y.Ay,{container:!0,className:"bot-menu-block",mb:.8,tabIndex:0,onClick:x,children:[(0,g.jsx)(Y.Ay,{item:!0,xs:11,md:11,px:2,py:1,children:(0,g.jsxs)(Y.Ay,{container:!0,children:[(0,g.jsx)(Y.Ay,{item:!0,xs:1,md:1,children:(0,g.jsx)(G.A,{style:{cursor:"pointer",color:"#2f7ce9"}})}),(0,g.jsx)(Y.Ay,{item:!0,xs:11,md:11,px:1.2,id:"bot-selector-name","aria-controls":"bot-list-menu","aria-haspopup":"true",style:{cursor:"pointer",color:"#2f7ce9"},children:(0,g.jsx)("h6",{style:{margin:0,fontWeight:600,fontSize:"0.875rem",lineHeight:"1.57",fontFamily:"Public Sans,sans-serif",color:"#2f7ce9"},children:null===u||void 0===u?void 0:u.botName})})]})}),(0,g.jsx)(Y.Ay,{item:!0,xs:1,md:1,py:1,id:"bot-selector-arrow","aria-controls":"bot-list-menu","aria-haspopup":"true",onClick:x,style:{cursor:"pointer",color:"#2f7ce9"},children:(0,g.jsx)(V.A,{})})]}),m&&(0,g.jsx)(Z,{botsList:o,anchorEl:m,onChange:b})]}),i.map(e=>(0,g.jsx)(t,{item:e,urlPrefix:`/bot/${c}`,settings:a},e.id))]})]}):null},ee={items:[{id:"group-org-details",title:"Navigation",type:"group",children:[{id:"bots",title:"Bots List",type:"item",url:"/bots",icon:q.A,breadcrumbs:!1}]},{id:"group-choose-bot",title:"Choose Bot",type:"component",component:K,children:[_,U,L,$]}]},ie=()=>{if(!(0,j.nc)(e=>e.organizationId))return null;const e=ee.items.map(e=>(0,g.jsx)(te,{item:e},e.id));return(0,g.jsx)(s.A,{sx:{pt:2},children:e})};function te(e){let{item:i,urlPrefix:t,settings:n}=e;const r=i.component;switch(i.type){case"group":return(0,g.jsx)(F,{item:i,urlPrefix:t,settings:n});case"component":return(0,g.jsx)(r,{item:i,navComponent:te,settings:n});default:return(0,g.jsx)(f.A,{variant:"h6",color:"error",align:"center",children:"Fix - Navigation Group"})}}var ne=t(81532),re=t(63344),oe=t(41377);const ae=(0,u.Ay)(oe.S7)({flexGrow:1,height:"100%",overflow:"hidden"}),se=(0,u.Ay)(re.A)(e=>{let{theme:i}=e;return{maxHeight:"100%","& .simplebar-scrollbar":{"&:before":{backgroundColor:(0,ne.X4)(i.palette.grey[500],.48)},"&.simplebar-visible:before":{opacity:1}},"& .simplebar-track.simplebar-vertical":{width:10},"& .simplebar-track.simplebar-horizontal .simplebar-scrollbar":{height:6},"& .simplebar-mask":{zIndex:"inherit"}}});function le(e){let{children:i,sx:t,...n}=e;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ae,{children:(0,g.jsx)(se,{timeout:500,clickOnTrack:!1,sx:t,...n,children:i})}),(0,g.jsx)(oe.IM,{children:(0,g.jsx)(s.A,{sx:{overflowX:"auto",...t},...n,children:i})})]})}const de=()=>(0,g.jsx)(le,{sx:{"& .simplebar-content":{display:"flex",flexDirection:"column"}},children:(0,g.jsx)(ie,{})});var ce=t(16243);const ue=e=>({width:ce.Y7,borderRight:`1px solid ${e.palette.divider}`,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",boxShadow:"none"}),me=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0,borderRight:"none",boxShadow:e.customShadows.z1}),pe=(0,u.Ay)(d.Ay,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:i,open:t}=e;return{width:ce.Y7,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{...ue(i),"& .MuiDrawer-paper":ue(i)},...!t&&{...me(i),"& .MuiDrawer-paper":me(i)}}}),he=e=>{let{open:i,handleDrawerToggle:t,window:r}=e;const l=(0,o.A)(),c=(0,a.A)(l.breakpoints.down("lg")),u=void 0!==r?()=>r().document.body:void 0,m=(0,n.useMemo)(()=>(0,g.jsx)(de,{}),[]),p=(0,n.useMemo)(()=>(0,g.jsx)(b,{open:i}),[i]);return(0,g.jsx)(s.A,{component:"nav",sx:{flexShrink:{md:0},zIndex:1300},"aria-label":"mailbox folders",children:c?(0,g.jsxs)(d.Ay,{container:u,variant:"temporary",open:i,onClose:t,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:ce.Y7,borderRight:`1px solid ${l.palette.divider}`,backgroundImage:"none",boxShadow:"inherit"}},children:[i&&p,i&&m]}):(0,g.jsxs)(pe,{variant:"permanent",open:i,children:[p,m]})})};var xe=t(25333),ge=t(88060);const be=(0,u.Ay)(ge.A,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:i,open:t}=e;return{zIndex:i.zIndex.drawer+1,transition:i.transitions.create(["width","margin"],{easing:i.transitions.easing.sharp,duration:i.transitions.duration.leavingScreen}),...t&&{marginLeft:ce.Y7,width:`calc(100% - ${ce.Y7}px)`,transition:i.transitions.create(["width","margin"],{easing:i.transitions.easing.sharp,duration:i.transitions.duration.enteringScreen})}}});var fe=t(24184),Ae=t(1849),je=t(2235),ye=t(39325),ve=t(50704),we=t(11966),ze=t(84142),Se=t(51637),Ce=t(40165);const Ne=(0,n.forwardRef)((e,i)=>{let{children:t,position:n,type:r,...o}=e,a={transformOrigin:"0 0 0"};return a={transformOrigin:"0 0 0"},(0,g.jsxs)(s.A,{ref:i,children:["grow"===r&&(0,g.jsx)(Ce.A,{...o,children:(0,g.jsx)(s.A,{sx:a,children:t})}),"fade"===r&&(0,g.jsx)(X.A,{...o,timeout:{appear:0,enter:300,exit:150},children:(0,g.jsx)(s.A,{sx:a,children:t})})]})});Ne.defaultProps={type:"grow",position:"top-left"};const Ie=Ne;var ke=t(63464),Pe=t(40033),De=t(28170),Fe=t(3788),Ee=t(2660),Me=t(24516),We=t(32829),Be=t(93383),Oe=t(92728),Te=t(29714),Ue=t(61467),_e=t(21788),Le=t(8478);const Re=(0,u.Ay)(ke.A)(e=>{let{theme:i}=e;return{"& .MuiDialogContent-root":{padding:i.spacing(2)},"& .MuiDialogActions-root":{padding:i.spacing(1)}}});function $e(e){const i=(0,o.A)(),{breakpoints:t}=i,{openUserProfile:r,setOpenUserProfile:a}=e,l=(0,j.nc)(e=>e.organization),d=(0,j.nc)(e=>e.userDetails),u=(0,j.nc)(e=>e.userName),m=(0,j.nc)(e=>e.organizationId);n.useEffect(()=>{d||async function(e){const i=await Le.Jt(`/organization/${e}/member-details`);j.nc.setState({userDetails:i,loadingBackdropStatus:!1})}(m).catch(e=>{console.error("Error fetching organization details:",e),(0,_e.i)(!0,"Not able to fetch organization details. Try after sometime!","error")})},[m,u,d]);return(0,g.jsxs)(Re,{TransitionComponent:Oe.A,"aria-labelledby":"customized-dialog-title",open:r,PaperProps:{sx:{width:"40%",[t.down("sm")]:{width:"90%"}}},children:[(0,g.jsx)(Pe.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Profile"}),(0,g.jsx)(xe.A,{"aria-label":"close",onClick:()=>{a(!1)},sx:{position:"absolute",right:8,top:8},children:(0,g.jsx)(I.A,{})}),(0,g.jsxs)(De.A,{dividers:!0,children:[(0,g.jsx)(s.A,{sx:{textAlign:"center",m:3},children:(0,g.jsx)("label",{className:"me-1",children:null===d||void 0===d?void 0:d.adminEmail})}),(0,g.jsx)(s.A,{sx:{display:"grid",gap:1,gridTemplateColumns:"repeat(2, 1fr)"}}),(0,g.jsx)(Ue.l1,{initialValues:{organizationName:null===l||void 0===l?void 0:l.organizationName,organizationWebsiteUrl:null===l||void 0===l?void 0:l.websiteUrl,adminName:null===d||void 0===d?void 0:d.adminName,phoneNumber:null===d||void 0===d?void 0:d.phoneNumber.number,code:null===d||void 0===d?void 0:d.phoneNumber.code,email:null===d||void 0===d?void 0:d.adminEmail},validationSchema:Te.Ik().shape({organizationName:Te.Yj().max(255).required("Organization Name is required"),organizationWebsiteUrl:Te.Yj().max(255).required("Organization Website url is required"),adminName:Te.Yj().max(255).required("Name is required"),email:Te.Yj().email("Must be a valid email").max(255).required("Email is required"),code:Te.Yj().matches(/^\+[1-9]\d{0,3}$/,"Invalid country code, start with +").required("Country code is required"),phoneNumber:Te.ai().min(5e9,"Must be a valid mobile number").max(9999999999,"Must be a valid mobile number").required("Phone Number is required")}),onSubmit:async(e,i)=>{let{setErrors:t,setStatus:n,setSubmitting:r}=i;try{const i={organizationId:m,data:e};await async function(e){const i=await Le.bE("/organization/update-organization-details",e),{adminEmail:t,adminName:n,phoneNumber:r}=i,o={adminEmail:t,adminName:n,phoneNumber:r};j.nc.setState({userDetails:o});const{organizationName:a,organizationWebsiteUrl:s}=i;j.nc.setState(e=>({organization:{...e.organization,organizationName:a,websiteUrl:s}}))}(i),n({success:!1}),r(!1),a(!1),(0,_e.i)(!0,"Profile updated successfully","success")}catch(o){n({success:!1}),t({submit:o.message}),r(!1),(0,_e.i)(!0,"Not able to update the profile. Try after sometime!","error")}},children:e=>{let{errors:i,handleBlur:t,handleChange:n,handleSubmit:r,isSubmitting:o,touched:a,values:s}=e;return(0,g.jsx)("form",{noValidate:!0,onSubmit:r,children:(0,g.jsxs)(Y.Ay,{container:!0,spacing:1,children:[(0,g.jsx)(Y.Ay,{item:!0,xs:12,md:12,children:(0,g.jsxs)(c.A,{spacing:1,children:[(0,g.jsx)(Fe.A,{htmlFor:"organizationName",children:"Organization Name"}),(0,g.jsx)(Ee.A,{id:"organizationName",type:"organizationName",defaultValue:s.organizationName,name:"organizationName",onBlur:t,onChange:n,fullWidth:!0,autoComplete:"off",error:Boolean(a.organizationName&&i.organizationName)}),a.organizationName&&i.organizationName&&(0,g.jsx)(Me.A,{error:!0,id:"helper-text-organization-name",children:i.organizationName})]})}),(0,g.jsx)(Y.Ay,{item:!0,xs:12,md:12,children:(0,g.jsxs)(c.A,{spacing:1,children:[(0,g.jsx)(Fe.A,{htmlFor:"organizationWebsiteUrl",children:"Organization Website url"}),(0,g.jsx)(Ee.A,{id:"organizationWebsiteUrl",type:"organizationWebsiteUrl",defaultValue:s.organizationWebsiteUrl,name:"organizationWebsiteUrl",onBlur:t,onChange:n,fullWidth:!0,autoComplete:"off",error:Boolean(a.organizationWebsiteUrl&&i.organizationWebsiteUrl)}),a.organizationWebsiteUrl&&i.organizationWebsiteUrl&&(0,g.jsx)(Me.A,{error:!0,id:"helper-text-organization-website-url",children:i.organizationWebsiteUrl})]})}),(0,g.jsx)(Y.Ay,{item:!0,xs:12,md:12,children:(0,g.jsxs)(c.A,{spacing:1,children:[(0,g.jsx)(Fe.A,{htmlFor:"adminName",children:"Name"}),(0,g.jsx)(Ee.A,{id:"adminName",type:"adminName",defaultValue:s.adminName,name:"adminName",autoComplete:"off",onBlur:t,onChange:n,fullWidth:!0,error:Boolean(a.adminName&&i.adminName)}),a.adminName&&i.adminName&&(0,g.jsx)(Me.A,{error:!0,id:"helper-text-adminame",children:i.adminName})]})}),(0,g.jsx)(Y.Ay,{item:!0,xs:12,md:6,children:(0,g.jsxs)(c.A,{spacing:1,children:[(0,g.jsx)(Fe.A,{htmlFor:"code",children:"ISD Code (eg:- +91)"}),(0,g.jsx)(Ee.A,{id:"code",type:"code",defaultValue:s.code,name:"code",autoComplete:"off",onBlur:t,onChange:n,fullWidth:!0,error:Boolean(a.code&&i.code)}),a.code&&i.code&&(0,g.jsx)(Me.A,{error:!0,id:"helper-text-country-code",children:i.code})]})}),(0,g.jsx)(Y.Ay,{item:!0,xs:12,md:6,children:(0,g.jsxs)(c.A,{spacing:1,children:[(0,g.jsx)(Fe.A,{htmlFor:"phoneNumber",children:"Phone Number"}),(0,g.jsx)(Ee.A,{id:"phoneNumber",type:"number",defaultValue:s.phoneNumber,name:"phoneNumber",onBlur:t,onChange:n,autoComplete:"off",fullWidth:!0,error:Boolean(a.phoneNumber&&i.phoneNumber)}),a.phoneNumber&&i.phoneNumber&&(0,g.jsx)(Me.A,{error:!0,id:"helper-text-phone-number",children:i.phoneNumber})]})}),i.submit&&(0,g.jsx)(Y.Ay,{item:!0,xs:12,children:(0,g.jsx)(Me.A,{error:!0,children:i.submit})}),(0,g.jsx)(Y.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,g.jsx)(We.A,{children:(0,g.jsx)(Be.A,{isLoading:o,disabled:o,color:"primary",size:"large",type:"submit",variant:"contained",children:"Update"})})})]})})}})]})]})}var qe=t(24513),Ye=t(41095),Ve=t(31170),Ge=t(26092),He=t(17530);const Je=e=>{let{handleLogout:i}=e;const t=(0,o.A)(),[r,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(A.A,{component:"nav",sx:{p:0,"& .MuiListItemIcon-root":{minWidth:32,color:t.palette.grey[500]}},children:[(0,g.jsxs)(w.A,{onClick:()=>a(!0),children:[(0,g.jsx)(z.A,{children:(0,g.jsx)(qe.A,{})}),(0,g.jsx)(S.A,{primary:"Edit Profile"})]}),(0,g.jsxs)(w.A,{onClick:()=>l(!0),children:[(0,g.jsx)(z.A,{children:(0,g.jsx)(Ye.A,{})}),(0,g.jsx)(S.A,{primary:"Recharge"})]}),(0,g.jsxs)(w.A,{onClick:i,children:[(0,g.jsx)(z.A,{children:(0,g.jsx)(Ve.A,{})}),(0,g.jsx)(S.A,{primary:"Logout"})]})]}),(0,g.jsx)($e,{openUserProfile:r,setOpenUserProfile:a}),(0,g.jsx)(Ge.A,{title:"Recharge Wallet",width:"350px",openPopUpDialog:s,onClose:()=>l(!1),children:(0,g.jsx)(He.default,{isDialog:!0})})]})};var Qe=t(98485),Xe=t(79378);const Ze=()=>{const e=(0,o.A)(),[i,t]=(0,n.useState)(0),r=(e,i)=>{0===i&&window.open("https://livserv.ai/contact-us/"),t(i)};return(0,g.jsxs)(A.A,{component:"nav",sx:{p:0,"& .MuiListItemIcon-root":{minWidth:32,color:e.palette.grey[500]}},children:[(0,g.jsxs)(w.A,{selected:0===i,onClick:e=>r(0,0),children:[(0,g.jsx)(z.A,{children:(0,g.jsx)(Qe.A,{})}),(0,g.jsx)(S.A,{primary:"Support"})]}),(0,g.jsxs)(w.A,{component:y.N_,to:"/account-settings",selected:1===i,onClick:e=>r(0,1),children:[(0,g.jsx)(z.A,{children:(0,g.jsx)(Xe.A,{})}),(0,g.jsx)(S.A,{primary:"Account Settings"})]})]})};var Ke=t(31462);function ei(e){let{children:i,value:t,index:n,...r}=e;return(0,g.jsx)("div",{role:"tabpanel",hidden:t!==n,id:`profile-tabpanel-${n}`,"aria-labelledby":`profile-tab-${n}`,...r,children:t===n&&i})}function ii(e){return{id:`profile-tab-${e}`,"aria-controls":`profile-tabpanel-${e}`}}const ti=()=>{var e;const i=(0,o.A)(),t=()=>{(0,Ke.ri)()},r=(0,n.useRef)(null),[a,l]=(0,n.useState)(!1),d=e=>{r.current&&r.current.contains(e.target)||l(!1)},[u,m]=(0,n.useState)(0),p=(e,i)=>{m(i)},h=(0,j.nc)(e=>e.organization),x=(0,j.nc)(e=>e.isSuperUser);return(0,g.jsxs)(s.A,{sx:{flexShrink:0,ml:.75},children:[x?(0,g.jsx)(f.A,{variant:"subtitle1",onClick:t,sx:{cursor:"pointer"},children:"Logout"}):(0,g.jsx)(fe.A,{sx:{p:.25,bgcolor:a?"grey.300":"transparent",borderRadius:1,"&:hover":{bgcolor:"secondary.lighter"}},"aria-label":"open profile",ref:r,"aria-controls":a?"profile-grow":void 0,"aria-haspopup":"true",onClick:()=>{l(e=>!e)},children:(0,g.jsx)(c.A,{direction:"row",spacing:2,alignItems:"center",sx:{p:.5},children:(0,g.jsx)(f.A,{variant:"subtitle1",children:null===h||void 0===h||null===(e=h.admins[0])||void 0===e?void 0:e.adminName})})}),(0,g.jsx)(Ae.A,{placement:"bottom-end",open:a,anchorEl:r.current,role:void 0,transition:!0,disablePortal:!0,popperOptions:{modifiers:[{name:"offset",options:{offset:[0,9]}}]},children:e=>{var n,r,o,l;let{TransitionProps:m}=e;return(0,g.jsx)(Ie,{type:"fade",in:a,...m,children:a&&(0,g.jsx)(je.A,{sx:{boxShadow:i.customShadows.z1,width:290,minWidth:240,maxWidth:290,[i.breakpoints.down("md")]:{maxWidth:250}},children:(0,g.jsx)(ye.x,{onClickAway:d,children:(0,g.jsxs)(Se.A,{elevation:0,border:!1,content:!1,children:[(0,g.jsx)(ve.A,{sx:{px:2.5,pt:3},children:(0,g.jsxs)(Y.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,g.jsx)(Y.Ay,{item:!0,children:(0,g.jsx)(c.A,{direction:"row",spacing:1.25,alignItems:"center",children:(0,g.jsxs)(c.A,{children:[(0,g.jsx)(f.A,{variant:"h6",children:null===h||void 0===h||null===(n=h.admins[0])||void 0===n?void 0:n.adminName}),(0,g.jsx)(f.A,{variant:"body2",color:"textSecondary",children:null===h||void 0===h||null===(r=h.admins[0])||void 0===r?void 0:r.role}),(0,g.jsxs)(f.A,{variant:"body2",color:"textSecondary",children:["Balance :\xa0",(0,g.jsxs)(s.A,{fontWeight:"bold",display:"inline",color:(null===h||void 0===h||null===(o=h.availableCredits)||void 0===o?void 0:o.toFixed(3))<=5?"error.main":"success.main",children:[null===h||void 0===h||null===(l=h.availableCredits)||void 0===l?void 0:l.toFixed(3),"\xa0$"]})]})]})})}),(0,g.jsx)(Y.Ay,{item:!0,children:(0,g.jsx)(xe.A,{size:"large",color:"secondary",onClick:t,children:(0,g.jsx)(Ve.A,{})})})]})}),a&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,g.jsxs)(we.A,{variant:"fullWidth",value:u,onChange:p,"aria-label":"profile tabs",children:[(0,g.jsx)(ze.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textTransform:"capitalize"},icon:(0,g.jsx)(Xe.A,{style:{marginBottom:0,marginRight:"10px"}}),label:"Profile",...ii(0)}),(0,g.jsx)(ze.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textTransform:"capitalize"},icon:(0,g.jsx)(M.A,{style:{marginBottom:0,marginRight:"10px"}}),label:"Setting",...ii(1)})]})}),(0,g.jsx)(ei,{value:u,index:0,dir:i.direction,children:(0,g.jsx)(Je,{handleLogout:t})}),(0,g.jsx)(ei,{value:u,index:1,dir:i.direction,children:(0,g.jsx)(Ze,{})})]})]})})})})}})]})};var ni=t(28810),ri=t(38614),oi=t(41413),ai=t(71378),si=t(74745),li=t(2886),di=t(27379),ci=t(39786),ui=t(94118),mi=t(57560);const pi={width:36,height:36,fontSize:"1rem"},hi={mt:"6px",ml:1,top:"auto",right:"auto",alignSelf:"flex-start",transform:"none"},xi=e=>{switch(e){case"no-credits":return(0,g.jsx)(R.A,{style:{color:"#EF5A28"}});case"low-credits":return(0,g.jsx)(li.A,{style:{color:"#EF5A28"}});default:return(0,g.jsx)(di.A,{style:{color:"#7A7573"}})}},gi=()=>{const e=(0,o.A)(),i=(0,a.A)(e.breakpoints.down("md")),t=(0,n.useRef)(null),[r,l]=(0,n.useState)(!1),d=()=>{l(e=>!e)},c=e=>{t.current&&t.current.contains(e.target)||l(!1)},u=(0,j.nc)(e=>e.organizationId),[m,p]=(0,n.useState)(null),[h,b]=(0,n.useState)(!1),y=(0,n.useCallback)(async()=>{if(!h)try{const e=await async function(e){return await Le.Jt(`/notifications/${e}/list`)}(u);p(e)}catch(e){console.error("Error fetching notifications:",e),(0,_e.i)(!0,"Not able to fetch notifications. Try after sometime!","error"),e&&"Unauthorized request"===e.message&&b(!0)}},[u,h]);(0,n.useEffect)(()=>{y();const e=setInterval(()=>{y()},6e5);return()=>clearInterval(e)},[y]);const v=async e=>{const i={_id:e,notificationCloseStatus:!0},t=await async function(e,i){return await Le.bE(`/notifications/${e}`,i)}(u,i);if(t){const e=m.filter(e=>e._id!==t._id);p(e),(0,_e.i)(!0,"Notification closed successfully","success")}else(0,_e.i)(!0,"Not able to close notification. Try after sometime!","error")};return(0,g.jsxs)(s.A,{sx:{flexShrink:0,ml:.75},children:[(0,g.jsx)(xe.A,{disableRipple:!0,color:"secondary",sx:{color:"text.primary",bgcolor:r?"grey.300":"grey.100"},"aria-label":"open profile",ref:t,"aria-controls":r?"profile-grow":void 0,"aria-haspopup":"true",onClick:d,children:(0,g.jsx)(ni.A,{badgeContent:m?m.length:"",color:"primary",children:(0,g.jsx)(ci.A,{})})}),(0,g.jsx)(Ae.A,{placement:i?"bottom":"bottom-end",open:r,anchorEl:t.current,role:void 0,transition:!0,disablePortal:!0,popperOptions:{modifiers:[{name:"offset",options:{offset:[i?-5:0,9]}}]},children:i=>{let{TransitionProps:t}=i;return(0,g.jsx)(Ie,{type:"fade",in:r,...t,children:(0,g.jsx)(je.A,{sx:{boxShadow:e.customShadows.z1,width:"100%",minWidth:285,maxWidth:420,[e.breakpoints.down("md")]:{maxWidth:285}},children:(0,g.jsx)(ye.x,{onClickAway:c,children:(0,g.jsx)(Se.A,{title:"Notification",elevation:0,border:!1,content:!1,secondary:(0,g.jsx)(xe.A,{size:"small",onClick:d,children:(0,g.jsx)(ui.A,{})}),children:(0,g.jsx)(A.A,{component:"nav",sx:{p:0,maxHeight:"300px",overflowY:"auto","& .MuiListItemButton-root":{py:.5,"& .MuiAvatar-root":pi,"& .MuiListItemSecondaryAction-root":{...hi,position:"relative"}}},children:m&&m.map(e=>(0,g.jsxs)(n.Fragment,{children:[(0,g.jsxs)(w.A,{children:[(0,g.jsx)(ri.A,{children:(0,g.jsx)(oi.A,{sx:{bgcolor:"success.lighter"},children:xi(null===e||void 0===e?void 0:e.notificationType)})}),(0,g.jsx)(S.A,{primary:(0,g.jsx)(f.A,{component:"span",variant:"subtitle1",children:e.notification}),secondary:(0,x.Yq)(e.createdAt)}),(0,g.jsx)(ai.A,{style:{maxWidth:"15px"},children:(0,g.jsx)(P.A,{title:"close",children:(0,g.jsx)(xe.A,{size:"small",sx:{color:"#EF5A28"},onClick:()=>v(e._id),children:(0,g.jsx)(mi.A,{})})})})]}),(0,g.jsx)(si.A,{})]},e._id))})})})})})}})]})};var bi=t(72906),fi=t(25979),Ai=t(45735),ji=t(8145),yi=t(2046),vi=t(88521),wi=t(60767);const zi=(0,vi.Z)({matchFrom:"start",stringify:e=>(e.organizationName||e._id).toLowerCase()});const Si=function(){const e=(0,j.nc)(e=>e.isSuperUser),i=(0,j.nc)(e=>e.organizationId),t=(0,j.nc)(e=>e.organizationList),o=n.useRef({}),{pathname:a}=(0,r.zy)(),l=(0,r.Zp)(),{botId:d}=(0,r.g)();o.current.navigate=l,o.current.pathname=a,o.current.botId=d;const c=n.useMemo(()=>null===t||void 0===t?void 0:t.filter(e=>e._id===i)[0],[i,t]),u=e&&(null===t||void 0===t?void 0:t.length)>0,m=n.useCallback(async(e,i)=>{const t=i._id;j.nc.setState({organization:i,organizationId:t,selectedBotId:null}),sessionStorage.setItem("orgId",t);const n=await(0,H.Ds)(t),{botId:r,pathname:a,navigate:s}=o.current;n?r&&a&&s(a.replace(r,n)):s("/")},[]);return(0,g.jsx)(s.A,{sx:{width:"100%",ml:{xs:0,md:1}},children:u&&(0,g.jsx)(fi.A,{sx:{width:{xs:"100%",md:224}},children:(0,g.jsx)(Ai.A,{disablePortal:!0,openOnFocus:!0,disableClearable:!0,options:t,onChange:m,defaultValue:c,filterOptions:zi,renderOption:(e,i)=>{var t;return(0,n.createElement)("li",{...e,key:i._id,style:{display:"flex",justifyContent:"space-between"}},(0,g.jsx)(S.A,{children:i.organizationName||`(${i._id})`}),(0,g.jsxs)(S.A,{sx:{textAlign:"right",color:(null===(t=i.availableCredits)||void 0===t?void 0:t.toFixed(1))<=5?"error.main":"success.main"},children:["$",i.availableCredits?i.availableCredits.toFixed(1):0]}))},getOptionLabel:e=>e.organizationName||`(${e._id})`,sx:{width:300},renderInput:e=>(0,g.jsx)(ji.A,{size:"small",startAdornment:(0,g.jsx)(yi.A,{position:"start",sx:{mr:-.5},children:(0,g.jsx)(wi.A,{})}),placeholder:"Ctrl + K",...e})})})})},Ci=()=>{const e=(0,o.A)(),[i,t]=(0,n.useState)(!1),r=(0,n.useRef)(null),a=e=>{r.current&&r.current.contains(e.target)||t(!1)},d=(0,n.useRef)(i);return(0,n.useEffect)(()=>{!0===d.current&&!1===i&&r.current.focus(),d.current=i},[i]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s.A,{sx:{flexShrink:0,ml:.75},children:(0,g.jsx)(xe.A,{component:"span",disableRipple:!0,sx:{bgcolor:i?"grey.300":"grey.100"},ref:r,"aria-controls":i?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:()=>{t(e=>!e)},color:"inherit",children:(0,g.jsx)(bi.A,{})})}),(0,g.jsx)(Ae.A,{placement:"bottom-end",open:i,anchorEl:r.current,role:void 0,transition:!0,disablePortal:!0,style:{width:"100%"},popperOptions:{modifiers:[{name:"offset",options:{offset:[0,9]}}]},children:t=>{let{TransitionProps:n}=t;return(0,g.jsx)(Ie,{type:"fade",in:i,...n,children:(0,g.jsx)(je.A,{sx:{boxShadow:e.customShadows.z1},children:(0,g.jsx)(ye.x,{onClickAway:a,children:(0,g.jsx)(ge.A,{color:"inherit",children:(0,g.jsxs)(l.A,{children:[(0,g.jsx)(Si,{}),(0,g.jsx)(ti,{})]})})})})})}})]})},Ni=()=>{const e=(0,a.A)(e=>e.breakpoints.down("md"));return(0,g.jsxs)(g.Fragment,{children:[!e&&(0,g.jsx)(Si,{}),e&&(0,g.jsx)(s.A,{sx:{width:"100%",ml:1}}),(0,g.jsx)(gi,{}),!e&&(0,g.jsx)(ti,{}),e&&(0,g.jsx)(Ci,{})]})};var Ii=t(29205),ki=t(96185);const Pi=e=>{let{open:i,handleDrawerToggle:t}=e;const n=(0,o.A)(),r=(0,a.A)(n.breakpoints.down("lg")),s=(0,g.jsxs)(l.A,{children:[(0,g.jsx)(xe.A,{disableRipple:!0,"aria-label":"open drawer",onClick:t,edge:"start",color:"secondary",sx:{color:"text.primary",bgcolor:i?"grey.200":"grey.100",ml:{xs:0,lg:-2}},children:i?(0,g.jsx)(ki.A,{}):(0,g.jsx)(Ii.A,{})}),(0,g.jsx)(Ni,{})]}),d={position:"fixed",color:"inherit",elevation:0,sx:{borderBottom:`1px solid ${n.palette.divider}`}};return(0,g.jsx)(g.Fragment,{children:r?(0,g.jsx)(ge.A,{...d,children:s}):(0,g.jsx)(be,{open:i,...d,children:s})})};var Di=t(52432);const Fi=e=>{let{navigation:i,title:t,...o}=e;const a=(0,r.zy)(),[s,l]=(0,n.useState)(),[d,c]=(0,n.useState)(),u=e=>{e.children&&e.children.filter(i=>(i.type&&"collapse"===i.type?u(i):i.type&&"item"===i.type&&a.pathname===i.url&&(l(e),c(i)),!1))};let m,p;(0,n.useEffect)(()=>{var e;null===i||void 0===i||null===(e=i.items)||void 0===e||e.map(e=>(e.type&&"group"===e.type&&u(e),!1))}),"/breadcrumbs"===a.pathname&&(a.pathname="/dashboard/analytics");let h=(0,g.jsx)(f.A,{}),x="";return s&&"collapse"===s.type&&(m=(0,g.jsx)(f.A,{component:y.N_,to:document.location.pathname,variant:"h6",sx:{textDecoration:"none"},color:"textSecondary",children:s.title})),d&&"item"===d.type&&(x=d.title,p=(0,g.jsx)(f.A,{variant:"subtitle1",color:"textPrimary",children:x}),!1!==d.breadcrumbs&&(h=(0,g.jsx)(Se.A,{border:!1,sx:{mb:3,bgcolor:"transparent"},...o,content:!1,children:(0,g.jsxs)(Y.Ay,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:[(0,g.jsx)(Y.Ay,{item:!0,children:(0,g.jsxs)(Di.A,{"aria-label":"breadcrumb",children:[(0,g.jsx)(f.A,{component:y.N_,to:"/",color:"textSecondary",variant:"h6",sx:{textDecoration:"none"},children:"Home"}),m,p]})}),t&&(0,g.jsx)(Y.Ay,{item:!0,sx:{mt:2},children:(0,g.jsx)(f.A,{variant:"h5",children:d.title})})]})}))),h};var Ei=t(28689),Mi=t(11003);const Wi={id:"organizationsList",title:"Organizations List",type:"group",children:[{id:"view-all-organizations",title:"All Organizations",type:"item",url:"/organizations-list",icon:Ei.A,breadcrumbs:!1},{id:"view-organizations-invoice",title:"Organizations Invoice",type:"item",url:"/organizations-invoice",icon:Mi.A,breadcrumbs:!1}]},Bi=()=>{const[e,i]=(0,n.useState)(!1),{organizationId:t,botId:d}=(0,r.g)(),c=(0,o.A)(),u=(0,a.A)(c.breakpoints.down("lg")),m=(0,j.nc)(e=>e.isSuperUser);(0,n.useEffect)(()=>{const e=ee.items.some(e=>e===Wi);m?e||ee.items.unshift(Wi):e&&(ee.items=ee.items.filter(e=>e!==Wi))},[m]),(0,n.useEffect)(()=>{(0,H.YS)(t,d).then(i)},[t]);const p=(0,j.C$)(e=>e.drawerOpen),[h,x]=(0,n.useState)(p),b=()=>{x(!h),(0,k.sd)(!h)};return(0,n.useEffect)(()=>{x(!u),(0,k.sd)(!u)},[u]),(0,n.useEffect)(()=>{h!==p&&x(p)},[p]),e?(0,g.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,g.jsx)(Pi,{open:h,handleDrawerToggle:b}),(0,g.jsx)(he,{open:h,handleDrawerToggle:b}),(0,g.jsxs)(s.A,{component:"main",sx:{width:"calc(100% - 270px)",flexGrow:1,p:{xs:2,sm:3}},children:[(0,g.jsx)(l.A,{}),(0,g.jsx)(Fi,{navigation:ee,title:!0}),(0,g.jsx)(Fi,{navigation:ee,title:!0}),(0,g.jsx)(r.sv,{},d)]})]}):null}},26092:(e,i,t)=>{t.d(i,{A:()=>p});t(9950);var n=t(92728),r=t(63464),o=t(40033),a=t(28170),s=t(96319),l=t(59254),d=t(14857),c=t(25333),u=t(44414);const m=(0,l.Ay)(r.A)(e=>{let{theme:i}=e;return{"& .MuiDialogContent-root":{padding:i.spacing(2)},"& .MuiDialogActions-root":{padding:i.spacing(1)},zIndex:11010}});function p(e){const i=(0,d.A)(),{breakpoints:t}=i,{openPopUpDialog:r,setPopUpDialog:l,setFieldsValues:p,onClose:h=()=>(l(!1),null===p||void 0===p?void 0:p({})),title:x,width:g="70%"}=e;return(0,u.jsxs)(m,{TransitionComponent:n.A,"aria-labelledby":"customized-dialog-title",open:r,PaperProps:{sx:{width:{width:g},[t.down("sm")]:{width:"90%"}}},children:[(0,u.jsx)(o.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:x}),(0,u.jsx)(c.A,{"aria-label":"close",onClick:h,sx:{position:"absolute",right:8,top:8},children:(0,u.jsx)(s.A,{})}),(0,u.jsx)(a.A,{dividers:!0,children:e.children})]})}},31462:(e,i,t)=>{t.d(i,{DY:()=>o,QF:()=>s,Yf:()=>a,ri:()=>l});var n=t(8478),r=t(33340);async function o(e){return await n.bE("/organization/register",e,{noAuth:!0})}async function a(e){return await n.bE("/organization/verify-email",e,{noAuth:!0})}async function s(e,i){const t=await n.bE("/organization/login",{userName:e,password:i},{noAuth:!0}),{data:o,organizationList:a,jwt:s}=t;if(!s)throw new Error("Server Error. Unknown response!");sessionStorage.setItem("token",s);const l=(0,r.yV)();if(Array.isArray(a)&&a.length&&!l.organizationId){const e=a[0];l.organization=e,l.organizationId=e._id}return r.nc.setState({organization:o,organizationList:a,...l}),!0}function l(){sessionStorage.clear(),r.nc.setState((0,r.l1)(),!0)}},41507:(e,i,t)=>{t.d(i,{Ds:()=>l,L_:()=>a,NC:()=>s,YS:()=>o,cw:()=>c,qb:()=>d});var n=t(8478),r=t(33340);async function o(e,i){const t=await async function(){const e=r.nc.getState();let{organizationList:i,organizationId:t,organization:o}=e;if(!e.isSuperUser||Array.isArray(i))return;if(i=await n.bE("/organization/list"),i.length)if(t=t||sessionStorage.getItem("orgId"),t){if(!o){var a;o=null===(a=i)||void 0===a?void 0:a.filter(e=>e._id===t)[0]}}else{const e=i[0];t=e._id,o=e}return r.nc.setState({organizationList:i,organizationId:t,organization:o}),!0}(),{organizationId:o}=r.nc.getState();return e?e!==o&&r.nc.setState({organizationId:e}):e=o,!e||(t||await async function(e){const i=await n.bE("/organization/get-organization-by-id",{organizationId:e});r.nc.setState({organization:i})}(e),await l(e,i),!0)}async function a(e,i){i||(i=r.nc.getState().organizationId);const t=await n.yJ(`/organization/${i}`,e);r.nc.setState(e=>{const{organizationList:n,organizationId:r,organization:o}=e,a={};return r===i&&(a.organization={...o,...t}),n&&(a.organizationList=n.map(e=>e._id===i?{...e,...t}:e)),a})}function s(e){if(!e||"object"!==typeof e)return;let{organization:i}=r.nc.getState();i&&(i={...i,...e},r.nc.setState({organization:i}))}async function l(e,i){var t;const o=await n.Jt(`/bot/${e}/list`),a=i||(null===(t=o[0])||void 0===t?void 0:t._id),s=o.reduce((e,i)=>(e[i._id]=i,e),{});return r.nc.setState({organizationId:e,botsList:o,botsMap:s,selectedBotId:a}),a}function d(e){r.nc.setState({selectedBotId:e})}async function c(){const e=await n.Jt("/organization/invoice/list");r.nc.setState({organizationsInvoiceList:e})}},70855:(e,i,t)=>{t.d(i,{G:()=>r});var n=t(33340);function r(e){const i=(0,n.nc)(e=>e.selectedBotId),t=(0,n.nc)(t=>t.botsMap[e||i]);return[e||i,t]}},92728:(e,i,t)=>{t.d(i,{A:()=>a});var n=t(9950),r=t(48205),o=t(44414);const a=n.forwardRef(function(e,i){return(0,o.jsx)(r.A,{direction:"up",ref:i,...e})})}}]);