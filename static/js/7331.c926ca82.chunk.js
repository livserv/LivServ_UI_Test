"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7331],{8478:(n,e,t)=>{t.d(e,{Jt:()=>d,TF:()=>A,bE:()=>l,yJ:()=>u});var c=t(89379),o=t(80045),i=t(32026),a=t(44364);const r=["headers","noAuth"],s=["data"];async function d(n,e){return _("GET",n,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(n,e){return _("POST",n,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(n,e){return _("PUT",n,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function A(n,e){return _("DELETE",n,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function _(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:a,noAuth:d}=i,l=(0,o.A)(i,r);const u="POST"===n||"PUT"===n||"DELETE"===n;e=function(n,e){if(!n)return n;const t=e&&Object.keys(e);if(null!==t&&void 0!==t&&t.length){const c=t.reduce(((n,t)=>{let c=e[t];return null===c||void 0===c?n:(c="".concat(t,"=").concat(encodeURIComponent(c)),n?"".concat(n,"&").concat(c):c)}),"");c&&(n="".concat(n).concat(n.includes("?")?"&":"?").concat(c))}if(n.startsWith("https://"))return n;return"".concat(v).concat(n)}(e,u?void 0:t);const A=t instanceof FormData;if(A||(t=t&&"object"===typeof t&&u?JSON.stringify(t):void 0),a||(a={}),A||(a["Content-Type"]="application/json"),a.Accept="application/json",!1!==d){const n=sessionStorage.getItem("token");n&&(a.Authorization="Bearer ".concat(n))}try{const i=await fetch(e,(0,c.A)((0,c.A)({},l),{},{headers:a,body:t,method:n})),r=await i.json();if(i.ok){const{data:n}=r,e=(0,o.A)(r,s);return delete e.status,n&&!Object.keys(e).length?n:r}throw r.message?new Error(r.message):r}catch(h){var _;throw console.error("Error calling API: ",h),null!==(_=h.message)&&void 0!==_&&_.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(h.message)}}const v=(0,i.s8)(a.jn,"/")},32026:(n,e,t)=>{t.d(e,{G6:()=>s,Ke:()=>_,OX:()=>l,PE:()=>A,TZ:()=>v,Yq:()=>r,do:()=>u,qW:()=>d,s8:()=>i,wE:()=>h});var c=t(89379),o=t(44364);function i(n,e){return n.replace(new RegExp("".concat(a(e),"+$")),"")}function a(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(n){const e=new Date(n),t=e.getDate(),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],o=e.getFullYear();return"".concat(c," ").concat(t,", ").concat(o)}function s(n,e,t){if(!e&&!n)return t;n=n||{};const o=Array.isArray(n)?[...n]:(0,c.A)({},n);if(e.includes(".")){const c=e.indexOf("."),i=e.substring(0,c),a=e.substring(c+1);o[i]=s(n[i],a,t)}else o[e]=t;return o}function d(n,e){return btoa("".concat(n,"_").concat(e,"_whatsapp_int"))}function l(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let c=0;c<n;c++)t+=e.charAt(Math.floor(36*Math.random()));return t}function u(n,e,t){if(!e&&!n)return t;n=n||{};const o=Array.isArray(n)?[...n]:(0,c.A)({},n);if(e.includes(".")){const c=e.indexOf("."),i=e.substring(0,c),a=e.substring(c+1);o[i]=u(n[i],a,t)}else o[e]=t;return o}function A(n,e){const t=new Blob([n],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),c=document.createElement("a");c.href=URL.createObjectURL(t),c.download=e,document.body.appendChild(c),c.click(),document.body.removeChild(c)}function _(n,e){return!e||e.startsWith("http")?e:(e.startsWith("/")&&(e=e.substring(1)),"".concat(o.J,"/").concat(n,"/").concat(e))}function v(n){let e=document.querySelector("link[rel~='icon']");e||(e=document.createElement("link"),e.rel="icon",document.getElementsByTagName("head")[0].appendChild(e)),null!==n&&void 0!==n&&n.domain?null!==n&&void 0!==n&&n.favicon&&(e.href=_(null===n||void 0===n?void 0:n.domain,null===n||void 0===n?void 0:n.favicon)):e.href="/favicon.png"}function h(n){null!==n&&void 0!==n&&n.domain?null!==n&&void 0!==n&&n.displayName&&(document.title=null===n||void 0===n?void 0:n.displayName):document.title="LivServ"}},32829:(n,e,t)=>{t.d(e,{A:()=>i});var c=t(79875),o=t(44414);function i(n){let{children:e,type:t}=n;return(0,o.jsx)(c.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:e})}i.defaultProps={type:"scale"}},44364:(n,e,t)=>{t.d(e,{DX:()=>d,E1:()=>u,J:()=>s,Og:()=>i,Rc:()=>l,jn:()=>c,mB:()=>r,pA:()=>a,pR:()=>o});const c="https://devbackend.livhousing.com:444",o="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.TRAINING_MEDIA_MAXSIZE,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.CONVERSATION_MEDIA_MAXSIZE,r="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s="https://livserv-organizations.s3.ap-south-1.amazonaws.com",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444",l="https://devbackend.livhousing.com:444",u="wss://devbackend.livhousing.com:444/voice/ws"},57331:(n,e,t)=>{t.r(e),t.d(e,{default:()=>l});var c=t(9950),o=t(60899),i=t(8478),a=t(32829),r=t(93383),s=t(28429),d=t(44414);const l=function(){var n;const{invoiceId:e}=(0,s.g)(),[t,l]=c.useState(),[u,A]=c.useState();if(c.useEffect((()=>{!async function(n){let e=document.querySelector('script[id="razorpay-script"]');if(e)return!0;new Promise((t=>{e=document.createElement("script"),e.id="razorpay-script",e.src=n,e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},document.body.appendChild(e)}))}("https://checkout.razorpay.com/v1/checkout.js")}),[]),c.useEffect((()=>{i.Jt("/organization/invoice/view/".concat(e)).then(l)}),[e]),t)return(0,d.jsxs)(o.Ay,{item:!0,xs:12,children:[(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{src:t.pdfUrl,title:"View Invoice",style:{width:"100%",height:t.isPaid?"calc(100vh - 12px)":"calc(100vh - 60px)"}})}),!t.isPaid&&(0,d.jsx)(o.Ay,{item:!0,xs:12,children:(0,d.jsx)("div",{style:{width:"260px",marginLeft:"auto",padding:"5px 25px"},children:(0,d.jsx)(a.A,{children:(0,d.jsxs)(r.A,{disableElevation:!0,isLoading:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{A(!0);const n=await i.bE("/organization/invoice/".concat(t.invoiceId,"/make-payment"));new window.Razorpay(n).open(),A(!1)},children:["Pay ",t.currencyPrefix," ",null===(n=t.amount)||void 0===n?void 0:n.toFixed(2)]})})})})]})}},93383:(n,e,t)=>{t.d(e,{A:()=>l});var c=t(89379),o=t(80045),i=t(9950),a=t(10226),r=t(46639),s=t(44414);const d=["onClick","disabled","isLoading","children"];const l=function(n){let{onClick:e,disabled:t,isLoading:l,children:u}=n,A=(0,o.A)(n,d);const[_,v]=i.useState(l);return(0,s.jsxs)(a.A,(0,c.A)((0,c.A)({onClick:n=>{if(!e)return;const t=e(n);"function"===typeof(null===t||void 0===t?void 0:t.finally)&&(v(!0),t.finally((()=>v(!1))))},disabled:_||l||t},A),{},{children:[(_||l)&&(0,s.jsx)(r.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}}}]);