"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7863],{5331:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ie});var a,o=t(80045),l=t(89379),i=t(9950),r=t(78317),s=t(60899),d=t(74745),c=t(82053),u=t(81616),h=t(3788),p=t(23114),A=t(16497),m=t(85815),x=t(93038),g=t(24516),v=t(2660),f=t(57528),y=t(44414),C=t(25277),b=t(59254),j=t(96319),w=t(39325),E=t(25333),P=t(8145);const _=["className","index","onDelete","disabled","onEdit","isEditing","disableEdition"],S=["chips","onAddChip","onEditChip","onDeleteChip","InputProps","onInputChange","disabled","clearInputOnBlur","addOnBlur","validate","error","helperText","hideClearAll","inputProps","size","disableDeleteOnBackspace","disableEdition","className","renderChip","addOnWhichKey","onFocus","onDeleteAllChips","inputRef","inputValue"],I=["onKeyDown"],T=["inputRef"],R=["value","onChange","onAddChip","onInputChange","onDeleteChip","disabled","validate","clearInputOnBlur","addOnBlur","hideClearAll","disableDeleteOnBackspace","onEditChip","renderChip","disableEdition","addOnWhichKey","inputValue"],M={enter:"Enter",backspace:"Backspace"},D=229,k={ChipStyled:(0,b.Ay)(C.A)(e=>{let{theme:n,size:t}=e;return"\n    max-width: 100%;\n    margin: 2px 4px;\n    height: ".concat("small"===t?"26px":"32px",';\n\n\n    &[aria-disabled="true"] > svg {\n      color: ').concat(n.palette.action.disabled,";\n      cursor: default;\n    }\n\n    &.MuiChipsInput-Chip-Editing {\n      background-color: ").concat(n.palette.primary.light,";\n      color: ").concat(n.palette.primary.contrastText,";\n    }\n  ")})},F=e=>{let{className:n,index:t,onDelete:a,disabled:i,onEdit:r,isEditing:s,disableEdition:d}=e,c=(0,o.A)(e,_);return(0,y.jsx)(k.ChipStyled,(0,l.A)({className:"MuiChipsInput-Chip ".concat(s?"MuiChipsInput-Chip-Editing":""," ").concat(n||""),onKeyDown:e=>{e.key===M.enter&&a(t)},disabled:i,onDoubleClick:d?void 0:e=>{e.target.textContent===c.label&&(i||r(t))},tabIndex:i?-1:0,"aria-disabled":i,onDelete:e=>{var n,o;null!==e&&void 0!==e&&null!==(n=e.preventDefault)&&void 0!==n&&n.call(e),null!==e&&void 0!==e&&null!==(o=e.stopPropagation)&&void 0!==o&&o.call(e),a(t)}},c))};function B(e,n){"function"==typeof n?n(e):n&&function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}(n)&&"current"in n&&(n.current=e)}const O=(0,b.Ay)("div")(a||(a=(0,f.A)(["\n  top: 50%;\n  transform: translateY(-50%);\n  right: 10px;\n  position: absolute;\n"]))),K=(0,b.Ay)(P.A)(e=>{var n;return"\n    max-width: 100%;\n\n    .MuiInputBase-root {\n      display: flex;\n      flex-wrap: wrap;\n      align-items: flex-start;\n      row-gap: 5px;\n      padding-top: ".concat("small"===e.size?"5px":"9px",";\n      padding-right: ").concat(null!==(n=e.InputProps)&&void 0!==n&&n.endAdornment?"30px":"9px",";\n      padding-bottom: ").concat("small"===e.size?"5px":"9px",";\n      padding-left: 10px;\n\n      input {\n        min-width: 30px;\n        width: auto;\n        flex-grow: 1;\n        text-overflow: ellipsis;\n        padding: ").concat("small"===e.size?"3.5px 4px":"7.5px 4px",";\n        align-self: center;\n      }\n    }\n  ")}),N={ChipStyled:(0,b.Ay)(C.A)(e=>{let{theme:n,size:t}=e;return"\n    max-width: 100%;\n    margin: 2px 4px;\n    height: ".concat("small"===t?"26px":"32px",';\n\n    &[aria-disabled="true"] > svg.MuiChip-deleteIcon {\n      color: ').concat(n.palette.action.disabled,";\n      cursor: default;\n    }\n  ")}),TextFieldStyled:K,EndAdornmentClose:O},L=i.forwardRef((e,n)=>{let{chips:t,onAddChip:a,onEditChip:r,onDeleteChip:s,InputProps:d,onInputChange:c,disabled:u,clearInputOnBlur:h,addOnBlur:p,validate:A,error:m,helperText:x,hideClearAll:g,inputProps:v,size:f,disableDeleteOnBackspace:C,disableEdition:b,className:P,renderChip:_,addOnWhichKey:R,onFocus:k,onDeleteAllChips:O,inputRef:K,inputValue:L}=e,z=(0,o.A)(e,S);const[V,W]=i.useState(""),[U,G]=i.useState(""),H=i.useRef(null),J=i.useRef(!1),X=i.useRef("string"==typeof L),[Y,Q]=i.useState(null),Z=v||{},{onKeyDown:q}=Z,$=(0,o.A)(Z,I),ee=d||{},{inputRef:ne}=ee,te=(0,o.A)(ee,T),ae=()=>{G("")},oe=X.current,le=oe?L:V,ie=e=>{null!==c&&void 0!==c&&c(e),oe||W(e)},re=()=>{Q(null)},se=()=>{ae(),ie("")},de=(e,n)=>t=>{if("function"==typeof A){const t=A(e);if(!1===t)return void(null===n||void 0===n||n.preventDefault());if(!function(e){return"boolean"==typeof e}(t)&&t.isError)return null!==n&&void 0!==n&&n.preventDefault(),void G(t.textError)}t()},ce=(e,n,t)=>{de(e,t)(()=>{null!==r&&void 0!==r&&r(e,n),re(),se()})},ue=(e,n)=>{de(e,n)(()=>{null!==a&&void 0!==a&&a(le.trim()),se()})},he=()=>{if(J.current){if(null!==Y)re(),se();else if(p){if(le.length>0){const e=le.trim();0===e.length?se():null!==Y?ce(e,Y):ue(e)}}else h&&se();J.current=!1}},pe=e=>{var n;e===Y?(se(),re()):(e=>{ie(t[e]),Q(e),ae()})(e),null===(n=H.current)||void 0===n||n.focus()},Ae=e=>{u||(null!==s&&void 0!==s&&s(e),null!==Y&&(re(),se()))},me=t.length>0;return(0,y.jsx)(w.x,{onClickAway:he,children:(0,y.jsx)(N.TextFieldStyled,(0,l.A)({value:le,onChange:e=>{ie(e.target.value)},ref:n,className:"MuiChipsInput-TextField ".concat(P||""),size:f,placeholder:"Type and press enter",onFocus:e=>{e.preventDefault(),null!==k&&void 0!==k&&k(e),J.current=!0},inputProps:(0,l.A)({onKeyDown:e=>{const n=((e,n)=>n!==D&&(R?Array.isArray(R)?R.some(n=>n===e):R===e:e===M.enter))(e.key,e.keyCode),a=e.key===M.backspace,o=le.trim();if(n||"Tab"!==e.code){if(n&&e.preventDefault(),le.length>0&&n)0===o.length?se():null!==Y?ce(o,Y,e):ue(o,e);else if(a&&0===le.length&&t.length>0&&!C){const e=t.length-1;null!==s&&void 0!==s&&s(e),Y===e&&re()}null===q||void 0===q||q(e)}else he()},enterKeyHint:"done"},$),disabled:u,error:!!U||m,helperText:U||x,InputProps:(0,l.A)({inputRef:e=>{H.current=e,K&&B(e,K),n&&B(e,n)},startAdornment:me?t.map((e,n)=>{const t="chip-".concat(n),a={index:n,onEdit:pe,label:e,title:e,isEditing:n===Y,size:f,disabled:u,disableEdition:b,onDelete:Ae};return _?_(F,t,a):(0,i.createElement)(F,(0,l.A)((0,l.A)({},a),{},{key:t}))}):null,endAdornment:g?null:(0,y.jsx)(N.EndAdornmentClose,{style:{visibility:me?"visible":"hidden"},children:(0,y.jsx)(E.A,{"aria-label":"Clear",title:"Clear",disabled:u,size:"small",onClick:e=>{e.preventDefault(),!g&&!u&&(null!==O&&void 0!==O&&O(),se(),re())},children:(0,y.jsx)(j.A,{fontSize:"small"})})})},te)},z))})});const z=[],V=i.forwardRef((e,n)=>{let{value:t=z,onChange:a,onAddChip:i,onInputChange:r,onDeleteChip:s,disabled:d,validate:c,clearInputOnBlur:u,addOnBlur:h,hideClearAll:p,disableDeleteOnBackspace:A,onEditChip:m,renderChip:x,disableEdition:g,addOnWhichKey:v=M.enter,inputValue:f}=e,C=(0,o.A)(e,R);return(0,y.jsx)(L,(0,l.A)((0,l.A)({chips:t,onAddChip:e=>{if(d)return;const n=function(e,n){return[...e,n]}(t,e),o=n.length-1;null!==i&&void 0!==i&&i(e,o),null===a||void 0===a||a(n)},onInputChange:r,disableDeleteOnBackspace:A,onDeleteChip:e=>{if(d)return;const n=t[e];null!==a&&void 0!==a&&a(function(e,n){return e.filter((e,t)=>n!==t)}(t,e)),null===s||void 0===s||s(n,e)},onEditChip:(e,n)=>{d||g||(null!==a&&void 0!==a&&a(function(e,n,t){return e.map((e,a)=>n===a?t:e)}(t,n,e)),null===m||void 0===m||m(e,n))},renderChip:x,onDeleteAllChips:()=>{null===a||void 0===a||a([])},clearInputOnBlur:u,addOnBlur:h,disabled:d,disableEdition:g,validate:c,inputValue:f,hideClearAll:p,addOnWhichKey:v},C),{},{ref:n}))});var W=t(61467),U=t(51637),G=t(32829),H=t(70855),J=t(98415),X=t(93383),Y=t(21788),Q=t(90771),Z=t(33340),q=t(10226),$=t(47813);const ee=function(e){var n,t,a,o,l,i,r,c;let{tagManagerIds:p,index:A,handleBlur:m,handleChange:x,errors:f,touched:C,remove:b}=e;const j="urlBasedGoogleTagManagerIds.".concat(A),w=(null===C||void 0===C||null===(n=C.urlBasedGoogleTagManagerIds)||void 0===n||null===(t=n[A])||void 0===t?void 0:t.url)&&(null===f||void 0===f||null===(a=f.urlBasedGoogleTagManagerIds)||void 0===a||null===(o=a[A])||void 0===o?void 0:o.url),E=(null===C||void 0===C||null===(l=C.urlBasedGoogleTagManagerIds)||void 0===l||null===(i=l[A])||void 0===i?void 0:i.tagManagerId)&&(null===f||void 0===f||null===(r=f.urlBasedGoogleTagManagerIds)||void 0===r||null===(c=r[A])||void 0===c?void 0:c.tagManagerId);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.Ay,{container:!0,spacing:1,children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,md:7,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"".concat(j,".url"),children:"Page Url"}),(0,y.jsx)(v.A,{id:"".concat(j,".url"),name:"".concat(j,".url"),type:"text",value:p.url,autoComplete:"off",onBlur:m,onChange:x,placeholder:"www.url.com",fullWidth:!0,error:Boolean(w)}),w&&(0,y.jsx)(g.A,{error:!0,id:"helper-text-".concat(j,".url"),children:f.urlBasedGoogleTagManagerIds[A].url})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:3,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"".concat(j,".tagManagerId"),children:"Tag Manager Id"}),(0,y.jsx)(v.A,{id:"".concat(j,".tagManagerId"),name:"".concat(j,".tagManagerId"),type:"text",value:p.tagManagerId,autoComplete:"off",onBlur:m,onChange:x,placeholder:"GTM-XXXXXX",fullWidth:!0,error:Boolean(E)}),E&&(0,y.jsx)(g.A,{error:!0,id:"helper-text-".concat(j,".tagManagerId"),children:f.urlBasedGoogleTagManagerIds[A].tagManagerId})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:1,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{children:"Delete"}),(0,y.jsx)($.A,{sx:{cursor:"pointer",color:"#ee2a2a"},onClick:()=>b(A)})]})})]}),(0,y.jsx)(d.A,{sx:{mt:2,mb:2}})]})};const ne=function(){const{values:e,errors:n,touched:t,handleBlur:a,handleChange:o,setFieldValue:i,isSubmitting:r}=(0,W.j7)(),u=e.urlBasedGoogleTagManagerIds||[];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsx)(d.A,{children:(0,y.jsx)(c.A,{variant:"subtitle1",children:"Url based Tag Manager Id"})})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsx)(W.ED,{name:"urlBasedGoogleTagManagerIds",children:e=>{let{push:d}=e;return(0,y.jsxs)(y.Fragment,{children:[u.map((e,r)=>(0,y.jsx)(ee,{tagManagerIds:e,index:r,handleBlur:a,handleChange:o,errors:n,touched:t,remove:e=>{const n=u.filter((n,t)=>t!==e);i("urlBasedGoogleTagManagerIds",n.map((e,n)=>(0,l.A)((0,l.A)({},e),{},{itemNo:n+1})))}},r)),(0,y.jsx)(s.Ay,{container:!0,justifyContent:"flex-end",children:(0,y.jsx)(s.Ay,{item:!0,children:(0,y.jsx)(q.A,{sx:{ml:2},variant:"contained",size:"large",onClick:()=>d({url:"",tagManagerId:""}),disabled:r,children:"Add Tag Manager Id"})})})]})}})})]})};t(13953);var te=t(49823);const ae=["id","name","value","onChange"],oe={margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},le={leadCaptureType:"flow",leadCaptureFormMode:"count",showFormAfterChats:3,defaultCountryCode:{countryId:"in",dialCode:"+91"},isWhatsAppEnabled:!1};const ie=function(){const[e,n]=(0,H.G)();if(!n)return null;const{botSettings:t=le}=n;return(0,y.jsx)(U.A,{sx:oe,content:!1,border:!1,boxShadow:!0,children:(0,y.jsx)(r.A,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,y.jsx)(W.l1,{initialValues:t,onSubmit:async(n,t)=>{let{setErrors:a,setStatus:o,setSubmitting:l}=t;try{await(0,J.gR)(e,n),o({success:!1}),l(!1),(0,Y.i)(!0,"Settings saved successfully!","success")}catch(i){console.error(i),(0,Y.i)(!0,"Unable to save settings. Please try again later.","error"),o({success:!1}),a({submit:i.message}),l(!1)}},children:e=>(0,y.jsx)("form",{noValidate:!0,onSubmit:e.handleSubmit,children:(0,y.jsxs)(s.Ay,{container:!0,spacing:3,children:[(0,y.jsx)(se,(0,l.A)({},e)),(0,y.jsx)(de,(0,l.A)({},e)),(0,y.jsx)(ue,(0,l.A)({},e)),(0,y.jsx)(ce,(0,l.A)({},e)),(0,y.jsx)(ne,(0,l.A)({},e)),(0,y.jsx)(he,(0,l.A)({},e))]})})})})})};function re(e){"Enter"===e.key&&e.preventDefault()}function se(e){var n,t,a,o;let{values:l,touched:r,errors:v,handleBlur:f,handleChange:C,setFieldValue:b}=e;const j="form"===l.leadCaptureType,w="form"!==l.leadCaptureType||"keyword"===l.leadCaptureFormMode,[E,P]=i.useState((null===(n=l.defaultCountryCode)||void 0===n?void 0:n.countryId)||"in"),[_,S]=i.useState((null===(t=l.defaultCountryCode)||void 0===t?void 0:t.dialCode)||"+91");return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsx)(d.A,{children:(0,y.jsx)(c.A,{variant:"subtitle1",children:"Lead Capture Settings"})})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"leadCaptureType",children:"Input Type"}),(0,y.jsxs)(p.A,{value:l.leadCaptureType,defaultValue:"flow",name:"leadCaptureType",onChange:C,children:[(0,y.jsx)(A.A,{value:"flow",control:(0,y.jsx)(m.A,{}),label:"Flow"}),(0,y.jsx)(A.A,{value:"form",control:(0,y.jsx)(m.A,{}),label:"Form"})]})]})}),j&&(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"leadCaptureFormMode",children:"When you want the form to be displayed?"}),(0,y.jsxs)(p.A,{value:l.leadCaptureFormMode,defaultValue:"count",id:"leadCaptureFormMode",name:"leadCaptureFormMode",onChange:C,children:[(0,y.jsx)(A.A,{value:"keyword",control:(0,y.jsx)(m.A,{}),label:"Show form when the keyword matches"}),(0,y.jsx)(A.A,{value:"count",control:(0,y.jsx)(m.A,{}),label:(0,y.jsxs)(y.Fragment,{children:["Show form after conversations:"," ",(0,y.jsx)("input",{value:null===(a=l.showFormAfterChats)||void 0===a?void 0:a.toString(),maxLength:2,style:{width:"50px"},disabled:"form"!==l.leadCaptureType||l.leadCaptureFormMode&&"count"!==l.leadCaptureFormMode,onChange:e=>b("showFormAfterChats",pe(e.target.value,l.showFormAfterChats)),onKeyDown:re})]})})]})]})}),!j&&(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"leadCaptureFlowMandatory",children:"Can user proceed without providing contact details?"}),(0,y.jsx)(A.A,{value:"keyword",control:(0,y.jsx)(x.A,{checked:l.leadCaptureFlowMandatory,name:"leadCaptureFlowMandatory",onChange:C}),label:"Make the input mandatory"}),(0,y.jsx)(A.A,{value:"keyword",control:(0,y.jsx)(x.A,{checked:l.isWhatsAppEnabled,name:"isWhatsAppEnabled",onChange:C}),label:"Is WhatsApp Enabled"})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{id:"validateContactForEachChat",children:"Validate Contact For Each Chat"}),(0,y.jsx)(te.A,{name:"validateContactForEachChat",value:l.validateContactForEachChat,defaultValue:!1,onChange:b})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:12,children:"Default Phone number country code in contact form"}),(0,y.jsxs)(s.Ay,{item:!0,xs:12,md:3,sx:{position:"relative",display:"flex",alignItems:"center"},children:[(0,y.jsx)(Q.cf,{selectedCountry:E,onSelect:e=>{let{iso2:n,dialCode:t}=e;P(n),b("defaultCountryCode",{countryId:n,dialCode:"+"+t}),S("+"+t)},onBlur:f,country:E,name:"defaultCountryCode",id:"defaultCountryCode"}),(0,y.jsxs)("span",{style:{marginLeft:"8px"},children:[" ",_]})]}),(0,y.jsxs)(s.Ay,{item:!0,xs:12,md:12,children:["Number of visitor messages send to GPT for answer"," ",(0,y.jsx)("input",{value:(null===(o=l.maxChatMessagesToSentToGPT)||void 0===o?void 0:o.toString())||17,maxLength:2,style:{width:"50px"},onChange:e=>b("maxChatMessagesToSentToGPT",pe(e.target.value,l.maxChatMessagesToSentToGPT)),onKeyDown:re})]}),w&&(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"phoneNumberKeywords",children:"Keywords for Phone Number Collection *"}),(0,y.jsx)(Ae,{name:"phoneNumberKeywords",value:l.phoneNumberKeywords||[],error:Boolean(r.phoneNumberKeywords&&v.phoneNumberKeywords),onBlur:f,onChange:b,placeholder:"Type keyword and press enter to add more...",inputProps:{maxLength:25}}),r.phoneNumberKeywords&&v.phoneNumberKeywords&&(0,y.jsx)(g.A,{error:!0,id:"helper-text-email-keywords",children:v.phoneNumberKeywords})]})}),w&&(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"emailKeywords",children:"Keywords for Email Address Collection *"}),(0,y.jsx)(Ae,{name:"emailKeywords",value:l.emailKeywords||[],error:Boolean(r.emailKeywords&&v.emailKeywords),onBlur:f,onChange:b,placeholder:"Type keyword and press enter to add more...",inputProps:{maxLength:25}}),r.emailKeywords&&v.emailKeywords&&(0,y.jsx)(g.A,{error:!0,id:"helper-text-email-keywords",children:v.emailKeywords})]})})]})}function de(e){let{values:n,handleChange:t}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsx)(d.A,{children:(0,y.jsx)(c.A,{variant:"subtitle1",children:"Bot Industry and Role settings"})})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:4,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"industry",children:"Industry"}),(0,y.jsx)(v.A,{id:"industry",name:"industry",value:n.industry,onChange:t,"aria-label":"industry",onKeyDown:re})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:4,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"botRole",children:"Bot Role"}),(0,y.jsx)(v.A,{id:"botRole",name:"botRole",defaultValue:n.botRole,onChange:t,"aria-label":"bot role",onKeyDown:re})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:4,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"organizationName",children:"Organization Name"}),(0,y.jsx)(v.A,{id:"organizationName",name:"organizationName",defaultValue:n.organizationName,onChange:t,"aria-label":"organization name",onKeyDown:re})]})})]})}function ce(e){let{values:n,handleChange:t}=e;const a=(0,Z.nc)(e=>e.isSuperUser);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsx)(d.A,{children:(0,y.jsx)(c.A,{variant:"subtitle1",children:"Allow / Block chat window"})})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"allowedIP",children:"Allowed IP"}),(0,y.jsx)(v.A,{id:"allowedIP",name:"allowedIP",value:n.allowedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341",onKeyDown:re})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"deniedIP",children:"Denied IP"}),(0,y.jsx)(v.A,{id:"deniedIP",name:"deniedIP",defaultValue:n.deniedIP,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: 192.167.22.340, 192.167.22.341",onKeyDown:re})]})}),a&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"allowedPages",children:"Allowed Pages"}),(0,y.jsx)(v.A,{id:"allowedPages",name:"allowedPages",defaultValue:n.allowedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com",onKeyDown:re})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"deniedPages",children:"Denied Pages"}),(0,y.jsx)(v.A,{id:"deniedPages",name:"deniedPages",defaultValue:n.deniedPages,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: https://xyz.com, https://abc.com",onKeyDown:re})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"allowedCountries",children:"Allowed Countries"}),(0,y.jsx)(v.A,{id:"allowedCountries",name:"allowedCountries",defaultValue:n.allowedCountries,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: India, Oman, Australia",onKeyDown:re})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:6,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{htmlFor:"deniedCountries",children:"Denied Countries"}),(0,y.jsx)(v.A,{id:"deniedCountries",name:"deniedCountries",defaultValue:n.deniedCountries,onChange:t,"aria-label":"empty textarea",placeholder:"Ex: Sri Lanka, Bhutan",onKeyDown:re})]})})]})]})}function ue(e){let{values:n,setFieldValue:t}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsx)(d.A,{children:(0,y.jsx)(c.A,{variant:"subtitle1",children:"Activate Consolidated Leads Reports"})})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:4,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{children:"Daily Consolidated Lead Email"}),(0,y.jsx)(te.A,{name:"sendDailyConsolidatedLeadEmail",value:n.sendDailyConsolidatedLeadEmail,defaultValue:!1,onChange:t})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:4,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{children:"Weekly Consolidated Lead Email"}),(0,y.jsx)(te.A,{name:"sendWeeklyConsolidatedLeadEmail",value:n.sendWeeklyConsolidatedLeadEmail,defaultValue:!1,onChange:t})]})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,md:4,children:(0,y.jsxs)(u.A,{spacing:1,children:[(0,y.jsx)(h.A,{children:"Monthly Consolidated Lead Email"}),(0,y.jsx)(te.A,{name:"sendMonthlyConsolidatedLeadEmail",value:n.sendMonthlyConsolidatedLeadEmail,defaultValue:!1,onChange:t})]})})]})}function he(e){let{errors:n,isSubmitting:t}=e;return(0,y.jsxs)(y.Fragment,{children:[n.submit&&(0,y.jsx)(s.Ay,{item:!0,xs:12,children:(0,y.jsx)(g.A,{error:!0,children:n.submit})}),(0,y.jsx)(s.Ay,{item:!0,xs:12,mt:2,children:(0,y.jsx)(G.A,{children:(0,y.jsx)(X.A,{disableElevation:!0,isLoading:t,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Save Settings"})})})]})}function pe(e,n){return e?isNaN(e)?n:Number(e):e}function Ae(e){let{id:n,name:t,value:a,onChange:r}=e,s=(0,o.A)(e,ae);const d=i.useRef(),c=e=>r(t,e);return(0,y.jsx)(V,(0,l.A)({ref:d,id:n||t,name:t,addOnBlur:!0,value:a||[],onChange:c,onInputChange:e=>{e.endsWith(",")&&(a=[...a,e.substring(0,e.length-1)],c(a),d.current.value="")}},s))}},8478:(e,n,t)=>{t.d(n,{Jt:()=>d,TF:()=>h,bE:()=>c,yJ:()=>u});var a=t(89379),o=t(80045),l=t(32026),i=t(44364);const r=["headers","noAuth"],s=["data"];async function d(e,n){return p("GET",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function c(e,n){return p("POST",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(e,n){return p("PUT",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function h(e,n){return p("DELETE",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function p(e,n,t){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:i,noAuth:d}=l,c=(0,o.A)(l,r);const u="POST"===e||"PUT"===e||"DELETE"===e;n=function(e,n){if(!e)return e;const t=n&&Object.keys(n);if(null!==t&&void 0!==t&&t.length){const a=t.reduce((e,t)=>{let a=n[t];return null===a||void 0===a?e:(a="".concat(t,"=").concat(encodeURIComponent(a)),e?"".concat(e,"&").concat(a):a)},"");a&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(a))}if(e.startsWith("https://"))return e;return"".concat(A).concat(e)}(n,u?void 0:t);const h=t instanceof FormData;if(h||(t=t&&"object"===typeof t&&u?JSON.stringify(t):void 0),i||(i={}),h||(i["Content-Type"]="application/json"),i.Accept="application/json",!1!==d){const e=sessionStorage.getItem("token");e&&(i.Authorization="Bearer ".concat(e))}try{const l=await fetch(n,(0,a.A)((0,a.A)({},c),{},{headers:i,body:t,method:e}));if("blob"===c.responseType){const e=await l.blob(),n=function(e,n){var t;const a=e.headers.get("content-disposition");return(null===a||void 0===a||null===(t=a.match(/filename="?([^"]+)"?/))||void 0===t?void 0:t[1])||n||"download.xlsx"}(l,c.fileName);return void function(e,n){const t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=n,a.click(),URL.revokeObjectURL(t)}(e,n)}const r=await l.json();if(l.ok){const{data:e}=r,n=(0,o.A)(r,s);return delete n.status,e&&!Object.keys(n).length?e:r}throw r.message?new Error(r.message):r}catch(m){var p;throw console.error("Error calling API: ",m),null!==(p=m.message)&&void 0!==p&&p.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(m.message)}}const A=(0,l.s8)(i.jn,"/")},25920:(e,n,t)=>{t.d(n,{A:()=>a});const a=t(85511).A},31014:(e,n,t)=>{t.d(n,{A:()=>a});const a=t(93539).A},32026:(e,n,t)=>{t.d(n,{G6:()=>s,Ke:()=>p,OX:()=>c,PE:()=>h,TZ:()=>A,Yq:()=>r,do:()=>u,qW:()=>d,s8:()=>l,wE:()=>m});var a=t(89379),o=t(44364);function l(e,n){return e.replace(new RegExp("".concat(i(n),"+$")),"")}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){const n=new Date(e),t=n.getDate(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()],o=n.getFullYear();return"".concat(a," ").concat(t,", ").concat(o)}function s(e,n,t){if(!n&&!e)return t;e=e||{};const o=Array.isArray(e)?[...e]:(0,a.A)({},e);if(n.includes(".")){const a=n.indexOf("."),l=n.substring(0,a),i=n.substring(a+1);o[l]=s(e[l],i,t)}else o[n]=t;return o}function d(e,n){return btoa("".concat(e,"_").concat(n,"_whatsapp_int"))}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const n="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<e;a++)t+=n.charAt(Math.floor(36*Math.random()));return t}function u(e,n,t){if(!n&&!e)return t;e=e||{};const o=Array.isArray(e)?[...e]:(0,a.A)({},e);if(n.includes(".")){const a=n.indexOf("."),l=n.substring(0,a),i=n.substring(a+1);o[l]=u(e[l],i,t)}else o[n]=t;return o}function h(e,n){const t=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function p(e,n){return!n||n.startsWith("http")?n:(n.startsWith("/")&&(n=n.substring(1)),"".concat(o.J,"/").concat(e,"/").concat(n))}function A(e){let n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.getElementsByTagName("head")[0].appendChild(n)),null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.favicon&&(n.href=p(null===e||void 0===e?void 0:e.domain,null===e||void 0===e?void 0:e.favicon)):n.href="/favicon.png"}function m(e){null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.displayName&&(document.title=null===e||void 0===e?void 0:e.displayName):document.title="LivServ"}},32829:(e,n,t)=>{t.d(n,{A:()=>l});var a=t(79875),o=t(44414);function l(e){let{children:n,type:t}=e;return(0,o.jsx)(a.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}l.defaultProps={type:"scale"}},44364:(e,n,t)=>{t.d(n,{DX:()=>d,J:()=>s,Og:()=>l,Rc:()=>c,jn:()=>a,mB:()=>r,pA:()=>i,pR:()=>o});const a="https://devbackend.livhousing.com",o="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.TRAINING_MEDIA_MAXSIZE,i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.CONVERSATION_MEDIA_MAXSIZE,r="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s="https://livserv-organizations.s3.ap-south-1.amazonaws.com",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com",c="https://devbackend.livhousing.com/"},47813:(e,n,t)=>{var a=t(24994);n.A=void 0;var o=a(t(79526)),l=t(44414);n.A=(0,o.default)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever")},49823:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(89379),o=t(80045),l=t(9950),i=t(70006),r=t(23266),s=t(44414);const d=["value","onChange"];const c=function(e){let{value:n,onChange:t}=e,c=(0,o.A)(e,d);const u=l.useCallback(e=>t(c.name,"yes"===e.target.value),[c.name,t]);return(0,s.jsxs)(i.A,(0,a.A)((0,a.A)({},c),{},{value:n?"yes":"no",defaultValue:n?"yes":"no",onChange:u,children:[(0,s.jsx)(r.A,{value:"no",children:"No"}),(0,s.jsx)(r.A,{value:"yes",children:"Yes"})]}))}},51637:(e,n,t)=>{t.d(n,{A:()=>A});var a=t(89379),o=t(80045),l=t(9950),i=t(14857),r=t(48089),s=t(45180),d=t(82053),c=t(50704),u=t(44414);const h=["border","boxShadow","children","content","contentSX","darkTitle","elevation","secondary","shadow","sx","title"],p={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},A=(0,l.forwardRef)((e,n)=>{let{border:t=!0,boxShadow:l,children:A,content:m=!0,contentSX:x={},darkTitle:g,elevation:v,secondary:f,shadow:y,sx:C={},title:b}=e,j=(0,o.A)(e,h);const w=(0,i.A)();return l="dark"===w.palette.mode?l||!0:l,(0,u.jsxs)(r.A,(0,a.A)((0,a.A)({elevation:v||0,ref:n},j),{},{sx:(0,a.A)({border:t?"1px solid":"none",borderRadius:2,borderColor:"dark"===w.palette.mode?w.palette.divider:w.palette.grey.A800,boxShadow:!l||t&&"dark"!==w.palette.mode?"inherit":y||w.customShadows.z1,":hover":{boxShadow:l?y||w.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:w.typography.fontFamily,fontSize:"0.75rem"}},C),children:[!g&&b&&(0,u.jsx)(s.A,{sx:p,titleTypographyProps:{variant:"subtitle1"},title:b,action:f}),g&&b&&(0,u.jsx)(s.A,{sx:p,title:(0,u.jsx)(d.A,{variant:"h3",children:b}),action:f}),m&&(0,u.jsx)(c.A,{sx:x,children:A}),!m&&A]}))})},70855:(e,n,t)=>{t.d(n,{G:()=>o});var a=t(33340);function o(e){const n=(0,a.nc)(e=>e.selectedBotId),t=(0,a.nc)(t=>t.botsMap[e||n]);return[e||n,t]}},75865:(e,n,t)=>{t.r(n),t.d(n,{capitalize:()=>o.A,createChainedFunction:()=>l.A,createSvgIcon:()=>i.A,debounce:()=>r.A,deprecatedPropType:()=>s,isMuiElement:()=>d.A,ownerDocument:()=>c.A,ownerWindow:()=>u.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>C,unstable_useEnhancedEffect:()=>A.A,unstable_useId:()=>m.A,unsupportedProp:()=>x,useControlled:()=>g.A,useEventCallback:()=>v.A,useForkRef:()=>f.A,useIsFocusVisible:()=>y.A});var a=t(44501),o=t(61676),l=t(25920),i=t(23235),r=t(21209);const s=function(e,n){return()=>null};var d=t(3828),c=t(27402),u=t(70827);const h=function(e,n){return()=>null};const p=t(75587).A;var A=t(79044),m=t(31014);const x=function(e,n,t,a,o){return null};var g=t(48733),v=t(1976),f=t(31506),y=t(32937);const C={configure:e=>{a.A.configure(e)}}},79526:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.createSvgIcon}});var a=t(75865)},93038:(e,n,t)=>{t.d(n,{A:()=>S});var a=t(98587),o=t(58168),l=t(9950),i=t(72004),r=t(88465),s=t(9240),d=t(46282),c=t(23235),u=t(44414);const h=(0,c.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,c.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),A=(0,c.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var m=t(61676),x=t(18463),g=t(59254),v=t(19608),f=t(1763),y=t(423);function C(e){return(0,y.Ay)("MuiCheckbox",e)}const b=(0,f.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),j=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],w=(0,g.Ay)(d.A,{shouldForwardProp:e=>(0,v.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.indeterminate&&n.indeterminate,n["size".concat((0,m.A)(t.size))],"default"!==t.color&&n["color".concat((0,m.A)(t.color))]]}})(e=>{let{theme:n,ownerState:t}=e;return(0,o.A)({color:(n.vars||n).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===t.color?n.vars.palette.action.activeChannel:n.vars.palette[t.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,s.X4)("default"===t.color?n.palette.action.active:n.palette[t.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{["&.".concat(b.checked,", &.").concat(b.indeterminate)]:{color:(n.vars||n).palette[t.color].main},["&.".concat(b.disabled)]:{color:(n.vars||n).palette.action.disabled}})}),E=(0,u.jsx)(p,{}),P=(0,u.jsx)(h,{}),_=(0,u.jsx)(A,{}),S=l.forwardRef(function(e,n){var t,s;const d=(0,x.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=E,color:h="primary",icon:p=P,indeterminate:A=!1,indeterminateIcon:g=_,inputProps:v,size:f="medium",className:y}=d,b=(0,a.A)(d,j),S=A?g:p,I=A?g:c,T=(0,o.A)({},d,{color:h,indeterminate:A,size:f}),R=(e=>{const{classes:n,indeterminate:t,color:a,size:l}=e,i={root:["root",t&&"indeterminate","color".concat((0,m.A)(a)),"size".concat((0,m.A)(l))]},s=(0,r.A)(i,C,n);return(0,o.A)({},n,s)})(T);return(0,u.jsx)(w,(0,o.A)({type:"checkbox",inputProps:(0,o.A)({"data-indeterminate":A},v),icon:l.cloneElement(S,{fontSize:null!=(t=S.props.fontSize)?t:f}),checkedIcon:l.cloneElement(I,{fontSize:null!=(s=I.props.fontSize)?s:f}),ownerState:T,ref:n,className:(0,i.A)(R.root,y)},b,{classes:R}))})},93383:(e,n,t)=>{t.d(n,{A:()=>c});var a=t(89379),o=t(80045),l=t(9950),i=t(10226),r=t(46639),s=t(44414);const d=["onClick","disabled","isLoading","children"];const c=function(e){let{onClick:n,disabled:t,isLoading:c,children:u}=e,h=(0,o.A)(e,d);const[p,A]=l.useState(c);return(0,s.jsxs)(i.A,(0,a.A)((0,a.A)({onClick:e=>{if(!n)return;const t=n(e);"function"===typeof(null===t||void 0===t?void 0:t.finally)&&(A(!0),t.finally(()=>A(!1)))},disabled:p||c||t},h),{},{children:[(p||c)&&(0,s.jsx)(r.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}},98415:(e,n,t)=>{t.d(n,{Ci:()=>h,I4:()=>u,TF:()=>d,gI:()=>r,gR:()=>A,jo:()=>c,rv:()=>m,so:()=>p,yo:()=>s});var a=t(89379),o=t(8478),l=t(33340),i=t(32026);async function r(e){const{organization:{websiteUrl:n,_id:t}}=l.nc.getState(),a={organizationId:t,websiteUrl:n,botName:e,botDesign:{visitorMessageLogo:{name:"",url:""},botMessageLogo:{name:"",url:""},botChatButton:{name:"",url:""},botLogo:{name:"",url:""},backgroundColor:"#e7a654",textColor:"#ffffff",dimensions:{heightInPixel:"500px",heightInPercent:"70%",widthInPixel:"350px",widthInPercent:"25%"},botLogoDimensions:{heightInPixel:"30px",heightInPercent:"100%",widthInPixel:"30px",widthInPercent:"100%"}}};x(await o.bE("/bot/".concat(t),a),!0)}async function s(e,n,t){const{organizationId:a}=l.nc.getState();if(!a||!e)throw new Error("Bot details not found");const i=await o.yJ("/bot/".concat(a,"/").concat(e),n);return x(i,t),i}async function d(e){const{organizationId:n,selectedBotId:t}=l.nc.getState();if(!n||!e)throw new Error("Bot details not found");const{deleted:i}=await o.TF("/bot/".concat(n,"/").concat(e));if(i){let{botsMap:e,botsList:n}=l.nc.getState();e=(0,a.A)({},e),n=[...n],delete e[i];const o=n.findIndex(e=>e._id===i);o>=0&&n.splice(o,1);const s={botsMap:e,botsList:n};var r;if(t===i)s.selectedBotId=(null===(r=n[0])||void 0===r?void 0:r._id)||null;l.nc.setState(s)}return!!i}function c(e,n){let{botDesign:t}=l.nc.getState();return t=(0,a.A)((0,a.A)({},t),n),s(e,{botDesign:t})}async function u(e,n){const{organizationId:t,selectedBotId:a}=l.nc.getState(),i=new FormData;i.append("file",n);const r=await o.bE("/bot/".concat(t,"/").concat(a,"/update-logo/").concat(e),i);return m(a,r),r["botDesign.".concat(e)]}async function h(e){const{organizationId:n,selectedBotId:t}=l.nc.getState(),a=await o.TF("/bot/".concat(n,"/").concat(t,"/update-logo/").concat(e));return m(t,a),a["botDesign.".concat(e)]}function p(e,n){return s(e,{botName:n})}function A(e,n){let{botSettings:t={}}=l.nc.getState();return t=(0,a.A)((0,a.A)({},t),n),s(e,{botSettings:t})}function m(e,n){const{botsMap:t}=l.nc.getState(),a=t[e];if(!a)return;x(Object.keys(n).reduce((e,t)=>(0,i.G6)(e,t,n[t]),a))}function x(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=e._id;let{botsMap:o,botsList:i}=l.nc.getState();o=(0,a.A)((0,a.A)({},o),{},{[t]:e}),i=[...i];const r=i.findIndex(e=>e._id===t);r>=0?i[r]=e:i.push(e);const s={botsMap:o,botsList:i};n&&(s.selectedBotId=t),l.nc.setState(s)}}}]);