"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[6832],{6832(e,i,t){t.r(i),t.d(i,{default:()=>Ri});var n=t(9950),r=t(28429),o=t(14857),a=t(72930),s=t(78317),l=t(83239),c=t(71525),d=t(81616),u=t(89379),m=t(59254);const h=(0,m.Ay)(s.A,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:i,open:t}=e;return(0,u.A)((0,u.A)({},i.mixins.toolbar),{},{display:"flex",alignItems:"center",justifyContent:t?"flex-start":"center",paddingLeft:i.spacing(t?3:0)})});var p=t(15744),x=t(75157),g=t(32026),A=t(44414);const b=e=>{var i,t;let{open:r}=e;const a=(0,o.A)(),[s,l]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{const e=window.location.hostname;try{const i=await(0,x.f)(e);l(i),u(!1)}catch(i){l({}),console.error("Failed to fetch organization props:",i)}})()},[]),c||((0,g.TZ)(s),(0,g.wE)(s)),(0,A.jsx)(h,{theme:a,open:r,sx:{bgcolor:null!==s&&void 0!==s&&null!==(i=s.header)&&void 0!==i&&i.backgroundColor?null===s||void 0===s||null===(t=s.header)||void 0===t?void 0:t.backgroundColor:"#fff"},children:(0,A.jsx)(d.A,{direction:"row",spacing:1,alignItems:"center",children:!c&&(0,A.jsx)(p.A,{consoleSettings:s})})})};var j=t(82053),f=t(249),y=t(33340),v=t(42074),w=t(70855),z=t(84707),S=t(14195),C=t(83563),N=t(25277),I=t(99779),k=t(96319),P=t(49556),E=t(53065);const D=e=>{let{item:i,level:t,urlPrefix:a}=e;const s=(0,o.A)(),{pathname:l}=(0,r.zy)(),c=(0,y.C$)(e=>e.drawerOpen),d=(0,y.C$)(e=>e.openItem);let m="_self";i.target&&(m="_blank");let h={component:(0,n.forwardRef)((e,t)=>(0,A.jsx)(v.N_,(0,u.A)((0,u.A)({ref:t},e),{},{to:"".concat(a||"").concat(i.url),target:m})))};null!==i&&void 0!==i&&i.external&&(h={component:"a",href:i.url,target:m});const p=i.icon,x=!!i.icon&&(0,A.jsx)(p,{style:{fontSize:c?"1rem":"1.25rem"}}),g=d.findIndex(e=>e===i.id)>-1;(0,n.useEffect)(()=>{l.includes(i.url)&&(0,P.G8)([i.id])},[l]);const[b,f]=(0,w.G)(),D=null===f||void 0===f?void 0:f.conversationMedia,F=null===f||void 0===f?void 0:f.trainingMedia,W=(0,y.nc)(e=>e.kbDocs);let M=0;void 0!==W&&(M=W[b]?W[b].length:0);const B={conversationMedia:{status:D&&D.length>0,successMessage:"Conversation media added",failureMessage:"Conversation media not added"},training:{status:F&&F.length>0,successMessage:"Training documents added",failureMessage:"Training documents not added"},cannedResponse:{status:M>0,successMessage:"FAQ content added",failureMessage:"FAQ content not available"}},O="text.primary",T="primary.main";return(0,A.jsxs)(z.A,(0,u.A)((0,u.A)({className:"btn-menu-item"},h),{},{disabled:i.disabled,onClick:()=>{return e=i.id,void(0,P.G8)([e]);var e},selected:g,sx:(0,u.A)((0,u.A)({zIndex:1201,pl:c?"".concat(28*t,"px"):1.5,py:c||1!==t?1:1.25},c&&{"&:hover":{bgcolor:"primary.lighter"},"&.Mui-selected":{bgcolor:"primary.lighter",borderRight:"2px solid ".concat(s.palette.primary.main),color:T,"&:hover":{color:T,bgcolor:"primary.lighter"}}}),!c&&{"&:hover":{bgcolor:"transparent"},"&.Mui-selected":{"&:hover":{bgcolor:"transparent"},bgcolor:"transparent"}}),children:[x&&(0,A.jsx)(S.A,{sx:(0,u.A)((0,u.A)({minWidth:28,color:g?T:O},!c&&{borderRadius:1.5,width:36,height:36,alignItems:"center",justifyContent:"center","&:hover":{bgcolor:"secondary.lighter"}}),!c&&g&&{bgcolor:"primary.lighter","&:hover":{bgcolor:"primary.lighter"}}),children:x}),(c||!c&&1!==t)&&(0,A.jsx)(C.A,{primary:(0,A.jsx)(j.A,{variant:"h6",sx:{color:g?T:O},children:i.title})}),B[i.id]&&(0,A.jsx)(N.A,{style:{backgroundColor:"transparent"},icon:B[i.id].status?(0,A.jsx)(E.A,{title:B[i.id].successMessage,children:(0,A.jsx)(I.A,{style:{color:"#33cc33",marginRight:-10}})}):(0,A.jsx)(E.A,{title:B[i.id].failureMessage,children:(0,A.jsx)(k.A,{style:{color:"#ff0000",marginRight:-10}})})})]}))},F=e=>{var i;let{item:t,urlPrefix:n,settings:r}=e;const o=(0,y.C$)(e=>e.drawerOpen),a=null===(i=t.children)||void 0===i?void 0:i.map(e=>"item"===e.type?e.displayProp&&!0===(null===r||void 0===r?void 0:r[e.displayProp])?null:(0,A.jsx)(D,{item:e,level:1,urlPrefix:n},e.id):(0,A.jsx)(j.A,{variant:"h6",color:"error",align:"center",children:"Fix - Group Collapse or Items"},e.id));return(0,A.jsx)(f.A,{subheader:t.title&&o&&(0,A.jsx)(s.A,{sx:{pl:3,mb:1.5},children:(0,A.jsx)(j.A,{variant:"subtitle2",color:"textSecondary",children:t.title})}),sx:{mb:o?1.5:0,py:0,zIndex:0},children:a})};var W=t(39742),M=t(66276),B=t(58939),O=t(24258),T=t(90125);const L={FileWordOutlined:W.A,SettingOutlined:M.A,VideoCameraAddOutlined:B.A,BgColorsOutlined:O.A,WechatOutlined:T.A},U={id:"botDetails",title:"Bot Configuration",type:"group",children:[{id:"training",title:"Training Documents",type:"item",url:"/training-documents",displayProp:"hideTrainingTab",icon:L.FileWordOutlined},{id:"settings",title:"Settings",type:"item",url:"/settings",displayProp:"hideSettingsTab",icon:L.SettingOutlined},{id:"cannedResponse",title:"FAQ / Knowledge base",type:"item",url:"/canned-response",displayProp:"hideKBTab",icon:L.FileWordOutlined},{id:"conversationMedia",title:"Conversation Media",type:"item",url:"/conversation-media",displayProp:"hideMediaTab",icon:L.VideoCameraAddOutlined},{id:"flowDesigner",title:"Design Bot Flow",type:"item",url:"/flow-designer",displayProp:"hideFlowDesignTab",icon:L.BgColorsOutlined},{id:"chatDesign",title:"Design & Deploy Bot",type:"item",url:"/bot-design",displayProp:"hideDesignTab",icon:L.BgColorsOutlined},{id:"callConnect",title:"Call Connect",type:"item",url:"/call-connect",displayProp:"hideFlowDesignTab",icon:L.BgColorsOutlined}]};const _={id:"group-dashboard",title:"Analytics",type:"group",children:[{id:"dashboard",title:"Dashboard",type:"item",url:"/dashboard",icon:{DashboardOutlined:t(58203).A}.DashboardOutlined,breadcrumbs:!1,status:!0}]};const R={id:"integrations",title:"Bot Integrations",type:"group",children:[{id:"view-integrations",title:"All Integrations",type:"item",url:"/integrations",icon:t(26142).A}]};var q=t(18411);const Y={id:"billing",title:"Billing",type:"group",children:[{id:"view-billing",title:"Billing",type:"item",url:"/billing",icon:q.A}]};var V=t(52699),G=t(60899),$=t(26762),H=t(60469),J=t(41507),Q=t(17239),X=t(23266),Z=t(57191);function K(e){let{anchorEl:i,botsList:t,onChange:n}=e;return(0,A.jsx)(Q.A,{id:"bot-list-menu",anchorEl:i,open:!0,onClose:n,TransitionComponent:Z.A,children:t.map(e=>(0,A.jsx)(X.A,{onClick:()=>n(e._id),children:e.botName},e._id))})}const ee=function(e){let{item:{children:i},navComponent:t}=e;const o=(0,y.nc)(e=>e.botsList),a=(0,y.nc)(e=>{var i;return!e.isSuperUser&&(null===(i=e.organization)||void 0===i?void 0:i.settings)})||{},{pathname:s}=(0,r.zy)(),l=(0,r.Zp)(),{botId:c}=(0,r.g)(),[d,u]=(0,w.G)(c),[m,h]=n.useState(null),p=n.useRef({});p.current.botId=d,p.current.pathname=s;const x=e=>{h(e.currentTarget)},g=n.useCallback(e=>{if(h(null),"string"===typeof e){const{pathname:i,botId:t}=p.current;if(i&&i.includes(t)){const n=i.replace(t,e);l(n)}(0,J.qb)(e)}},[l]);return n.useEffect(()=>{c&&c!==p.current.botId&&(0,J.qb)(c)},[c]),null!==o&&void 0!==o&&o.length?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("h6",{style:{padding:"2px 0 5px 20px",margin:"0px",fontSize:"0.80rem",fontWeight:600,lineHeight:1.66,fontFamily:'"Public Sans", sans-serif',color:"#44546f"},children:"Select and Configure Bot"}),(0,A.jsxs)("div",{className:"bot-menus",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)(G.Ay,{container:!0,className:"bot-menu-block",mb:.8,tabIndex:0,onClick:x,children:[(0,A.jsx)(G.Ay,{item:!0,xs:11,md:11,px:2,py:1,children:(0,A.jsxs)(G.Ay,{container:!0,children:[(0,A.jsx)(G.Ay,{item:!0,xs:1,md:1,children:(0,A.jsx)(H.A,{style:{cursor:"pointer",color:"#2f7ce9"}})}),(0,A.jsx)(G.Ay,{item:!0,xs:11,md:11,px:1.2,id:"bot-selector-name","aria-controls":"bot-list-menu","aria-haspopup":"true",style:{cursor:"pointer",color:"#2f7ce9"},children:(0,A.jsx)("h6",{style:{margin:0,fontWeight:600,fontSize:"0.875rem",lineHeight:"1.57",fontFamily:"Public Sans,sans-serif",color:"#2f7ce9"},children:null===u||void 0===u?void 0:u.botName})})]})}),(0,A.jsx)(G.Ay,{item:!0,xs:1,md:1,py:1,id:"bot-selector-arrow","aria-controls":"bot-list-menu","aria-haspopup":"true",onClick:x,style:{cursor:"pointer",color:"#2f7ce9"},children:(0,A.jsx)($.A,{})})]}),m&&(0,A.jsx)(K,{botsList:o,anchorEl:m,onChange:g})]}),i.map(e=>(0,A.jsx)(t,{item:e,urlPrefix:"/bot/".concat(d),settings:a},e.id))]})]}):null},ie={items:[{id:"group-org-details",title:"Navigation",type:"group",children:[{id:"bots",title:"Bots List",type:"item",url:"/bots",icon:V.A,breadcrumbs:!1}]},{id:"group-choose-bot",title:"Choose Bot",type:"component",component:ee,children:[_,U,R,Y]}]},te=()=>{if(!(0,y.nc)(e=>e.organizationId))return null;const e=ie.items.map(e=>(0,A.jsx)(ne,{item:e},e.id));return(0,A.jsx)(s.A,{sx:{pt:2},children:e})};function ne(e){let{item:i,urlPrefix:t,settings:n}=e;const r=i.component;switch(i.type){case"group":return(0,A.jsx)(F,{item:i,urlPrefix:t,settings:n});case"component":return(0,A.jsx)(r,{item:i,navComponent:ne,settings:n});default:return(0,A.jsx)(j.A,{variant:"h6",color:"error",align:"center",children:"Fix - Navigation Group"})}}var re=t(80045),oe=t(81532),ae=t(63344),se=t(41377);const le=["children","sx"],ce=(0,m.Ay)(se.S7)({flexGrow:1,height:"100%",overflow:"hidden"}),de=(0,m.Ay)(ae.A)(e=>{let{theme:i}=e;return{maxHeight:"100%","& .simplebar-scrollbar":{"&:before":{backgroundColor:(0,oe.X4)(i.palette.grey[500],.48)},"&.simplebar-visible:before":{opacity:1}},"& .simplebar-track.simplebar-vertical":{width:10},"& .simplebar-track.simplebar-horizontal .simplebar-scrollbar":{height:6},"& .simplebar-mask":{zIndex:"inherit"}}});function ue(e){let{children:i,sx:t}=e,n=(0,re.A)(e,le);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ce,{children:(0,A.jsx)(de,(0,u.A)((0,u.A)({timeout:500,clickOnTrack:!1,sx:t},n),{},{children:i}))}),(0,A.jsx)(se.IM,{children:(0,A.jsx)(s.A,(0,u.A)((0,u.A)({sx:(0,u.A)({overflowX:"auto"},t)},n),{},{children:i}))})]})}const me=()=>(0,A.jsx)(ue,{sx:{"& .simplebar-content":{display:"flex",flexDirection:"column"}},children:(0,A.jsx)(te,{})});var he=t(16243);const pe=e=>({width:he.Y7,borderRight:"1px solid ".concat(e.palette.divider),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden",boxShadow:"none"}),xe=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:0,borderRight:"none",boxShadow:e.customShadows.z1}),ge=(0,m.Ay)(c.Ay,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:i,open:t}=e;return(0,u.A)((0,u.A)({width:he.Y7,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box"},t&&(0,u.A)((0,u.A)({},pe(i)),{},{"& .MuiDrawer-paper":pe(i)})),!t&&(0,u.A)((0,u.A)({},xe(i)),{},{"& .MuiDrawer-paper":xe(i)}))}),Ae=e=>{let{open:i,handleDrawerToggle:t,window:r}=e;const l=(0,o.A)(),d=(0,a.A)(l.breakpoints.down("lg")),u=void 0!==r?()=>r().document.body:void 0,m=(0,n.useMemo)(()=>(0,A.jsx)(me,{}),[]),h=(0,n.useMemo)(()=>(0,A.jsx)(b,{open:i}),[i]);return(0,A.jsx)(s.A,{component:"nav",sx:{flexShrink:{md:0},zIndex:1300},"aria-label":"mailbox folders",children:d?(0,A.jsxs)(c.Ay,{container:u,variant:"temporary",open:i,onClose:t,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",lg:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:he.Y7,borderRight:"1px solid ".concat(l.palette.divider),backgroundImage:"none",boxShadow:"inherit"}},children:[i&&h,i&&m]}):(0,A.jsxs)(ge,{variant:"permanent",open:i,children:[h,m]})})};var be=t(25333),je=t(88060);const fe=(0,m.Ay)(je.A,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:i,open:t}=e;return(0,u.A)({zIndex:i.zIndex.drawer+1,transition:i.transitions.create(["width","margin"],{easing:i.transitions.easing.sharp,duration:i.transitions.duration.leavingScreen})},t&&{marginLeft:he.Y7,width:"calc(100% - ".concat(he.Y7,"px)"),transition:i.transitions.create(["width","margin"],{easing:i.transitions.easing.sharp,duration:i.transitions.duration.enteringScreen})})});var ye=t(24184),ve=t(1849),we=t(2235),ze=t(39325),Se=t(50704),Ce=t(11966),Ne=t(84142),Ie=t(51637),ke=t(40165);const Pe=["children","position","type"],Ee=(0,n.forwardRef)((e,i)=>{let{children:t,position:n,type:r}=e,o=(0,re.A)(e,Pe),a={transformOrigin:"0 0 0"};return a={transformOrigin:"0 0 0"},(0,A.jsxs)(s.A,{ref:i,children:["grow"===r&&(0,A.jsx)(ke.A,(0,u.A)((0,u.A)({},o),{},{children:(0,A.jsx)(s.A,{sx:a,children:t})})),"fade"===r&&(0,A.jsx)(Z.A,(0,u.A)((0,u.A)({},o),{},{timeout:{appear:0,enter:300,exit:150},children:(0,A.jsx)(s.A,{sx:a,children:t})}))]})});Ee.defaultProps={type:"grow",position:"top-left"};const De=Ee;var Fe=t(63464),We=t(40033),Me=t(28170),Be=t(3788),Oe=t(2660),Te=t(24516),Le=t(32829),Ue=t(93383),_e=t(92728),Re=t(29714),qe=t(61467),Ye=t(97601),Ve=t(8478);const Ge=(0,m.Ay)(Fe.A)(e=>{let{theme:i}=e;return{"& .MuiDialogContent-root":{padding:i.spacing(2)},"& .MuiDialogActions-root":{padding:i.spacing(1)}}});function $e(e){const i=(0,o.A)(),{breakpoints:t}=i,{openUserProfile:r,setOpenUserProfile:a}=e,l=(0,y.nc)(e=>e.organization),c=(0,y.nc)(e=>e.userDetails),m=(0,y.nc)(e=>e.userName),h=(0,y.nc)(e=>e.organizationId);n.useEffect(()=>{c||async function(e){const i=await Ve.Jt("/organization/".concat(e,"/member-details"));y.nc.setState({userDetails:i,loadingBackdropStatus:!1})}(h).catch(e=>{console.error("Error fetching organization details:",e),(0,Ye.i)(!0,"Not able to fetch organization details. Try after sometime!","error")})},[h,m,c]);return(0,A.jsxs)(Ge,{TransitionComponent:_e.A,"aria-labelledby":"customized-dialog-title",open:r,PaperProps:{sx:{width:"40%",[t.down("sm")]:{width:"90%"}}},children:[(0,A.jsx)(We.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:"Profile"}),(0,A.jsx)(be.A,{"aria-label":"close",onClick:()=>{a(!1)},sx:{position:"absolute",right:8,top:8},children:(0,A.jsx)(k.A,{})}),(0,A.jsxs)(Me.A,{dividers:!0,children:[(0,A.jsx)(s.A,{sx:{textAlign:"center",m:3},children:(0,A.jsx)("label",{className:"me-1",children:null===c||void 0===c?void 0:c.adminEmail})}),(0,A.jsx)(s.A,{sx:{display:"grid",gap:1,gridTemplateColumns:"repeat(2, 1fr)"}}),(0,A.jsx)(qe.l1,{initialValues:{organizationName:null===l||void 0===l?void 0:l.organizationName,organizationWebsiteUrl:null===l||void 0===l?void 0:l.websiteUrl,adminName:null===c||void 0===c?void 0:c.adminName,phoneNumber:null===c||void 0===c?void 0:c.phoneNumber.number,code:null===c||void 0===c?void 0:c.phoneNumber.code,email:null===c||void 0===c?void 0:c.adminEmail},validationSchema:Re.Ik().shape({organizationName:Re.Yj().max(255).required("Organization Name is required"),organizationWebsiteUrl:Re.Yj().max(255).required("Organization Website url is required"),adminName:Re.Yj().max(255).required("Name is required"),email:Re.Yj().email("Must be a valid email").max(255).required("Email is required"),code:Re.Yj().matches(/^\+[1-9]\d{0,3}$/,"Invalid country code, start with +").required("Country code is required"),phoneNumber:Re.ai().min(5e9,"Must be a valid mobile number").max(9999999999,"Must be a valid mobile number").required("Phone Number is required")}),onSubmit:async(e,i)=>{let{setErrors:t,setStatus:n,setSubmitting:r}=i;try{const i={organizationId:h,data:e};await async function(e){const i=await Ve.bE("/organization/update-organization-details",e),{adminEmail:t,adminName:n,phoneNumber:r}=i,o={adminEmail:t,adminName:n,phoneNumber:r};y.nc.setState({userDetails:o});const{organizationName:a,organizationWebsiteUrl:s}=i;y.nc.setState(e=>({organization:(0,u.A)((0,u.A)({},e.organization),{},{organizationName:a,websiteUrl:s})}))}(i),n({success:!1}),r(!1),a(!1),(0,Ye.i)(!0,"Profile updated successfully","success")}catch(o){n({success:!1}),t({submit:o.message}),r(!1),(0,Ye.i)(!0,"Not able to update the profile. Try after sometime!","error")}},children:e=>{let{errors:i,handleBlur:t,handleChange:n,handleSubmit:r,isSubmitting:o,touched:a,values:s}=e;return(0,A.jsx)("form",{noValidate:!0,onSubmit:r,children:(0,A.jsxs)(G.Ay,{container:!0,spacing:1,children:[(0,A.jsx)(G.Ay,{item:!0,xs:12,md:12,children:(0,A.jsxs)(d.A,{spacing:1,children:[(0,A.jsx)(Be.A,{htmlFor:"organizationName",children:"Organization Name"}),(0,A.jsx)(Oe.A,{id:"organizationName",type:"organizationName",defaultValue:s.organizationName,name:"organizationName",onBlur:t,onChange:n,fullWidth:!0,autoComplete:"off",error:Boolean(a.organizationName&&i.organizationName)}),a.organizationName&&i.organizationName&&(0,A.jsx)(Te.A,{error:!0,id:"helper-text-organization-name",children:i.organizationName})]})}),(0,A.jsx)(G.Ay,{item:!0,xs:12,md:12,children:(0,A.jsxs)(d.A,{spacing:1,children:[(0,A.jsx)(Be.A,{htmlFor:"organizationWebsiteUrl",children:"Organization Website url"}),(0,A.jsx)(Oe.A,{id:"organizationWebsiteUrl",type:"organizationWebsiteUrl",defaultValue:s.organizationWebsiteUrl,name:"organizationWebsiteUrl",onBlur:t,onChange:n,fullWidth:!0,autoComplete:"off",error:Boolean(a.organizationWebsiteUrl&&i.organizationWebsiteUrl)}),a.organizationWebsiteUrl&&i.organizationWebsiteUrl&&(0,A.jsx)(Te.A,{error:!0,id:"helper-text-organization-website-url",children:i.organizationWebsiteUrl})]})}),(0,A.jsx)(G.Ay,{item:!0,xs:12,md:12,children:(0,A.jsxs)(d.A,{spacing:1,children:[(0,A.jsx)(Be.A,{htmlFor:"adminName",children:"Name"}),(0,A.jsx)(Oe.A,{id:"adminName",type:"adminName",defaultValue:s.adminName,name:"adminName",autoComplete:"off",onBlur:t,onChange:n,fullWidth:!0,error:Boolean(a.adminName&&i.adminName)}),a.adminName&&i.adminName&&(0,A.jsx)(Te.A,{error:!0,id:"helper-text-adminame",children:i.adminName})]})}),(0,A.jsx)(G.Ay,{item:!0,xs:12,md:6,children:(0,A.jsxs)(d.A,{spacing:1,children:[(0,A.jsx)(Be.A,{htmlFor:"code",children:"ISD Code (eg:- +91)"}),(0,A.jsx)(Oe.A,{id:"code",type:"code",defaultValue:s.code,name:"code",autoComplete:"off",onBlur:t,onChange:n,fullWidth:!0,error:Boolean(a.code&&i.code)}),a.code&&i.code&&(0,A.jsx)(Te.A,{error:!0,id:"helper-text-country-code",children:i.code})]})}),(0,A.jsx)(G.Ay,{item:!0,xs:12,md:6,children:(0,A.jsxs)(d.A,{spacing:1,children:[(0,A.jsx)(Be.A,{htmlFor:"phoneNumber",children:"Phone Number"}),(0,A.jsx)(Oe.A,{id:"phoneNumber",type:"number",defaultValue:s.phoneNumber,name:"phoneNumber",onBlur:t,onChange:n,autoComplete:"off",fullWidth:!0,error:Boolean(a.phoneNumber&&i.phoneNumber)}),a.phoneNumber&&i.phoneNumber&&(0,A.jsx)(Te.A,{error:!0,id:"helper-text-phone-number",children:i.phoneNumber})]})}),i.submit&&(0,A.jsx)(G.Ay,{item:!0,xs:12,children:(0,A.jsx)(Te.A,{error:!0,children:i.submit})}),(0,A.jsx)(G.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,A.jsx)(Le.A,{children:(0,A.jsx)(Ue.A,{isLoading:o,disabled:o,color:"primary",size:"large",type:"submit",variant:"contained",children:"Update"})})})]})})}})]})]})}var He=t(24513),Je=t(41095),Qe=t(31170),Xe=t(26092),Ze=t(17530);const Ke=e=>{let{handleLogout:i}=e;const t=(0,o.A)(),[r,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(f.A,{component:"nav",sx:{p:0,"& .MuiListItemIcon-root":{minWidth:32,color:t.palette.grey[500]}},children:[(0,A.jsxs)(z.A,{onClick:()=>a(!0),children:[(0,A.jsx)(S.A,{children:(0,A.jsx)(He.A,{})}),(0,A.jsx)(C.A,{primary:"Edit Profile"})]}),(0,A.jsxs)(z.A,{onClick:()=>l(!0),children:[(0,A.jsx)(S.A,{children:(0,A.jsx)(Je.A,{})}),(0,A.jsx)(C.A,{primary:"Recharge"})]}),(0,A.jsxs)(z.A,{onClick:i,children:[(0,A.jsx)(S.A,{children:(0,A.jsx)(Qe.A,{})}),(0,A.jsx)(C.A,{primary:"Logout"})]})]}),(0,A.jsx)($e,{openUserProfile:r,setOpenUserProfile:a}),(0,A.jsx)(Xe.A,{title:"Recharge Wallet",width:"350px",openPopUpDialog:s,onClose:()=>l(!1),children:(0,A.jsx)(Ze.default,{isDialog:!0})})]})};var ei=t(98485),ii=t(79378);const ti=()=>{const e=(0,o.A)(),[i,t]=(0,n.useState)(0),r=(e,i)=>{0===i&&window.open("https://livserv.ai/contact-us/"),t(i)};return(0,A.jsxs)(f.A,{component:"nav",sx:{p:0,"& .MuiListItemIcon-root":{minWidth:32,color:e.palette.grey[500]}},children:[(0,A.jsxs)(z.A,{selected:0===i,onClick:e=>r(0,0),children:[(0,A.jsx)(S.A,{children:(0,A.jsx)(ei.A,{})}),(0,A.jsx)(C.A,{primary:"Support"})]}),(0,A.jsxs)(z.A,{component:v.N_,to:"/account-settings",selected:1===i,onClick:e=>r(0,1),children:[(0,A.jsx)(S.A,{children:(0,A.jsx)(ii.A,{})}),(0,A.jsx)(C.A,{primary:"Account Settings"})]})]})};var ni=t(31462);const ri=["children","value","index"];function oi(e){let{children:i,value:t,index:n}=e,r=(0,re.A)(e,ri);return(0,A.jsx)("div",(0,u.A)((0,u.A)({role:"tabpanel",hidden:t!==n,id:"profile-tabpanel-".concat(n),"aria-labelledby":"profile-tab-".concat(n)},r),{},{children:t===n&&i}))}function ai(e){return{id:"profile-tab-".concat(e),"aria-controls":"profile-tabpanel-".concat(e)}}const si=()=>{var e;const i=(0,o.A)(),t=()=>{(0,ni.ri)()},r=(0,n.useRef)(null),[a,l]=(0,n.useState)(!1),c=e=>{r.current&&r.current.contains(e.target)||l(!1)},[m,h]=(0,n.useState)(0),p=(e,i)=>{h(i)},x=(0,y.nc)(e=>e.organization),g=(0,y.nc)(e=>e.isSuperUser);return(0,A.jsxs)(s.A,{sx:{flexShrink:0,ml:.75},children:[g?(0,A.jsx)(j.A,{variant:"subtitle1",onClick:t,sx:{cursor:"pointer"},children:"Logout"}):(0,A.jsx)(ye.A,{sx:{p:.25,bgcolor:a?"grey.300":"transparent",borderRadius:1,"&:hover":{bgcolor:"secondary.lighter"}},"aria-label":"open profile",ref:r,"aria-controls":a?"profile-grow":void 0,"aria-haspopup":"true",onClick:()=>{l(e=>!e)},children:(0,A.jsx)(d.A,{direction:"row",spacing:2,alignItems:"center",sx:{p:.5},children:(0,A.jsx)(j.A,{variant:"subtitle1",children:null===x||void 0===x||null===(e=x.admins[0])||void 0===e?void 0:e.adminName})})}),(0,A.jsx)(ve.A,{placement:"bottom-end",open:a,anchorEl:r.current,role:void 0,transition:!0,disablePortal:!0,popperOptions:{modifiers:[{name:"offset",options:{offset:[0,9]}}]},children:e=>{var n,r,o,l;let{TransitionProps:h}=e;return(0,A.jsx)(De,(0,u.A)((0,u.A)({type:"fade",in:a},h),{},{children:a&&(0,A.jsx)(we.A,{sx:{boxShadow:i.customShadows.z1,width:290,minWidth:240,maxWidth:290,[i.breakpoints.down("md")]:{maxWidth:250}},children:(0,A.jsx)(ze.x,{onClickAway:c,children:(0,A.jsxs)(Ie.A,{elevation:0,border:!1,content:!1,children:[(0,A.jsx)(Se.A,{sx:{px:2.5,pt:3},children:(0,A.jsxs)(G.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,A.jsx)(G.Ay,{item:!0,children:(0,A.jsx)(d.A,{direction:"row",spacing:1.25,alignItems:"center",children:(0,A.jsxs)(d.A,{children:[(0,A.jsx)(j.A,{variant:"h6",children:null===x||void 0===x||null===(n=x.admins[0])||void 0===n?void 0:n.adminName}),(0,A.jsx)(j.A,{variant:"body2",color:"textSecondary",children:null===x||void 0===x||null===(r=x.admins[0])||void 0===r?void 0:r.role}),(0,A.jsxs)(j.A,{variant:"body2",color:"textSecondary",children:["Balance :\xa0",(0,A.jsxs)(s.A,{fontWeight:"bold",display:"inline",color:(null===x||void 0===x||null===(o=x.availableCredits)||void 0===o?void 0:o.toFixed(3))<=5?"error.main":"success.main",children:[null===x||void 0===x||null===(l=x.availableCredits)||void 0===l?void 0:l.toFixed(3),"\xa0$"]})]})]})})}),(0,A.jsx)(G.Ay,{item:!0,children:(0,A.jsx)(be.A,{size:"large",color:"secondary",onClick:t,children:(0,A.jsx)(Qe.A,{})})})]})}),a&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(s.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,A.jsxs)(Ce.A,{variant:"fullWidth",value:m,onChange:p,"aria-label":"profile tabs",children:[(0,A.jsx)(Ne.A,(0,u.A)({sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textTransform:"capitalize"},icon:(0,A.jsx)(ii.A,{style:{marginBottom:0,marginRight:"10px"}}),label:"Profile"},ai(0))),(0,A.jsx)(Ne.A,(0,u.A)({sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",textTransform:"capitalize"},icon:(0,A.jsx)(M.A,{style:{marginBottom:0,marginRight:"10px"}}),label:"Setting"},ai(1)))]})}),(0,A.jsx)(oi,{value:m,index:0,dir:i.direction,children:(0,A.jsx)(Ke,{handleLogout:t})}),(0,A.jsx)(oi,{value:m,index:1,dir:i.direction,children:(0,A.jsx)(ti,{})})]})]})})})}))}})]})};var li=t(28810),ci=t(38614),di=t(41413),ui=t(71378),mi=t(74745),hi=t(2886),pi=t(27379),xi=t(39786),gi=t(94118),Ai=t(57560);const bi={width:36,height:36,fontSize:"1rem"},ji={mt:"6px",ml:1,top:"auto",right:"auto",alignSelf:"flex-start",transform:"none"},fi=e=>{switch(e){case"no-credits":return(0,A.jsx)(q.A,{style:{color:"#EF5A28"}});case"low-credits":return(0,A.jsx)(hi.A,{style:{color:"#EF5A28"}});default:return(0,A.jsx)(pi.A,{style:{color:"#7A7573"}})}},yi=()=>{const e=(0,o.A)(),i=(0,a.A)(e.breakpoints.down("md")),t=(0,n.useRef)(null),[r,l]=(0,n.useState)(!1),c=()=>{l(e=>!e)},d=e=>{t.current&&t.current.contains(e.target)||l(!1)},m=(0,y.nc)(e=>e.organizationId),[h,p]=(0,n.useState)(null),[x,b]=(0,n.useState)(!1),v=(0,n.useCallback)(async()=>{if(!x)try{const e=await async function(e){return await Ve.Jt("/notifications/".concat(e,"/list"))}(m);p(e)}catch(e){console.error("Error fetching notifications:",e),(0,Ye.i)(!0,"Not able to fetch notifications. Try after sometime!","error"),e&&"Unauthorized request"===e.message&&b(!0)}},[m,x]);(0,n.useEffect)(()=>{v();const e=setInterval(()=>{v()},6e5);return()=>clearInterval(e)},[v]);const w=async e=>{const i={_id:e,notificationCloseStatus:!0},t=await async function(e,i){return await Ve.bE("/notifications/".concat(e),i)}(m,i);if(t){const e=h.filter(e=>e._id!==t._id);p(e),(0,Ye.i)(!0,"Notification closed successfully","success")}else(0,Ye.i)(!0,"Not able to close notification. Try after sometime!","error")};return(0,A.jsxs)(s.A,{sx:{flexShrink:0,ml:.75},children:[(0,A.jsx)(be.A,{disableRipple:!0,color:"secondary",sx:{color:"text.primary",bgcolor:r?"grey.300":"grey.100"},"aria-label":"open profile",ref:t,"aria-controls":r?"profile-grow":void 0,"aria-haspopup":"true",onClick:c,children:(0,A.jsx)(li.A,{badgeContent:h?h.length:"",color:"primary",children:(0,A.jsx)(xi.A,{})})}),(0,A.jsx)(ve.A,{placement:i?"bottom":"bottom-end",open:r,anchorEl:t.current,role:void 0,transition:!0,disablePortal:!0,popperOptions:{modifiers:[{name:"offset",options:{offset:[i?-5:0,9]}}]},children:i=>{let{TransitionProps:t}=i;return(0,A.jsx)(De,(0,u.A)((0,u.A)({type:"fade",in:r},t),{},{children:(0,A.jsx)(we.A,{sx:{boxShadow:e.customShadows.z1,width:"100%",minWidth:285,maxWidth:420,[e.breakpoints.down("md")]:{maxWidth:285}},children:(0,A.jsx)(ze.x,{onClickAway:d,children:(0,A.jsx)(Ie.A,{title:"Notification",elevation:0,border:!1,content:!1,secondary:(0,A.jsx)(be.A,{size:"small",onClick:c,children:(0,A.jsx)(gi.A,{})}),children:(0,A.jsx)(f.A,{component:"nav",sx:{p:0,maxHeight:"300px",overflowY:"auto","& .MuiListItemButton-root":{py:.5,"& .MuiAvatar-root":bi,"& .MuiListItemSecondaryAction-root":(0,u.A)((0,u.A)({},ji),{},{position:"relative"})}},children:h&&h.map(e=>(0,A.jsxs)(n.Fragment,{children:[(0,A.jsxs)(z.A,{children:[(0,A.jsx)(ci.A,{children:(0,A.jsx)(di.A,{sx:{bgcolor:"success.lighter"},children:fi(null===e||void 0===e?void 0:e.notificationType)})}),(0,A.jsx)(C.A,{primary:(0,A.jsx)(j.A,{component:"span",variant:"subtitle1",children:e.notification}),secondary:(0,g.Yq)(e.createdAt)}),(0,A.jsx)(ui.A,{style:{maxWidth:"15px"},children:(0,A.jsx)(E.A,{title:"close",children:(0,A.jsx)(be.A,{size:"small",sx:{color:"#EF5A28"},onClick:()=>w(e._id),children:(0,A.jsx)(Ai.A,{})})})})]}),(0,A.jsx)(mi.A,{})]},e._id))})})})})}))}})]})};var vi=t(72906),wi=t(25979),zi=t(45735),Si=t(8145),Ci=t(2046),Ni=t(88521),Ii=t(60767);const ki=(0,Ni.Z)({matchFrom:"start",stringify:e=>(e.organizationName||e._id).toLowerCase()});const Pi=function(){const e=(0,y.nc)(e=>e.isSuperUser),i=(0,y.nc)(e=>e.organizationId),t=(0,y.nc)(e=>e.organizationList),o=n.useRef({}),{pathname:a}=(0,r.zy)(),l=(0,r.Zp)(),{botId:c}=(0,r.g)();o.current.navigate=l,o.current.pathname=a,o.current.botId=c;const d=n.useMemo(()=>null===t||void 0===t?void 0:t.filter(e=>e._id===i)[0],[i,t]),m=e&&(null===t||void 0===t?void 0:t.length)>0,h=n.useCallback(async(e,i)=>{const t=i._id;y.nc.setState({organization:i,organizationId:t,selectedBotId:null}),sessionStorage.setItem("orgId",t);const n=await(0,J.Ds)(t),{botId:r,pathname:a,navigate:s}=o.current;n?r&&a&&s(a.replace(r,n)):s("/")},[]);return(0,A.jsx)(s.A,{sx:{width:"100%",ml:{xs:0,md:1}},children:m&&(0,A.jsx)(wi.A,{sx:{width:{xs:"100%",md:224}},children:(0,A.jsx)(zi.A,{disablePortal:!0,openOnFocus:!0,disableClearable:!0,options:t,onChange:h,defaultValue:d,filterOptions:ki,renderOption:(e,i)=>{var t;return(0,n.createElement)("li",(0,u.A)((0,u.A)({},e),{},{key:i._id,style:{display:"flex",justifyContent:"space-between"}}),(0,A.jsx)(C.A,{children:i.organizationName||"(".concat(i._id,")")}),(0,A.jsxs)(C.A,{sx:{textAlign:"right",color:(null===(t=i.availableCredits)||void 0===t?void 0:t.toFixed(1))<=5?"error.main":"success.main"},children:["$",i.availableCredits?i.availableCredits.toFixed(1):0]}))},getOptionLabel:e=>e.organizationName||"(".concat(e._id,")"),sx:{width:300},renderInput:e=>(0,A.jsx)(Si.A,(0,u.A)({size:"small",startAdornment:(0,A.jsx)(Ci.A,{position:"start",sx:{mr:-.5},children:(0,A.jsx)(Ii.A,{})}),placeholder:"Ctrl + K"},e))})})})},Ei=()=>{const e=(0,o.A)(),[i,t]=(0,n.useState)(!1),r=(0,n.useRef)(null),a=e=>{r.current&&r.current.contains(e.target)||t(!1)},c=(0,n.useRef)(i);return(0,n.useEffect)(()=>{!0===c.current&&!1===i&&r.current.focus(),c.current=i},[i]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(s.A,{sx:{flexShrink:0,ml:.75},children:(0,A.jsx)(be.A,{component:"span",disableRipple:!0,sx:{bgcolor:i?"grey.300":"grey.100"},ref:r,"aria-controls":i?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:()=>{t(e=>!e)},color:"inherit",children:(0,A.jsx)(vi.A,{})})}),(0,A.jsx)(ve.A,{placement:"bottom-end",open:i,anchorEl:r.current,role:void 0,transition:!0,disablePortal:!0,style:{width:"100%"},popperOptions:{modifiers:[{name:"offset",options:{offset:[0,9]}}]},children:t=>{let{TransitionProps:n}=t;return(0,A.jsx)(De,(0,u.A)((0,u.A)({type:"fade",in:i},n),{},{children:(0,A.jsx)(we.A,{sx:{boxShadow:e.customShadows.z1},children:(0,A.jsx)(ze.x,{onClickAway:a,children:(0,A.jsx)(je.A,{color:"inherit",children:(0,A.jsxs)(l.A,{children:[(0,A.jsx)(Pi,{}),(0,A.jsx)(si,{})]})})})})}))}})]})},Di=()=>{const e=(0,a.A)(e=>e.breakpoints.down("md"));return(0,A.jsxs)(A.Fragment,{children:[!e&&(0,A.jsx)(Pi,{}),e&&(0,A.jsx)(s.A,{sx:{width:"100%",ml:1}}),(0,A.jsx)(yi,{}),!e&&(0,A.jsx)(si,{}),e&&(0,A.jsx)(Ei,{})]})};var Fi=t(29205),Wi=t(96185);const Mi=e=>{let{open:i,handleDrawerToggle:t}=e;const n=(0,o.A)(),r=(0,a.A)(n.breakpoints.down("lg")),s=(0,A.jsxs)(l.A,{children:[(0,A.jsx)(be.A,{disableRipple:!0,"aria-label":"open drawer",onClick:t,edge:"start",color:"secondary",sx:{color:"text.primary",bgcolor:i?"grey.200":"grey.100",ml:{xs:0,lg:-2}},children:i?(0,A.jsx)(Wi.A,{}):(0,A.jsx)(Fi.A,{})}),(0,A.jsx)(Di,{})]}),c={position:"fixed",color:"inherit",elevation:0,sx:{borderBottom:"1px solid ".concat(n.palette.divider)}};return(0,A.jsx)(A.Fragment,{children:r?(0,A.jsx)(je.A,(0,u.A)((0,u.A)({},c),{},{children:s})):(0,A.jsx)(fe,(0,u.A)((0,u.A)({open:i},c),{},{children:s}))})};var Bi=t(52432);const Oi=["navigation","title"],Ti=e=>{let{navigation:i,title:t}=e,o=(0,re.A)(e,Oi);const a=(0,r.zy)(),[s,l]=(0,n.useState)(),[c,d]=(0,n.useState)(),m=e=>{e.children&&e.children.filter(i=>(i.type&&"collapse"===i.type?m(i):i.type&&"item"===i.type&&a.pathname===i.url&&(l(e),d(i)),!1))};let h,p;(0,n.useEffect)(()=>{var e;null===i||void 0===i||null===(e=i.items)||void 0===e||e.map(e=>(e.type&&"group"===e.type&&m(e),!1))}),"/breadcrumbs"===a.pathname&&(a.pathname="/dashboard/analytics");let x=(0,A.jsx)(j.A,{}),g="";return s&&"collapse"===s.type&&(h=(0,A.jsx)(j.A,{component:v.N_,to:document.location.pathname,variant:"h6",sx:{textDecoration:"none"},color:"textSecondary",children:s.title})),c&&"item"===c.type&&(g=c.title,p=(0,A.jsx)(j.A,{variant:"subtitle1",color:"textPrimary",children:g}),!1!==c.breadcrumbs&&(x=(0,A.jsx)(Ie.A,(0,u.A)((0,u.A)({border:!1,sx:{mb:3,bgcolor:"transparent"}},o),{},{content:!1,children:(0,A.jsxs)(G.Ay,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",spacing:1,children:[(0,A.jsx)(G.Ay,{item:!0,children:(0,A.jsxs)(Bi.A,{"aria-label":"breadcrumb",children:[(0,A.jsx)(j.A,{component:v.N_,to:"/",color:"textSecondary",variant:"h6",sx:{textDecoration:"none"},children:"Home"}),h,p]})}),t&&(0,A.jsx)(G.Ay,{item:!0,sx:{mt:2},children:(0,A.jsx)(j.A,{variant:"h5",children:c.title})})]})})))),x};var Li=t(28689),Ui=t(11003);const _i={id:"organizationsList",title:"Organizations List",type:"group",children:[{id:"view-all-organizations",title:"All Organizations",type:"item",url:"/organizations-list",icon:Li.A,breadcrumbs:!1},{id:"view-organizations-invoice",title:"Organizations Invoice",type:"item",url:"/organizations-invoice",icon:Ui.A,breadcrumbs:!1}]},Ri=()=>{const[e,i]=(0,n.useState)(!1),{organizationId:t,botId:c}=(0,r.g)(),d=(0,o.A)(),u=(0,a.A)(d.breakpoints.down("lg")),m=(0,y.nc)(e=>e.isSuperUser);(0,n.useEffect)(()=>{const e=ie.items.some(e=>e===_i);m?e||ie.items.unshift(_i):e&&(ie.items=ie.items.filter(e=>e!==_i))},[m]),(0,n.useEffect)(()=>{(0,J.YS)(t,c).then(i)},[t]);const h=(0,y.C$)(e=>e.drawerOpen),[p,x]=(0,n.useState)(h),g=()=>{x(!p),(0,P.sd)(!p)};return(0,n.useEffect)(()=>{x(!u),(0,P.sd)(!u)},[u]),(0,n.useEffect)(()=>{p!==h&&x(h)},[h]),e?(0,A.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,A.jsx)(Mi,{open:p,handleDrawerToggle:g}),(0,A.jsx)(Ae,{open:p,handleDrawerToggle:g}),(0,A.jsxs)(s.A,{component:"main",sx:{width:"calc(100% - 270px)",flexGrow:1,p:{xs:2,sm:3}},children:[(0,A.jsx)(l.A,{}),(0,A.jsx)(Ti,{navigation:ie,title:!0}),(0,A.jsx)(Ti,{navigation:ie,title:!0}),(0,A.jsx)(r.sv,{},c)]})]}):null}},17530(e,i,t){t.r(i),t.d(i,{default:()=>g});var n=t(9950),r=t(60899),o=t(81616),a=t(82053),s=t(3788),l=t(2660),c=t(24516),d=t(8478),u=t(21537),m=t(32829),h=t(93383),p=t(33340),x=t(44414);const g=function(e){let{isDialog:i}=e;const t=(0,p.nc)(e=>e.organizationId),[g,A]=n.useState(20),[b]=n.useState(!1),j=(0,x.jsxs)(r.Ay,{container:!0,spacing:3,children:[!i&&(0,x.jsx)(r.Ay,{item:!0,xs:12,children:(0,x.jsx)(o.A,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:(0,x.jsx)(a.A,{variant:"h3",children:"Add credits"})})}),(0,x.jsxs)(r.Ay,{item:!0,xs:12,children:[(0,x.jsx)(r.Ay,{container:!0,spacing:3,children:(0,x.jsx)(r.Ay,{item:!0,xs:12,children:(0,x.jsxs)(o.A,{spacing:1,children:[(0,x.jsx)(s.A,{htmlFor:"email-login",children:"Amount in USD"}),(0,x.jsx)(l.A,{id:"amount",type:"amount",value:g,name:"amount",onChange:e=>{const i=e.target.value.replace(/[^0-9.]/g,"");i.split(".").length>2||A(i)},placeholder:"Enter email address",maxLength:7,fullWidth:!0}),!g&&(0,x.jsx)(c.A,{error:!0,id:"standard-weight-helper-text-email-login",children:"Provide the amount to be credited"}),!!g&&g<5&&(0,x.jsx)(c.A,{error:!0,id:"standard-weight-helper-text-email-login",children:"Amount is too low"})]})})}),(0,x.jsx)("br",{}),(0,x.jsx)("br",{}),(0,x.jsx)(r.Ay,{item:!0,xs:12,children:(0,x.jsx)(m.A,{children:(0,x.jsx)(h.A,{disableElevation:!0,isLoading:b,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{await async function(e){let i=document.querySelector('script[id="razorpay-script"]');if(i)return!0;return new Promise(t=>{i=document.createElement("script"),i.id="razorpay-script",i.src=e,i.onload=()=>{t(!0)},i.onerror=()=>{t(!1)},document.body.appendChild(i)})}("https://checkout.razorpay.com/v1/checkout.js");const e=await d.bE("/organization/".concat(t,"/recharge-wallet"),{amount:parseFloat(g)});new window.Razorpay(e).open()},children:"Make Payment"})})})]})]});return i?j:(0,x.jsx)(u.A,{children:j})}},26092(e,i,t){t.d(i,{A:()=>h});t(9950);var n=t(92728),r=t(63464),o=t(40033),a=t(28170),s=t(96319),l=t(14857),c=t(59254),d=t(25333),u=t(44414);const m=(0,c.Ay)(r.A)(e=>{let{theme:i}=e;return{"& .MuiDialogContent-root":{padding:i.spacing(2)},"& .MuiDialogActions-root":{padding:i.spacing(1)},zIndex:11010}});function h(e){const i=(0,l.A)(),{breakpoints:t}=i,{openPopUpDialog:r,setPopUpDialog:c,setFieldsValues:h,onClose:p=()=>(c(!1),null===h||void 0===h?void 0:h({})),title:x,width:g="70%"}=e;return(0,u.jsxs)(m,{TransitionComponent:n.A,"aria-labelledby":"customized-dialog-title",open:r,PaperProps:{sx:{width:{width:g},[t.down("sm")]:{width:"90%"}}},children:[(0,u.jsx)(o.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:x}),(0,u.jsx)(d.A,{"aria-label":"close",onClick:p,sx:{position:"absolute",right:8,top:8},children:(0,u.jsx)(s.A,{})}),(0,u.jsx)(a.A,{dividers:!0,children:e.children})]})}},31462(e,i,t){t.d(i,{DY:()=>a,QF:()=>l,Yf:()=>s,ri:()=>c});var n=t(89379),r=t(8478),o=t(33340);async function a(e){return await r.bE("/organization/register",e,{noAuth:!0})}async function s(e){return await r.bE("/organization/verify-email",e,{noAuth:!0})}async function l(e,i){const t=await r.bE("/organization/login",{userName:e,password:i},{noAuth:!0}),{data:a,organizationList:s,jwt:l}=t;if(!l)throw new Error("Server Error. Unknown response!");sessionStorage.setItem("token",l);const c=(0,o.yV)();if(Array.isArray(s)&&s.length&&!c.organizationId){const e=s[0];c.organization=e,c.organizationId=e._id}return o.nc.setState((0,n.A)({organization:a,organizationList:s},c)),!0}function c(){sessionStorage.clear(),o.nc.setState((0,o.l1)(),!0)}},41507(e,i,t){t.d(i,{Ds:()=>c,L_:()=>s,NC:()=>l,YS:()=>a,cw:()=>u,qb:()=>d});var n=t(89379),r=t(8478),o=t(33340);async function a(e,i){const t=await async function(){const e=o.nc.getState();let{organizationList:i,organizationId:t,organization:n}=e;if(!e.isSuperUser||Array.isArray(i))return;if(i=await r.bE("/organization/list"),i.length)if(t=t||sessionStorage.getItem("orgId"),t){if(!n){var a;n=null===(a=i)||void 0===a?void 0:a.filter(e=>e._id===t)[0]}}else{const e=i[0];t=e._id,n=e}return o.nc.setState({organizationList:i,organizationId:t,organization:n}),!0}(),{organizationId:n}=o.nc.getState();return e?e!==n&&o.nc.setState({organizationId:e}):e=n,!e||(t||await async function(e){const i=await r.bE("/organization/get-organization-by-id",{organizationId:e});o.nc.setState({organization:i})}(e),await c(e,i),!0)}async function s(e,i){i||(i=o.nc.getState().organizationId);const t=await r.yJ("/organization/".concat(i),e);o.nc.setState(e=>{const{organizationList:r,organizationId:o,organization:a}=e,s={};return o===i&&(s.organization=(0,n.A)((0,n.A)({},a),t)),r&&(s.organizationList=r.map(e=>e._id===i?(0,n.A)((0,n.A)({},e),t):e)),s})}function l(e){if(!e||"object"!==typeof e)return;let{organization:i}=o.nc.getState();i&&(i=(0,n.A)((0,n.A)({},i),e),o.nc.setState({organization:i}))}async function c(e,i){var t;const n=await r.Jt("/bot/".concat(e,"/list")),a=i||(null===(t=n[0])||void 0===t?void 0:t._id),s=n.reduce((e,i)=>(e[i._id]=i,e),{});return o.nc.setState({organizationId:e,botsList:n,botsMap:s,selectedBotId:a}),a}function d(e){o.nc.setState({selectedBotId:e})}async function u(){const e=await r.Jt("/organization/invoice/list");o.nc.setState({organizationsInvoiceList:e})}},70855(e,i,t){t.d(i,{G:()=>r});var n=t(33340);function r(e){const i=(0,n.nc)(e=>e.selectedBotId),t=(0,n.nc)(t=>t.botsMap[e||i]);return[e||i,t]}},92728(e,i,t){t.d(i,{A:()=>s});var n=t(89379),r=t(9950),o=t(48205),a=t(44414);const s=r.forwardRef(function(e,i){return(0,a.jsx)(o.A,(0,n.A)({direction:"up",ref:i},e))})}}]);