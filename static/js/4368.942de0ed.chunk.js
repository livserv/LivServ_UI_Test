"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[4368],{8478:(e,n,i)=>{i.d(n,{Jt:()=>a,TF:()=>s,bE:()=>r,yJ:()=>l});var t=i(32026),o=i(44364);async function a(e,n){return d("GET",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function r(e,n){return d("POST",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,n){return d("PUT",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function s(e,n){return d("DELETE",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function d(e,n,i){let{headers:t,noAuth:o,...a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r="POST"===e||"PUT"===e||"DELETE"===e;n=function(e,n){if(!e)return e;const i=n&&Object.keys(n);if(null!==i&&void 0!==i&&i.length){const t=i.reduce((e,i)=>{let t=n[i];return null===t||void 0===t?e:(t=`${i}=${encodeURIComponent(t)}`,e?`${e}&${t}`:t)},"");t&&(e=`${e}${e.includes("?")?"&":"?"}${t}`)}if(e.startsWith("https://"))return e;return`${c}${e}`}(n,r?void 0:i);const l=i instanceof FormData;if(l||(i=i&&"object"===typeof i&&r?JSON.stringify(i):void 0),t||(t={}),l||(t["Content-Type"]="application/json"),t.Accept="application/json",!1!==o){const e=sessionStorage.getItem("token");e&&(t.Authorization=`Bearer ${e}`)}try{const o=await fetch(n,{...a,headers:t,body:i,method:e}),r=await o.json();if(o.ok){const{data:e,...n}=r;return delete n.status,e&&!Object.keys(n).length?e:r}throw r.message?new Error(r.message):r}catch(d){var s;throw console.error("Error calling API: ",d),null!==(s=d.message)&&void 0!==s&&s.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(d.message)}}const c=(0,t.s8)(o.jn,"/")},26092:(e,n,i)=>{i.d(n,{A:()=>p});i(9950);var t=i(92728),o=i(63464),a=i(40033),r=i(28170),l=i(96319),s=i(59254),d=i(14857),c=i(25333),h=i(44414);const u=(0,s.Ay)(o.A)(e=>{let{theme:n}=e;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)},zIndex:11010}});function p(e){const n=(0,d.A)(),{breakpoints:i}=n,{openPopUpDialog:o,setPopUpDialog:s,setFieldsValues:p,onClose:m=()=>(s(!1),null===p||void 0===p?void 0:p({})),title:x,width:g="70%"}=e;return(0,h.jsxs)(u,{TransitionComponent:t.A,"aria-labelledby":"customized-dialog-title",open:o,PaperProps:{sx:{width:{width:g},[i.down("sm")]:{width:"90%"}}},children:[(0,h.jsx)(a.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:x}),(0,h.jsx)(c.A,{"aria-label":"close",onClick:m,sx:{position:"absolute",right:8,top:8},children:(0,h.jsx)(l.A,{})}),(0,h.jsx)(r.A,{dividers:!0,children:e.children})]})}},32026:(e,n,i)=>{i.d(n,{G6:()=>l,Ke:()=>u,OX:()=>d,PE:()=>h,TZ:()=>p,Yq:()=>r,do:()=>c,qW:()=>s,s8:()=>o,wE:()=>m});var t=i(44364);function o(e,n){return e.replace(new RegExp(`${a(n)}+$`),"")}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){const n=new Date(e),i=n.getDate();return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]} ${i}, ${n.getFullYear()}`}function l(e,n,i){if(!n&&!e)return i;e=e||{};const t=Array.isArray(e)?[...e]:{...e};if(n.includes(".")){const o=n.indexOf("."),a=n.substring(0,o),r=n.substring(o+1);t[a]=l(e[a],r,i)}else t[n]=i;return t}function s(e,n){return btoa(`${e}_${n}_whatsapp_int`)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const n="abcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let t=0;t<e;t++)i+=n.charAt(Math.floor(36*Math.random()));return i}function c(e,n,i){if(!n&&!e)return i;e=e||{};const t=Array.isArray(e)?[...e]:{...e};if(n.includes(".")){const o=n.indexOf("."),a=n.substring(0,o),r=n.substring(o+1);t[a]=c(e[a],r,i)}else t[n]=i;return t}function h(e,n){const i=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),t=document.createElement("a");t.href=URL.createObjectURL(i),t.download=n,document.body.appendChild(t),t.click(),document.body.removeChild(t)}function u(e,n){return!n||n.startsWith("http")?n:(n.startsWith("/")&&(n=n.substring(1)),`${t.J}/${e}/${n}`)}function p(e){let n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.getElementsByTagName("head")[0].appendChild(n)),null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.favicon&&(n.href=u(null===e||void 0===e?void 0:e.domain,null===e||void 0===e?void 0:e.favicon)):n.href="/favicon.png"}function m(e){null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.displayName&&(document.title=null===e||void 0===e?void 0:e.displayName):document.title="LivServ"}},32829:(e,n,i)=>{i.d(n,{A:()=>a});var t=i(25371),o=i(44414);function a(e){let{children:n,type:i}=e;return(0,o.jsx)(t.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}a.defaultProps={type:"scale"}},41507:(e,n,i)=>{i.d(n,{Ds:()=>s,L_:()=>r,NC:()=>l,YS:()=>a,cw:()=>c,qb:()=>d});var t=i(8478),o=i(33340);async function a(e,n){const i=await async function(){const e=o.nc.getState();let{organizationList:n,organizationId:i,organization:a}=e;if(!e.isSuperUser||Array.isArray(n))return;if(n=await t.bE("/organization/list"),n.length)if(i=i||sessionStorage.getItem("orgId"),i){if(!a){var r;a=null===(r=n)||void 0===r?void 0:r.filter(e=>e._id===i)[0]}}else{const e=n[0];i=e._id,a=e}return o.nc.setState({organizationList:n,organizationId:i,organization:a}),!0}(),{organizationId:a}=o.nc.getState();return e?e!==a&&o.nc.setState({organizationId:e}):e=a,!e||(i||await async function(e){const n=await t.bE("/organization/get-organization-by-id",{organizationId:e});o.nc.setState({organization:n})}(e),await s(e,n),!0)}async function r(e,n){n||(n=o.nc.getState().organizationId);const i=await t.yJ(`/organization/${n}`,e);o.nc.setState(e=>{const{organizationList:t,organizationId:o,organization:a}=e,r={};return o===n&&(r.organization={...a,...i}),t&&(r.organizationList=t.map(e=>e._id===n?{...e,...i}:e)),r})}function l(e){if(!e||"object"!==typeof e)return;let{organization:n}=o.nc.getState();n&&(n={...n,...e},o.nc.setState({organization:n}))}async function s(e,n){var i;const a=await t.Jt(`/bot/${e}/list`),r=n||(null===(i=a[0])||void 0===i?void 0:i._id),l=a.reduce((e,n)=>(e[n._id]=n,e),{});return o.nc.setState({organizationId:e,botsList:a,botsMap:l,selectedBotId:r}),r}function d(e){o.nc.setState({selectedBotId:e})}async function c(){const e=await t.Jt("/organization/invoice/list");o.nc.setState({organizationsInvoiceList:e})}},43983:(e,n,i)=>{i.d(n,{Ay:()=>s,Yl:()=>r,qo:()=>l,u4:()=>c,uV:()=>d});var t=i(8478),o=i(33340),a=i(21788);async function r(e){const n=await t.Jt(`/integrations/${e.organizationId}/${e.botId}/list`),{botId:i}=e;((e,n)=>{o.nc.setState(i=>{const t=i.botsList.map(i=>i._id===e?{...i,integrations:n}:i);return{...i,botsList:t}})})(i,n)}async function l(e){await t.TF(`/integrations/${e.organizationId}/${e.botId}/${e._id}`,e);try{await r(e)}catch(n){(0,a.i)(!0,"Not able to fetch all integrations. Try after sometime!","error")}}async function s(e){const n=await t.bE(`/integrations/${e.organizationId}/${e.botId}/crm-callback-integration`,e),i={organizationId:n.organizationId,botId:n.botId};try{await r(i)}catch(o){(0,a.i)(!0,"Not able to fetch all integrations. Try after sometime!","error")}}async function d(e){const n=await t.bE(`/integrations/${e.organizationId}/${e.botId}`,e),i={organizationId:n.organizationId,botId:n.botId};try{await r(i)}catch(o){(0,a.i)(!0,"Not able to fetch all integrations. Try after sometime!","error")}}async function c(e){const{organizationId:n,selectedBotId:i}=o.nc.getState();await t.bE(`/integrations/${n}/${i}/whatsapp`,e);try{await r({organizationId:n,botId:i})}catch(l){(0,a.i)(!0,"Not able to fetch all integrations. Try after sometime!","error")}}},44364:(e,n,i)=>{i.d(n,{DX:()=>d,E1:()=>h,J:()=>s,Og:()=>a,Rc:()=>c,jn:()=>t,mB:()=>l,pA:()=>r,pR:()=>o});const t="https://devbackend.livhousing.com:444",o="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.TRAINING_MEDIA_MAXSIZE,r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.CONVERSATION_MEDIA_MAXSIZE,l="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s="https://livserv-organizations.s3.ap-south-1.amazonaws.com",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/voice/ws"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444",c="https://devbackend.livhousing.com:444/",h="wss://devbackend.livhousing.com:444/voice/ws"},46278:(e,n,i)=>{i.d(n,{A:()=>d});i(9950);var t=i(63464),o=i(40033),a=i(28170),r=i(79739),l=i(10226),s=i(44414);const d=e=>{const{title:n,children:i,open:d,setOpen:c,onConfirm:h}=e;return(0,s.jsxs)(t.A,{open:d,onClose:()=>c(!1),style:{zIndex:1e4},children:[(0,s.jsx)(o.A,{sx:{m:0,p:2},id:"confirm-dialog",children:n}),(0,s.jsx)(a.A,{dividers:!0,children:i}),(0,s.jsxs)(r.A,{children:[(0,s.jsx)(l.A,{size:"large",type:"submit",variant:"contained",color:"secondary",onClick:()=>c(!1),children:"No"}),(0,s.jsx)(l.A,{size:"large",type:"submit",variant:"contained",color:"success",onClick:()=>{c(!1),h()},children:"Yes"})]})]})}},51637:(e,n,i)=>{i.d(n,{A:()=>h});var t=i(9950),o=i(14857),a=i(48089),r=i(45180),l=i(82053),s=i(50704),d=i(44414);const c={p:2.5,"& .MuiCardHeader-action":{m:"0px auto",alignSelf:"center"}},h=(0,t.forwardRef)((e,n)=>{let{border:i=!0,boxShadow:t,children:h,content:u=!0,contentSX:p={},darkTitle:m,elevation:x,secondary:g,shadow:A,sx:j={},title:b,...f}=e;const y=(0,o.A)();return t="dark"===y.palette.mode?t||!0:t,(0,d.jsxs)(a.A,{elevation:x||0,ref:n,...f,sx:{border:i?"1px solid":"none",borderRadius:2,borderColor:"dark"===y.palette.mode?y.palette.divider:y.palette.grey.A800,boxShadow:!t||i&&"dark"!==y.palette.mode?"inherit":A||y.customShadows.z1,":hover":{boxShadow:t?A||y.customShadows.z1:"inherit"},"& pre":{m:0,p:"16px !important",fontFamily:y.typography.fontFamily,fontSize:"0.75rem"},...j},children:[!m&&b&&(0,d.jsx)(r.A,{sx:c,titleTypographyProps:{variant:"subtitle1"},title:b,action:g}),m&&b&&(0,d.jsx)(r.A,{sx:c,title:(0,d.jsx)(l.A,{variant:"h3",children:b}),action:g}),u&&(0,d.jsx)(s.A,{sx:p,children:h}),!u&&h]})})},61987:(e,n,i)=>{i.r(n),i.d(n,{default:()=>X});var t=i(9950),o=i(78317),a=i(60899),r=i(82053),l=i(10226),s=i(53065),d=i(2660),c=i(24516),h=i(50704),u=i(59254),p=i(80417),m=i(79046),x=i(33092),g=i(92613),A=i(15942),j=i(7999),b=i(57988),f=i(25333),y=i(69935),v=i(61467),C=i(29714),I=i(33340),S=i(70855),k=i(43983),T=i(95189),_=i.n(T),P=i(26092),w=i(21788),U=i(51637),N=i(46278),E=i(32829),R=i(93383),D=i(81616),z=i(3788),B=i(44414);const L=function(e){let{botId:n,organizationId:i,setPopUpDialog:t}=e;return(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(v.l1,{initialValues:{crmCallBackUrl:""},validationSchema:C.Ik().shape({crmCallBackUrl:C.Yj().url("Enter valid url!").required("CRM Callback URL is required")}),onSubmit:async(e,o)=>{let{setErrors:a,setStatus:r,setSubmitting:l}=o;try{const o={botId:n,organizationId:i,callbackURL:e.crmCallBackUrl,channelId:"CRM_Callback_123",channelName:"CRM_Callback"};await(0,k.Ay)(o),r({success:!0}),l(!0),t(!1),(0,w.i)(!0,"The CRM callback url added successfully!","success")}catch(s){r({success:!1}),a({submit:s.message}),l(!1),(0,w.i)(!0,"Not able to CRM callback url. Try after sometime!","error")}},children:e=>{let{errors:n,handleBlur:i,handleChange:t,handleSubmit:o,isSubmitting:r,touched:l,values:s}=e;return(0,B.jsx)("form",{noValidate:!0,onSubmit:o,children:(0,B.jsxs)(a.Ay,{container:!0,spacing:1,children:[(0,B.jsx)(a.Ay,{item:!0,xs:12,md:12,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"email-login",children:"CRM callback URL"}),(0,B.jsx)(d.A,{id:"crmCallBackUrl",type:"url",defaultValue:s.crmCallBackUrl,name:"crmCallBackUrl",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",error:Boolean(l.crmCallBackUrl&&n.crmCallBackUrl)}),l.crmCallBackUrl&&n.crmCallBackUrl&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-crm-url",children:n.crmCallBackUrl})]})}),n.submit&&(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(c.A,{error:!0,children:n.submit})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,B.jsx)(E.A,{children:(0,B.jsx)(R.A,{isLoading:r,disabled:r,color:"primary",size:"large",type:"submit",variant:"contained",children:"Add"})})})]})})}})})};var $=i(44364),W=i(32026);function F(e){"Enter"===e.key&&e.preventDefault()}const O=function(e){let{botId:n,organizationId:i,setPopUpDialog:t,whatsappIntegrationObj:o,edit:r}=e;return(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(v.l1,{initialValues:{webHookUrl:`${$.DX}/whatsapp/${i}/${n}/entrypoint`,webHookSecret:(0,W.qW)(i,n),appId:(null===o||void 0===o?void 0:o.appId)||"",appName:(null===o||void 0===o?void 0:o.appName)||"",phoneNumberId:(null===o||void 0===o?void 0:o.phoneNumberId)||"",verificationToken:(null===o||void 0===o?void 0:o.verificationToken)||"",channelId:"whatsapp_123",channelName:"whatsapp",leadCategory:(null===o||void 0===o?void 0:o.leadCategory)||"preSale",leadUpgradeToPreSaleCount:(null===o||void 0===o?void 0:o.leadUpgradeToPreSaleCount)||""},validationSchema:C.Ik().shape({appId:C.ai().required("App ID must be a number"),appName:C.Yj().required("App name is required"),phoneNumberId:C.ai().min(10,"Please enter a valid phone number id").required("Phone number is required"),verificationToken:C.Yj().required("Access Token  is required"),leadUpgradeToPreSaleCount:C.gl().test("is-null-or-positive","Categorize to Presale after no of conversations must be greater than 0",e=>void 0===e||null===e||e>0)}),onSubmit:async(e,n)=>{let{setErrors:i,setStatus:a,setSubmitting:r}=n;try{let n=e;const i=null===o||void 0===o?void 0:o._id;i&&(n={...e,objId:i}),await(0,k.u4)(n),a({success:!0}),r(!0),t(!1),(0,w.i)(!0,"The WhatsApp integration added successfully!","success")}catch(l){a({success:!1}),i({submit:l.message}),r(!1),(0,w.i)(!0,"Not able to activate WhatsApp integration. Try after sometime!","error")}},children:e=>{let{errors:n,handleBlur:i,handleChange:t,handleSubmit:o,isSubmitting:l,touched:s,values:h}=e;return(0,B.jsx)("form",{noValidate:!0,onSubmit:o,children:(0,B.jsxs)(a.Ay,{container:!0,spacing:1,children:[(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"webhook-url",children:"Webhook Callback URL *"}),(0,B.jsx)(_(),{text:h.webHookUrl,onCopy:()=>(0,w.i)(!0,"Webhook Callback URL copied to clipboard","success"),children:(0,B.jsx)(d.A,{id:"webHookUrl",type:"url",defaultValue:h.webHookUrl,name:"webHookUrl",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:F,disabled:!0,error:Boolean(s.webHookUrl&&n.webHookUrl)})}),s.webHookUrl&&n.webHookUrl&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-webHookUrl",children:n.webHookUrl})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"webHookSecret",children:"Webhook Verify token *"}),(0,B.jsx)(_(),{text:h.webHookSecret,onCopy:()=>(0,w.i)(!0,"Webhook Verify Token copied to clipboard","success"),children:(0,B.jsx)(d.A,{id:"webHookSecret",type:"url",defaultValue:h.webHookSecret,name:"webHookSecret",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:F,error:Boolean(s.webHookSecret&&n.webHookSecret)})}),s.webHookSecret&&n.webHookSecret&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-webHookSecret",children:n.webHookSecret})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"app-id",children:"App ID *"}),(0,B.jsx)(d.A,{id:"appId",type:"text",defaultValue:h.appId,name:"appId",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:F,error:Boolean(s.appId&&n.appId)}),s.appId&&n.appId&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-appId",children:n.appId})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"app-name",children:"App Name *"}),(0,B.jsx)(d.A,{id:"appName",type:"text",defaultValue:h.appName,name:"appName",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:F,error:Boolean(s.appName&&n.appName)}),s.appName&&n.appName&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-appName",children:n.appName})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"phone-number",children:"Phone Number ID*"}),(0,B.jsx)(d.A,{id:"phoneNumberId",type:"text",defaultValue:h.phoneNumberId,name:"phoneNumberId",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:F,error:Boolean(s.phoneNumberId&&n.phoneNumberId)}),s.phoneNumberId&&n.phoneNumberId&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-phoneNumberId",children:n.phoneNumberId})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"verification-token",children:"Access Token *"}),(0,B.jsx)(d.A,{id:"verificationToken",type:"phone",defaultValue:h.verificationToken,name:"verificationToken",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:F,error:Boolean(s.verificationToken&&n.verificationToken)}),s.verificationToken&&n.verificationToken&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-verificationToken",children:n.verificationToken})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"lead-category",children:"Initial Lead Category"}),(0,B.jsxs)("select",{id:"leadCategory",title:"Select Category",style:{height:"45px",border:"1px solid #d9d9d9",borderRadius:"5px"},value:h.leadCategory||"preSale",onBlur:i,onChange:t,children:[(0,B.jsx)("option",{value:"preSale",children:"Presale"}),(0,B.jsx)("option",{value:"general",children:"General"}),(0,B.jsx)("option",{value:"others",children:"Others"})]}),s.leadCategory&&n.leadCategory&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-leadCategory",children:n.leadCategory})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"categorize-ToPresale-After",children:"Categorize to Presale after conversations"}),(0,B.jsx)(d.A,{id:"leadUpgradeToPreSaleCount",type:"text",defaultValue:h.leadUpgradeToPreSaleCount,name:"leadUpgradeToPreSaleCount",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:F,error:Boolean(s.leadUpgradeToPreSaleCount&&n.leadUpgradeToPreSaleCount)}),s.leadUpgradeToPreSaleCount&&n.leadUpgradeToPreSaleCount&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-leadUpgradeToPreSaleCount",children:n.leadUpgradeToPreSaleCount})]})}),n.submit&&(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(c.A,{error:!0,children:n.submit})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,B.jsx)(E.A,{children:(0,B.jsx)(R.A,{isLoading:l,disabled:l,color:"primary",size:"large",type:"submit",variant:"contained",children:r?"Edit":"Add"})})})]})})}})})};var M=i(74745),H=i(47813);const K=function(e){var n,i,t,o,r,l,s,h,u,p,m,x,g,A,j,b,f,y,v,C,I,S,k,T;let{admins:_,index:P,handleBlur:w,handleChange:U,errors:N,touched:E,remove:R}=e;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(a.Ay,{container:!0,spacing:1,children:[(0,B.jsx)(a.Ay,{item:!0,xs:12,sm:12,md:3,lg:3,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:`admins.${P}.adminName`,children:"Admin Name"}),(0,B.jsx)(d.A,{id:`admins.${P}.adminName`,type:"text",value:_.adminName,name:`admins.${P}.adminName`,autoComplete:"off",onBlur:w,onChange:U,fullWidth:!0,disabled:0===P,error:Boolean((null===(n=E.admins)||void 0===n||null===(i=n[P])||void 0===i?void 0:i.adminName)&&(null===(t=N.adminss)||void 0===t||null===(o=t[P])||void 0===o?void 0:o.adminName))}),(null===(r=E.admins)||void 0===r||null===(l=r[P])||void 0===l?void 0:l.adminName)&&(null===(s=N.admins)||void 0===s||null===(h=s[P])||void 0===h?void 0:h.adminName)&&(0,B.jsx)(c.A,{error:!0,id:`helper-text-admins.${P}.adminName`,children:N.admins[P].adminName})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,sm:12,md:3,lg:3,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:`admins.${P}.role`,children:"Role"}),(0,B.jsx)(d.A,{id:`admins.${P}.role`,type:"text",value:_.role,name:`admins.${P}.role`,autoComplete:"off",onBlur:w,onChange:U,fullWidth:!0,disabled:0===P,error:Boolean((null===(u=E.admins)||void 0===u||null===(p=u[P])||void 0===p?void 0:p.role)&&(null===(m=N.admins)||void 0===m||null===(x=m[P])||void 0===x?void 0:x.role))}),(null===(g=E.admins)||void 0===g||null===(A=g[P])||void 0===A?void 0:A.role)&&(null===(j=N.admins)||void 0===j||null===(b=j[P])||void 0===b?void 0:b.role)&&(0,B.jsx)(c.A,{error:!0,id:`helper-text-role.${P}.role`,children:N.admins[P].role})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,sm:12,md:5,lg:5,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:`admins.${P}.email`,children:"Email"}),(0,B.jsx)(d.A,{id:`admins.${P}.email`,type:"text",value:_.email,name:`admins.${P}.email`,autoComplete:"off",onBlur:w,onChange:U,fullWidth:!0,disabled:0===P,error:Boolean((null===(f=E.admins)||void 0===f||null===(y=f[P])||void 0===y?void 0:y.email)&&(null===(v=N.admins)||void 0===v||null===(C=v[P])||void 0===C?void 0:C.email))}),(null===(I=E.admins)||void 0===I||null===(S=I[P])||void 0===S?void 0:S.email)&&(null===(k=N.admins)||void 0===k||null===(T=k[P])||void 0===T?void 0:T.email)&&(0,B.jsx)(c.A,{error:!0,id:`helper-text-email.${P}.email`,children:N.admins[P].email})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,sm:12,md:1,lg:1,children:0!=P&&(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:`admins.${P}.delete`,children:"Delete"}),(0,B.jsx)(H.A,{sx:{cursor:"pointer",color:"#ee2a2a"},onClick:()=>R(P)})]})})]}),(0,B.jsx)(M.A,{sx:{mt:2,mb:2}})]})};var V=i(41507);const G=function(e){let{organizationId:n}=e;const i={admins:(0,I.nc)(e=>{var n;return null===(n=e.organization)||void 0===n?void 0:n.admins})||[]},t=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),o=C.Ik().shape({admins:C.YO().of(C.Ik().shape({adminName:C.Yj().required("Admin Name is required"),role:C.Yj().required("Role is required"),email:C.Yj().trim().required("Email is required").email("Invalid email id").matches(t,"Invalid email id")}))});return(0,B.jsx)(U.A,{contentSX:{p:2.25},children:(0,B.jsxs)(h.A,{style:{padding:0},children:[(0,B.jsxs)(r.A,{variant:"h6",children:[(0,B.jsx)("strong",{children:"Lead emails are sending to below given email ids"}),(0,B.jsx)("br",{}),(0,B.jsx)("br",{})]}),(0,B.jsx)(v.l1,{initialValues:i,onSubmit:async(e,i)=>{let{setErrors:t,setStatus:o,setSubmitting:a}=i;try{a(!0),await(0,V.L_)(e,n),o({success:!0})}catch(r){o({success:!1}),t({submit:r.message}),a(!1),alertSnackbar(!0,r.message,"error")}},validationSchema:o,children:e=>{let{errors:n,handleBlur:i,handleChange:t,handleSubmit:o,touched:r,values:s,setFieldValue:d,isSubmitting:c}=e;return(0,B.jsx)("form",{onSubmit:e=>{o(e)},children:(0,B.jsx)(v.ED,{name:"admins",children:e=>{let{push:o,remove:h}=e;return(0,B.jsxs)(B.Fragment,{children:[s.admins.map((e,o)=>(0,B.jsx)(K,{admins:e,index:o,handleBlur:i,handleChange:t,errors:n,touched:r,remove:e=>{h(e);const n=s.admins.filter((n,i)=>i!==e).map((e,n)=>({...e,itemNo:n+1}));d("admins",n)}},o)),(0,B.jsxs)(a.Ay,{container:!0,justifyContent:"flex-end",children:[(0,B.jsx)(a.Ay,{item:!0,children:(0,B.jsx)(l.A,{sx:{marginLeft:2},variant:"contained",size:"large",onClick:()=>{o({adminName:"",role:"",email:""})},children:"Add Email"})}),(0,B.jsx)(a.Ay,{item:!0,sx:{marginLeft:2},children:(0,B.jsx)(E.A,{children:(0,B.jsx)(R.A,{isLoading:c,disabled:c,color:"primary",size:"large",type:"submit",variant:"contained",id:"updateEmailsBtn",children:"Save Changes"})})})]})]})}})})}})]})})};function q(e){"Enter"===e.key&&e.preventDefault()}const Y=function(e){let{botId:n,organizationId:i,setPopUpDialog:t,gupshupIntegrationObj:o,edit:r}=e;return(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(v.l1,{initialValues:{webHookUrl:`${$.DX}/gupshup/${i}/${n}/entrypoint`,appId:(null===o||void 0===o?void 0:o.appId)||"",appName:(null===o||void 0===o?void 0:o.appName)||"",phoneNumberId:(null===o||void 0===o?void 0:o.phoneNumberId)||"",channelId:"gupshup_123",channelName:"gupshup",leadCategory:(null===o||void 0===o?void 0:o.leadCategory)||"preSale",leadUpgradeToPreSaleCount:(null===o||void 0===o?void 0:o.leadUpgradeToPreSaleCount)||""},validationSchema:C.Ik().shape({appId:C.Yj().required("App ID must is required"),appName:C.Yj().required("App name is required"),phoneNumberId:C.ai().min(10,"Please enter a valid phone number id").required("Phone number is required"),leadUpgradeToPreSaleCount:C.gl().test("is-null-or-positive","Categorize to Presale after no of conversations must be greater than 0",e=>void 0===e||null===e||e>0)}),onSubmit:async(e,n)=>{let{setErrors:i,setStatus:a,setSubmitting:r}=n;try{let n=e;const i=null===o||void 0===o?void 0:o._id;o&&(n={...e,objId:i}),await(0,k.u4)(n),a({success:!0}),r(!0),t(!1),(0,w.i)(!0,"The Gupshup integration added successfully!","success")}catch(l){a({success:!1}),i({submit:l.message}),r(!1),(0,w.i)(!0,"Not able to activate Gupshup integration. Try after sometime!","error")}},children:e=>{let{errors:n,handleBlur:i,handleChange:t,handleSubmit:o,isSubmitting:l,touched:s,values:h}=e;return(0,B.jsx)("form",{noValidate:!0,onSubmit:o,children:(0,B.jsxs)(a.Ay,{container:!0,spacing:1,children:[(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"webhook-url",children:"Gupshup Callback URL *"}),(0,B.jsx)(_(),{text:h.webHookUrl,onCopy:()=>(0,w.i)(!0,"Webhook Callback URL copied to clipboard","success"),children:(0,B.jsx)(d.A,{id:"webHookUrl",type:"url",defaultValue:h.webHookUrl,name:"webHookUrl",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",disabled:!0,onKeyDown:q,error:Boolean(s.webHookUrl&&n.webHookUrl)})}),s.webHookUrl&&n.webHookUrl&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-webHookUrl",children:n.webHookUrl})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"app-id",children:"Gupshup App ID *"}),(0,B.jsx)(d.A,{id:"appId",type:"appId",defaultValue:h.appId,name:"appId",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:q,error:Boolean(s.appId&&n.appId)}),s.appId&&n.appId&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-appId",children:n.appId})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"app-name",children:"Gupshup App Name *"}),(0,B.jsx)(d.A,{id:"appName",type:"url",defaultValue:h.appName,name:"appName",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:q,error:Boolean(s.appName&&n.appName)}),s.appName&&n.appName&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-appName",children:n.appName})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"phone-number",children:"Phone Number *"}),(0,B.jsx)(d.A,{id:"phoneNumberId",type:"number",defaultValue:h.phoneNumberId,name:"phoneNumberId",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:q,error:Boolean(s.phoneNumberId&&n.phoneNumberId)}),s.phoneNumberId&&n.phoneNumberId&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-phoneNumberId",children:n.phoneNumberId})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"lead-category",children:"Initial Lead Category"}),(0,B.jsxs)("select",{id:"leadCategory",title:"Select Category",style:{height:"45px",border:"1px solid #d9d9d9",borderRadius:"5px"},value:h.leadCategory||"preSale",onBlur:i,onChange:t,children:[(0,B.jsx)("option",{value:"preSale",children:"Presale"}),(0,B.jsx)("option",{value:"general",children:"General"}),(0,B.jsx)("option",{value:"others",children:"Others"})]}),s.leadCategory&&n.leadCategory&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-leadCategory",children:n.leadCategory})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,md:6,children:(0,B.jsxs)(D.A,{spacing:1,children:[(0,B.jsx)(z.A,{htmlFor:"categorize-ToPresale-After",children:"Categorize to Presale after conversations"}),(0,B.jsx)(d.A,{id:"leadUpgradeToPreSaleCount",type:"text",defaultValue:h.leadUpgradeToPreSaleCount,name:"leadUpgradeToPreSaleCount",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",onKeyDown:q,error:Boolean(s.leadUpgradeToPreSaleCount&&n.leadUpgradeToPreSaleCount)}),s.leadUpgradeToPreSaleCount&&n.leadUpgradeToPreSaleCount&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-leadUpgradeToPreSaleCount",children:n.leadUpgradeToPreSaleCount})]})}),n.submit&&(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(c.A,{error:!0,children:n.submit})}),(0,B.jsx)(a.Ay,{item:!0,xs:12,container:!0,justifyContent:"flex-end",children:(0,B.jsx)(E.A,{children:(0,B.jsx)(R.A,{isLoading:l,disabled:l,color:"primary",size:"large",type:"submit",variant:"contained",children:r?"Edit":"Add"})})})]})})}})})},J=(0,u.Ay)(p.A)(e=>{let{theme:n}=e;return{position:"fixed","#trainingDocumentsSpeedDial &":{"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{left:"auto",right:n.spacing(2)},"&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{right:"auto",left:n.spacing(2)}}}});const X=function(){var e;const[n]=(0,S.G)(),i=(0,I.nc)(e=>e.botsList),l=(0,I.nc)(e=>e.organizationId),s=(0,I.nc)(e=>e.isSuperUser);t.useEffect(()=>{(async()=>{const e={organizationId:l,botId:n};try{await(0,k.Yl)(e)}catch(i){(0,w.i)(!0,"Not able to fetch integrations details. Try after sometime!","error")}})()},[n,l]);const d=null===(e=i.find(e=>e._id===n))||void 0===e?void 0:e.integrations;return(0,B.jsxs)(o.A,{children:[(0,B.jsxs)(a.Ay,{container:!0,spacing:3,children:[(0,B.jsxs)(a.Ay,{item:!0,xs:11,children:[(0,B.jsx)(r.A,{variant:"h5",children:"Integrations"}),(0,B.jsx)("br",{})]}),(0,B.jsx)(a.Ay,{item:!0,xs:1,sx:{position:"relative"},id:"trainingDocumentsSpeedDial",children:(0,B.jsx)(Q,{botId:n,organizationId:l,integrations:d})})]}),(0,B.jsxs)(a.Ay,{container:!0,spacing:3,children:[d&&d.map((e,n)=>"callConnect_123"!==e.channelId&&(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(Z,{integrationObj:e})},n)),s&&(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(G,{organizationId:l})})]})]})};function Q(e){let{botId:n,organizationId:i,integrations:o}=e;const a=(0,I.nc)(e=>e.isSuperUser);let r=null,l=null,s=null;void 0!==o&&(r=o.find(e=>"CRM_Callback"===e.channelName),l=o.find(e=>"whatsapp"===e.channelName),s=o.find(e=>"gupshup"===e.channelName));const[d,c]=t.useState(!1),[h,u]=t.useState(!1),[p,j]=t.useState(!1),b=[{icon:(0,B.jsx)(g.A,{style:{fill:"#45B735"}}),name:"WhatsApp integration",method:()=>{c(!0)}},{icon:(0,B.jsx)(A.A,{style:{fill:"#7476EF"}}),name:"Add crm callback url",method:()=>{u(!0)}},{icon:(0,B.jsx)(g.A,{style:{fill:"#7476EF"}}),name:"Gupshup Integration",method:()=>{j(!0)}}],f=a?b:b.filter(e=>"Gupshup Integration"!==e.name);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(J,{ariaLabel:"Integration Url",hidden:!1,icon:(0,B.jsx)(m.A,{}),direction:"down",sx:{"& .MuiFab-primary":{width:40,height:40}},children:f.map(e=>(0,B.jsx)(x.A,{icon:e.icon,tooltipTitle:e.name,onClick:e.method},e.name))}),(0,B.jsx)(P.A,{openPopUpDialog:d,setPopUpDialog:c,title:"WhatsApp integration",children:l?"The Whatsapp integration already configured.":(0,B.jsx)(O,{botId:n,organizationId:i,setPopUpDialog:c})}),(0,B.jsx)(P.A,{openPopUpDialog:h,setPopUpDialog:u,title:"Add CRM callback URL",children:r?"The CRM Callback URL has been successfully configured.":(0,B.jsx)(L,{botId:n,organizationId:i,setPopUpDialog:u})}),(0,B.jsx)(P.A,{openPopUpDialog:p,setPopUpDialog:j,title:"Gupshup integration",children:s?"The Gupshup integration already configured.":(0,B.jsx)(Y,{botId:n,organizationId:i,setPopUpDialog:c})})]})}function Z(e){let{integrationObj:n}=e;const[i,o]=(0,t.useState)(!1),[u,p]=(0,t.useState)(!1),[m,x]=(0,t.useState)(!1),[g,A]=(0,t.useState)(!1),I=async(e,n)=>{try{await(0,k.qo)(e),(0,w.i)(!0,`The  ${n} deleted successfully!`,"success")}catch(i){(0,w.i)(!0,`Not able to delete the ${n}. Try after sometime!`,"error")}},S=async(e,n)=>{let{setErrors:i,setStatus:t,setSubmitting:a}=n;try{await(0,k.Ay)(e),t({success:!0}),a(!0),(0,w.i)(!0,"The CRM callback url updated successfully!","success"),o(!1)}catch(r){t({success:!1}),i({submit:r.message}),a(!1),(0,w.i)(!0,"Not able to update CRM callback url. Try after sometime!","error")}},_=e=>{const n=new Date(e);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).format(n)};let D=null;"Webchat"===n.channelName&&(D=(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(r.A,{variant:"h5",children:(0,B.jsx)("strong",{children:"Chat window Script Tag"})}),(0,B.jsxs)(a.Ay,{container:!0,children:[(0,B.jsx)(a.Ay,{item:!0,xs:10,md:10,children:(0,B.jsx)(r.A,{variant:"h6",children:n.scriptTag})}),(0,B.jsx)(a.Ay,{children:(0,B.jsx)(E.A,{children:(0,B.jsx)(l.A,{startIcon:(0,B.jsx)(y.A,{}),variant:"outlined",size:"medium",children:(0,B.jsx)(T.CopyToClipboard,{text:n.scriptTag,onCopy:()=>(0,w.i)(!0,"chat script copied to clipboard","success"),children:(0,B.jsx)("span",{children:"Copy"})})})})})]}),(0,B.jsxs)(r.A,{variant:"h6",children:[(0,B.jsx)("strong",{children:"Integrated At : "}),_(n.integratedAt)]})]}));const z={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"500px",display:"inline-block",verticalAlign:"bottom"};if("whatsapp"===n.channelName){const e=`${$.DX}/whatsapp/${n.organizationId}/${n.botId}/${n._id}/entrypoint`,i=(0,W.qW)(n.organizationId,n.botId);D=(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(a.Ay,{container:!0,children:[(0,B.jsx)(a.Ay,{item:!0,children:(0,B.jsx)(r.A,{variant:"h5",children:(0,B.jsx)("strong",{children:"WhatsApp Integration"})})}),(0,B.jsxs)(a.Ay,{item:!0,children:[(0,B.jsx)(s.A,{title:"Edit",children:(0,B.jsx)(f.A,{sx:{color:"#3386FF"},size:"small",onClick:()=>p(!0),children:(0,B.jsx)(j.A,{})})}),(0,B.jsx)(s.A,{title:"Delete",children:(0,B.jsx)(f.A,{sx:{color:"#FF5733"},size:"small",onClick:()=>A(!0),children:(0,B.jsx)(b.A,{})})}),(0,B.jsx)(N.A,{title:"Delete Whatsapp integration?",open:g,setOpen:A,onConfirm:()=>I(n,"Whatsapp integration"),children:"Confirm the deletion of Whatsapp integration."})]})]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"App Name :"})," ",n.appName]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"App Id :"})," ",n.appId]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"Phone Number ID :"})," ",n.phoneNumberId]}),(0,B.jsx)("div",{children:(0,B.jsx)(T.CopyToClipboard,{text:e,onCopy:()=>(0,w.i)(!0,"Web hook callback url copied to clipboard","success"),children:(0,B.jsxs)("span",{children:[(0,B.jsx)("strong",{children:"Webhook Callback Url : "})," ",(0,B.jsx)("div",{style:z,children:e})," ",(0,B.jsx)(s.A,{title:"Copy",children:(0,B.jsx)(y.A,{style:{cursor:"pointer",fontSize:"14px"}})})]})})}),(0,B.jsx)("div",{children:(0,B.jsx)(T.CopyToClipboard,{text:i,onCopy:()=>(0,w.i)(!0,"Webhook Verification Token copied to clipboard","success"),children:(0,B.jsxs)("span",{children:[(0,B.jsx)("strong",{children:"Webhook Verification Token : "})," ",(0,B.jsx)("div",{style:z,children:i})," ",(0,B.jsx)(s.A,{title:"Copy",children:(0,B.jsx)(y.A,{style:{cursor:"pointer",fontSize:"14px"}})})]})})}),(0,B.jsxs)("div",{children:[(0,B.jsx)("strong",{children:"Access Token : "})," ",(0,B.jsx)("div",{style:z,children:n.verificationToken})," ",(0,B.jsx)(T.CopyToClipboard,{text:n.verificationToken,onCopy:()=>(0,w.i)(!0,"Web hook callback url Access Token copied to clipboard","success"),children:(0,B.jsx)(s.A,{title:"Copy",children:(0,B.jsx)(y.A,{style:{cursor:"pointer",fontSize:"14px"}})})})]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"Initial Lead Category :"})," ",n.leadCategory||"preSales"]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"Categorize to Presale after no of conversations :"})," ",n.leadUpgradeToPreSaleCount||""]}),(0,B.jsxs)(r.A,{variant:"h6",children:[(0,B.jsx)("strong",{children:"Integrated At : "}),_(n.integratedAt)]}),u&&(0,B.jsx)(P.A,{openPopUpDialog:u,setPopUpDialog:p,title:"Update WhatsApp integration",children:(0,B.jsx)(O,{botId:n.botId,organizationId:n.organizationId,setPopUpDialog:p,whatsappIntegrationObj:n,edit:!0})})]})}else if("gupshup"===n.channelName){const e=`${$.DX}/gupshup/${n.organizationId}/${n.botId}/${n._id}/entrypoint`;D=(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(a.Ay,{container:!0,children:[(0,B.jsx)(a.Ay,{item:!0,children:(0,B.jsx)(r.A,{variant:"h5",children:(0,B.jsx)("strong",{children:"Gupshup Integration"})})}),(0,B.jsxs)(a.Ay,{item:!0,children:[(0,B.jsx)(s.A,{title:"Edit",children:(0,B.jsx)(f.A,{sx:{color:"#3386FF"},size:"small",onClick:()=>x(!0),children:(0,B.jsx)(j.A,{})})}),(0,B.jsx)(s.A,{title:"Delete",children:(0,B.jsx)(f.A,{sx:{color:"#FF5733"},size:"small",onClick:()=>A(!0),children:(0,B.jsx)(b.A,{})})}),(0,B.jsx)(N.A,{title:"Delete Gupshup integration?",open:g,setOpen:A,onConfirm:()=>I(n,"Gupshup integration"),children:"Confirm the deletion of Gupshup integration."})]})]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"App Name :"})," ",n.appName]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"App Id :"})," ",n.appId]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"Phone Number :"})," ",n.phoneNumberId]}),(0,B.jsx)("div",{children:(0,B.jsx)(T.CopyToClipboard,{text:e,onCopy:()=>(0,w.i)(!0,"Web hook callback url copied to clipboard","success"),children:(0,B.jsxs)("span",{children:[(0,B.jsx)("strong",{children:"Webhook Callback Url : "})," ",(0,B.jsx)("div",{style:z,children:e})," ",(0,B.jsx)(s.A,{title:"Copy",children:(0,B.jsx)(y.A,{style:{cursor:"pointer",fontSize:"14px"}})})]})})}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"Initial Lead Category :"})," ",n.leadCategory||"preSales"]}),(0,B.jsxs)(r.A,{children:[(0,B.jsx)("strong",{children:"Categorize to Presale after no of conversations :"})," ",n.leadUpgradeToPreSaleCount||""]}),(0,B.jsxs)(r.A,{variant:"h6",children:[(0,B.jsx)("strong",{children:"Integrated At : "}),_(n.integratedAt)]}),m&&(0,B.jsx)(P.A,{openPopUpDialog:m,setPopUpDialog:x,title:"Update Gupshup integration",children:(0,B.jsx)(Y,{botId:n.botId,organizationId:n.organizationId,setPopUpDialog:x,gupshupIntegrationObj:n,edit:!0})})]})}else"CRM_Callback"===n.channelName&&(D=(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(r.A,{variant:"h6",children:(0,B.jsx)("strong",{children:"CRM Callback URL"})}),i?(0,B.jsx)(v.l1,{initialValues:n,validationSchema:C.Ik().shape({callbackURL:C.Yj().url("Enter valid url!").required("CRM Callback URL is required")}),onSubmit:S,children:e=>{let{errors:n,handleBlur:i,handleChange:t,handleSubmit:o,isSubmitting:r,touched:l,values:s}=e;return(0,B.jsx)("form",{noValidate:!0,onSubmit:o,children:(0,B.jsxs)(a.Ay,{container:!0,spacing:1,children:[(0,B.jsxs)(a.Ay,{item:!0,xs:10,md:10,children:[(0,B.jsx)(d.A,{id:"callbackURL",type:"url",defaultValue:s.callbackURL,name:"callbackURL",onBlur:i,onChange:t,fullWidth:!0,autoComplete:"off",error:Boolean(l.callbackURL&&n.callbackURL)}),l.callbackURL&&n.callbackURL&&(0,B.jsx)(c.A,{error:!0,id:"helper-text-crm-url",children:n.callbackURL})]}),(0,B.jsx)(a.Ay,{item:!0,xs:2,md:2,children:(0,B.jsx)(E.A,{children:(0,B.jsx)(R.A,{isLoading:r,disabled:r,color:"primary",size:"large",type:"submit",variant:"contained",children:"Update"})})}),n.submit&&(0,B.jsx)(a.Ay,{item:!0,xs:12,children:(0,B.jsx)(c.A,{error:!0,children:n.submit})})]})})}}):(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(a.Ay,{container:!0,children:[(0,B.jsx)(a.Ay,{item:!0,xs:10,md:10,children:(0,B.jsxs)(a.Ay,{container:!0,children:[(0,B.jsx)(a.Ay,{item:!0,children:(0,B.jsx)(r.A,{variant:"h6",children:n.callbackURL})}),(0,B.jsxs)(a.Ay,{item:!0,display:"flex",justifyContent:"flex-end",children:[(0,B.jsx)(s.A,{title:"Edit",children:(0,B.jsx)(f.A,{sx:{color:"#3386FF"},size:"small",onClick:()=>o(!0),children:(0,B.jsx)(j.A,{})})}),(0,B.jsx)(s.A,{title:"Delete",children:(0,B.jsx)(f.A,{sx:{color:"#FF5733"},size:"small",onClick:()=>A(!0),children:(0,B.jsx)(b.A,{})})}),(0,B.jsx)(N.A,{title:"Delete CRM callback URL?",open:g,setOpen:A,onConfirm:()=>I(n,"crm callback url"),children:"Confirm the deletion of CRM callback URL."})]})]})}),(0,B.jsx)(a.Ay,{item:!0,xs:2,md:2,children:(0,B.jsx)(E.A,{children:(0,B.jsx)(l.A,{startIcon:(0,B.jsx)(y.A,{}),variant:"outlined",size:"medium",children:(0,B.jsx)(T.CopyToClipboard,{text:n.callbackURL,onCopy:()=>(0,w.i)(!0,"CRM callback URL copied to clipboard","success"),children:(0,B.jsx)("span",{children:"Copy"})})})})})]})}),(0,B.jsxs)(r.A,{variant:"h6",children:[(0,B.jsx)("strong",{children:"Integrated At : "}),_(n.integratedAt)]})]}));return(0,B.jsx)(U.A,{contentSX:{p:2.25},children:(0,B.jsx)(h.A,{style:{padding:0},children:D})})}},70855:(e,n,i)=>{i.d(n,{G:()=>o});var t=i(33340);function o(e){const n=(0,t.nc)(e=>e.selectedBotId),i=(0,t.nc)(i=>i.botsMap[e||n]);return[e||n,i]}},92728:(e,n,i)=>{i.d(n,{A:()=>r});var t=i(9950),o=i(48205),a=i(44414);const r=t.forwardRef(function(e,n){return(0,a.jsx)(o.A,{direction:"up",ref:n,...e})})},93383:(e,n,i)=>{i.d(n,{A:()=>l});var t=i(9950),o=i(10226),a=i(46639),r=i(44414);const l=function(e){let{onClick:n,disabled:i,isLoading:l,children:s,...d}=e;const[c,h]=t.useState(l);return(0,r.jsxs)(o.A,{onClick:e=>{if(!n)return;const i=n(e);"function"===typeof(null===i||void 0===i?void 0:i.finally)&&(h(!0),i.finally(()=>h(!1)))},disabled:c||l||i,...d,children:[(c||l)&&(0,r.jsx)(a.A,{size:16,color:"primary",style:{marginRight:"10px"}}),s]})}}}]);