"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7331],{8478:(e,n,t)=>{t.d(n,{Jt:()=>d,TF:()=>_,bE:()=>l,yJ:()=>u});var o=t(89379),c=t(80045),i=t(32026),a=t(44364);const r=["headers","noAuth"],s=["data"];async function d(e,n){return A("GET",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(e,n){return A("POST",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(e,n){return A("PUT",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function _(e,n){return A("DELETE",e,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function A(e,n,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:a,noAuth:d}=i,l=(0,c.A)(i,r);const u="POST"===e||"PUT"===e||"DELETE"===e;n=function(e,n){if(!e)return e;const t=n&&Object.keys(n);if(null!==t&&void 0!==t&&t.length){const o=t.reduce((e,t)=>{let o=n[t];return null===o||void 0===o?e:(o="".concat(t,"=").concat(encodeURIComponent(o)),e?"".concat(e,"&").concat(o):o)},"");o&&(e="".concat(e).concat(e.includes("?")?"&":"?").concat(o))}if(e.startsWith("https://"))return e;return"".concat(v).concat(e)}(n,u?void 0:t);const _=t instanceof FormData;if(_||(t=t&&"object"===typeof t&&u?JSON.stringify(t):void 0),a||(a={}),_||(a["Content-Type"]="application/json"),a.Accept="application/json",!1!==d){const e=sessionStorage.getItem("token");e&&(a.Authorization="Bearer ".concat(e))}try{const i=await fetch(n,(0,o.A)((0,o.A)({},l),{},{headers:a,body:t,method:e}));if("blob"===l.responseType){const e=await i.blob(),n=function(e,n){var t;const o=e.headers.get("content-disposition");return(null===o||void 0===o||null===(t=o.match(/filename="?([^"]+)"?/))||void 0===t?void 0:t[1])||n||"download.xlsx"}(i,l.fileName);return void function(e,n){const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=n,o.click(),URL.revokeObjectURL(t)}(e,n)}const r=await i.json();if(i.ok){const{data:e}=r,n=(0,c.A)(r,s);return delete n.status,e&&!Object.keys(n).length?e:r}throw r.message?new Error(r.message):r}catch(E){var A;throw console.error("Error calling API: ",E),null!==(A=E.message)&&void 0!==A&&A.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(E.message)}}const v=(0,i.s8)(a.jn,"/")},32026:(e,n,t)=>{t.d(n,{G6:()=>s,Ke:()=>A,OX:()=>l,PE:()=>_,TZ:()=>v,Yq:()=>r,do:()=>u,qW:()=>d,s8:()=>i,wE:()=>E});var o=t(89379),c=t(44364);function i(e,n){return e.replace(new RegExp("".concat(a(n),"+$")),"")}function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(e){const n=new Date(e),t=n.getDate(),o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()],c=n.getFullYear();return"".concat(o," ").concat(t,", ").concat(c)}function s(e,n,t){if(!n&&!e)return t;e=e||{};const c=Array.isArray(e)?[...e]:(0,o.A)({},e);if(n.includes(".")){const o=n.indexOf("."),i=n.substring(0,o),a=n.substring(o+1);c[i]=s(e[i],a,t)}else c[n]=t;return c}function d(e,n){return btoa("".concat(e,"_").concat(n,"_whatsapp_int"))}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const n="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let o=0;o<e;o++)t+=n.charAt(Math.floor(36*Math.random()));return t}function u(e,n,t){if(!n&&!e)return t;e=e||{};const c=Array.isArray(e)?[...e]:(0,o.A)({},e);if(n.includes(".")){const o=n.indexOf("."),i=n.substring(0,o),a=n.substring(o+1);c[i]=u(e[i],a,t)}else c[n]=t;return c}function _(e,n){const t=new Blob([e],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),o=document.createElement("a");o.href=URL.createObjectURL(t),o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o)}function A(e,n){return!n||n.startsWith("http")?n:(n.startsWith("/")&&(n=n.substring(1)),"".concat(c.J,"/").concat(e,"/").concat(n))}function v(e){let n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.getElementsByTagName("head")[0].appendChild(n)),null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.favicon&&(n.href=A(null===e||void 0===e?void 0:e.domain,null===e||void 0===e?void 0:e.favicon)):n.href="/favicon.png"}function E(e){null!==e&&void 0!==e&&e.domain?null!==e&&void 0!==e&&e.displayName&&(document.title=null===e||void 0===e?void 0:e.displayName):document.title="LivServ"}},32829:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(79875),c=t(44414);function i(e){let{children:n,type:t}=e;return(0,c.jsx)(o.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:n})}i.defaultProps={type:"scale"}},44364:(e,n,t)=>{t.d(n,{DX:()=>d,E1:()=>u,J:()=>s,Og:()=>i,Rc:()=>l,jn:()=>o,mB:()=>r,pA:()=>a,pR:()=>c});const o="https://devbackend.livhousing.com",c="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.TRAINING_MEDIA_MAXSIZE,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.CONVERSATION_MEDIA_MAXSIZE,r="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s="https://livserv-organizations.s3.ap-south-1.amazonaws.com",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com/voice/ws"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com",l="https://devbackend.livhousing.com/",u="wss://devbackend.livhousing.com/voice/ws"},57331:(e,n,t)=>{t.r(n),t.d(n,{default:()=>l});var o=t(9950),c=t(60899),i=t(8478),a=t(32829),r=t(93383),s=t(28429),d=t(44414);const l=function(){var e;const{invoiceId:n}=(0,s.g)(),[t,l]=o.useState(),[u,_]=o.useState();if(o.useEffect(()=>{!async function(e){let n=document.querySelector('script[id="razorpay-script"]');if(n)return!0;new Promise(t=>{n=document.createElement("script"),n.id="razorpay-script",n.src=e,n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},document.body.appendChild(n)})}("https://checkout.razorpay.com/v1/checkout.js")},[]),o.useEffect(()=>{i.Jt("/organization/invoice/view/".concat(n)).then(l)},[n]),t)return(0,d.jsxs)(c.Ay,{item:!0,xs:12,children:[(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{src:t.pdfUrl,title:"View Invoice",style:{width:"100%",height:t.isPaid?"calc(100vh - 12px)":"calc(100vh - 60px)"}})}),!t.isPaid&&(0,d.jsx)(c.Ay,{item:!0,xs:12,children:(0,d.jsx)("div",{style:{width:"260px",marginLeft:"auto",padding:"5px 25px"},children:(0,d.jsx)(a.A,{children:(0,d.jsxs)(r.A,{disableElevation:!0,isLoading:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{_(!0);const e=await i.bE("/organization/invoice/".concat(t.invoiceId,"/make-payment"));new window.Razorpay(e).open(),_(!1)},children:["Pay ",t.currencyPrefix," ",null===(e=t.amount)||void 0===e?void 0:e.toFixed(2)]})})})})]})}},93383:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(89379),c=t(80045),i=t(9950),a=t(10226),r=t(46639),s=t(44414);const d=["onClick","disabled","isLoading","children"];const l=function(e){let{onClick:n,disabled:t,isLoading:l,children:u}=e,_=(0,c.A)(e,d);const[A,v]=i.useState(l);return(0,s.jsxs)(a.A,(0,o.A)((0,o.A)({onClick:e=>{if(!n)return;const t=n(e);"function"===typeof(null===t||void 0===t?void 0:t.finally)&&(v(!0),t.finally(()=>v(!1)))},disabled:A||l||t},_),{},{children:[(A||l)&&(0,s.jsx)(r.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}}}]);