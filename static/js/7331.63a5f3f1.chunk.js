"use strict";(self.webpackChunklib_prop_ui=self.webpackChunklib_prop_ui||[]).push([[7331],{8478:(n,t,e)=>{e.d(t,{Jt:()=>d,TF:()=>_,bE:()=>l,yJ:()=>u});var c=e(89379),o=e(80045),i=e(32026),a=e(44364);const r=["headers","noAuth"],s=["data"];async function d(n,t){return A("GET",n,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function l(n,t){return A("POST",n,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function u(n,t){return A("PUT",n,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function _(n,t){return A("DELETE",n,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}async function A(n,t,e){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{headers:a,noAuth:d}=i,l=(0,o.A)(i,r);const u="POST"===n||"PUT"===n||"DELETE"===n;t=function(n,t){if(!n)return n;const e=t&&Object.keys(t);if(null!==e&&void 0!==e&&e.length){const c=e.reduce((n,e)=>{let c=t[e];return null===c||void 0===c?n:(c="".concat(e,"=").concat(encodeURIComponent(c)),n?"".concat(n,"&").concat(c):c)},"");c&&(n="".concat(n).concat(n.includes("?")?"&":"?").concat(c))}if(n.startsWith("https://"))return n;return"".concat(E).concat(n)}(t,u?void 0:e);const _=e instanceof FormData;if(_||(e=e&&"object"===typeof e&&u?JSON.stringify(e):void 0),a||(a={}),_||(a["Content-Type"]="application/json"),a.Accept="application/json",!1!==d){const n=sessionStorage.getItem("token");n&&(a.Authorization="Bearer ".concat(n))}try{const i=await fetch(t,(0,c.A)((0,c.A)({},l),{},{headers:a,body:e,method:n})),r=await i.json();if(i.ok){const{data:n}=r,t=(0,o.A)(r,s);return delete t.status,n&&!Object.keys(t).length?n:r}throw r.message?new Error(r.message):r}catch(v){var A;throw console.error("Error calling API: ",v),null!==(A=v.message)&&void 0!==A&&A.includes("fetch")?new Error("Unable to reach server. Please check your network connectivity and try again."):new Error(v.message)}}const E=(0,i.s8)(a.jn,"/")},32026:(n,t,e)=>{e.d(t,{G6:()=>s,Ke:()=>A,OX:()=>l,PE:()=>_,TZ:()=>E,Yq:()=>r,do:()=>u,qW:()=>d,s8:()=>i,wE:()=>v});var c=e(89379),o=e(44364);function i(n,t){return n.replace(new RegExp("".concat(a(t),"+$")),"")}function a(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(n){const t=new Date(n),e=t.getDate(),c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],o=t.getFullYear();return"".concat(c," ").concat(e,", ").concat(o)}function s(n,t,e){if(!t&&!n)return e;n=n||{};const o=Array.isArray(n)?[...n]:(0,c.A)({},n);if(t.includes(".")){const c=t.indexOf("."),i=t.substring(0,c),a=t.substring(c+1);o[i]=s(n[i],a,e)}else o[t]=e;return o}function d(n,t){return btoa("".concat(n,"_").concat(t,"_whatsapp_int"))}function l(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t="abcdefghijklmnopqrstuvwxyz0123456789";let e="";for(let c=0;c<n;c++)e+=t.charAt(Math.floor(36*Math.random()));return e}function u(n,t,e){if(!t&&!n)return e;n=n||{};const o=Array.isArray(n)?[...n]:(0,c.A)({},n);if(t.includes(".")){const c=t.indexOf("."),i=t.substring(0,c),a=t.substring(c+1);o[i]=u(n[i],a,e)}else o[t]=e;return o}function _(n,t){const e=new Blob([n],{type:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/csv"}),c=document.createElement("a");c.href=URL.createObjectURL(e),c.download=t,document.body.appendChild(c),c.click(),document.body.removeChild(c)}function A(n,t){return!t||t.startsWith("http")?t:(t.startsWith("/")&&(t=t.substring(1)),"".concat(o.J,"/").concat(n,"/").concat(t))}function E(n){let t=document.querySelector("link[rel~='icon']");t||(t=document.createElement("link"),t.rel="icon",document.getElementsByTagName("head")[0].appendChild(t)),null!==n&&void 0!==n&&n.domain?null!==n&&void 0!==n&&n.favicon&&(t.href=A(null===n||void 0===n?void 0:n.domain,null===n||void 0===n?void 0:n.favicon)):t.href="/favicon.png"}function v(n){null!==n&&void 0!==n&&n.domain?null!==n&&void 0!==n&&n.displayName&&(document.title=null===n||void 0===n?void 0:n.displayName):document.title="LivServ"}},32829:(n,t,e)=>{e.d(t,{A:()=>i});var c=e(79875),o=e(44414);function i(n){let{children:t,type:e}=n;return(0,o.jsx)(c.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:t})}i.defaultProps={type:"scale"}},44364:(n,t,e)=>{e.d(t,{DX:()=>d,E1:()=>u,J:()=>s,Og:()=>i,Rc:()=>l,jn:()=>c,mB:()=>r,pA:()=>a,pR:()=>o});const c="https://devbackend.livhousing.com:444",o="c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",i={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/ws"}.TRAINING_MEDIA_MAXSIZE,a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/ws"}.CONVERSATION_MEDIA_MAXSIZE,r="AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",s="https://livserv-organizations.s3.ap-south-1.amazonaws.com",d={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_WEB_SOCKET_AUTH_KEY:"wFSMmt7sfsbNJLabQvVdKNrjga6diuvwuLaD3to2RbQ=",REACT_APP_RVM_BACKEND_URL:"https://devbackend.livhousing.com:444/",REACT_APP_IP_DATA_API_KEY:"c17b949cf58c45cae47ce1cc65efc8240f77a2a69ca09ad4c4208852",REACT_APP_VERSION:"1",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyAQMYGdP2AmloNtJm4ZDrJxPuSfuo2RSXM",REACT_APP_BACKEND_URL:"https://devbackend.livhousing.com:444",REACT_APP_RVM_WEB_SOCKET_URL:"wss://devbackend.livhousing.com:444/ws"}.REACT_APP_NGROK_BACKEND_URL||"https://devbackend.livhousing.com:444",l="https://devbackend.livhousing.com:444/",u="wss://devbackend.livhousing.com:444/ws"},57331:(n,t,e)=>{e.r(t),e.d(t,{default:()=>l});var c=e(9950),o=e(60899),i=e(8478),a=e(32829),r=e(93383),s=e(28429),d=e(44414);const l=function(){var n;const{invoiceId:t}=(0,s.g)(),[e,l]=c.useState(),[u,_]=c.useState();if(c.useEffect(()=>{!async function(n){let t=document.querySelector('script[id="razorpay-script"]');if(t)return!0;new Promise(e=>{t=document.createElement("script"),t.id="razorpay-script",t.src=n,t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},document.body.appendChild(t)})}("https://checkout.razorpay.com/v1/checkout.js")},[]),c.useEffect(()=>{i.Jt("/organization/invoice/view/".concat(t)).then(l)},[t]),e)return(0,d.jsxs)(o.Ay,{item:!0,xs:12,children:[(0,d.jsx)("div",{children:(0,d.jsx)("iframe",{src:e.pdfUrl,title:"View Invoice",style:{width:"100%",height:e.isPaid?"calc(100vh - 12px)":"calc(100vh - 60px)"}})}),!e.isPaid&&(0,d.jsx)(o.Ay,{item:!0,xs:12,children:(0,d.jsx)("div",{style:{width:"260px",marginLeft:"auto",padding:"5px 25px"},children:(0,d.jsx)(a.A,{children:(0,d.jsxs)(r.A,{disableElevation:!0,isLoading:u,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",onClick:async()=>{_(!0);const n=await i.bE("/organization/invoice/".concat(e.invoiceId,"/make-payment"));new window.Razorpay(n).open(),_(!1)},children:["Pay ",e.currencyPrefix," ",null===(n=e.amount)||void 0===n?void 0:n.toFixed(2)]})})})})]})}},93383:(n,t,e)=>{e.d(t,{A:()=>l});var c=e(89379),o=e(80045),i=e(9950),a=e(10226),r=e(46639),s=e(44414);const d=["onClick","disabled","isLoading","children"];const l=function(n){let{onClick:t,disabled:e,isLoading:l,children:u}=n,_=(0,o.A)(n,d);const[A,E]=i.useState(l);return(0,s.jsxs)(a.A,(0,c.A)((0,c.A)({onClick:n=>{if(!t)return;const e=t(n);"function"===typeof(null===e||void 0===e?void 0:e.finally)&&(E(!0),e.finally(()=>E(!1)))},disabled:A||l||e},_),{},{children:[(A||l)&&(0,s.jsx)(r.A,{size:16,color:"primary",style:{marginRight:"10px"}}),u]}))}}}]);